/*!
 * elFinder - file manager for web
 * Version 2.0 rc1 (2012-04-10)
 * http://elfinder.org
 * 
 * Copyright 2009-2012, Studio 42
 * Licensed under a 3 clauses BSD license
 */
 if (typeof jwplayer == "undefined") {
 	var jwplayer = function (a) {
 		if (jwplayer.api) {
 			return jwplayer.api.selectPlayer(a)
 		}
 	};
 	var $jw = jwplayer;
 	jwplayer.version = "5.8.2011";
 	jwplayer.vid = document.createElement("video");
 	jwplayer.audio = document.createElement("audio");
 	jwplayer.source = document.createElement("source");
 	(function (b) {
 		b.utils = function () {};
 		b.utils.typeOf = function (d) {
 			var c = typeof d;
 			if (c === "object") {
 				if (d) {
 					if (d instanceof Array) {
 						c = "array"
 					}
 				} else {
 					c = "null"
 				}
 			}
 			return c
 		};
 		b.utils.extend = function () {
 			var c = b.utils.extend["arguments"];
 			if (c.length > 1) {
 				for (var e = 1; e < c.length; e++) {
 					for (var d in c[e]) {
 						c[0][d] = c[e][d]
 					}
 				}
 				return c[0]
 			}
 			return null
 		};
 		b.utils.clone = function (f) {
 			var c;
 			var d = b.utils.clone["arguments"];
 			if (d.length == 1) {
 				switch (b.utils.typeOf(d[0])) {
 					case "object":
 					c = {};
 					for (var e in d[0]) {
 						c[e] = b.utils.clone(d[0][e])
 					}
 					break;
 					case "array":
 					c = [];
 					for (var e in d[0]) {
 						c[e] = b.utils.clone(d[0][e])
 					}
 					break;
 					default:
 					return d[0];
 					break
 				}
 			}
 			return c
 		};
 		b.utils.extension = function (c) {
 			if (!c) {
 				return ""
 			}
 			c = c.substring(c.lastIndexOf("/") + 1, c.length);
 			c = c.split("?")[0];
 			if (c.lastIndexOf(".") > -1) {
 				return c.substr(c.lastIndexOf(".") + 1, c.length).toLowerCase()
 			}
 			return
 		};
 		b.utils.html = function (c, d) {
 			c.innerHTML = d
 		};
 		b.utils.wrap = function (c, d) {
 			if (c.parentNode) {
 				c.parentNode.replaceChild(d, c)
 			}
 			d.appendChild(c)
 		};
 		b.utils.ajax = function (g, f, c) {
 			var e;
 			if (window.XMLHttpRequest) {
 				e = new XMLHttpRequest()
 			} else {
 				e = new ActiveXObject("Microsoft.XMLHTTP")
 			}
 			e.onreadystatechange = function () {
 				if (e.readyState === 4) {
 					if (e.status === 200) {
 						if (f) {
 							if (!b.utils.exists(e.responseXML)) {
 								try {
 									if (window.DOMParser) {
 										var h = (new DOMParser()).parseFromString(e.responseText, "text/xml");
 										if (h) {
 											e = b.utils.extend({}, e, {
 												responseXML: h
 											})
 										}
 									} else {
 										h = new ActiveXObject("Microsoft.XMLDOM");
 										h.async = "false";
 										h.loadXML(e.responseText);
 										e = b.utils.extend({}, e, {
 											responseXML: h
 										})
 									}
 								} catch (j) {
 									if (c) {
 										c(g)
 									}
 								}
 							}
 							f(e)
 						}
 					} else {
 						if (c) {
 							c(g)
 						}
 					}
 				}
 			};
 			try {
 				e.open("GET", g, true);
 				e.send(null)
 			} catch (d) {
 				if (c) {
 					c(g)
 				}
 			}
 			return e
 		};
 		b.utils.load = function (d, e, c) {
 			d.onreadystatechange = function () {
 				if (d.readyState === 4) {
 					if (d.status === 200) {
 						if (e) {
 							e()
 						}
 					} else {
 						if (c) {
 							c()
 						}
 					}
 				}
 			}
 		};
 		b.utils.find = function (d, c) {
 			return d.getElementsByTagName(c)
 		};
 		b.utils.append = function (c, d) {
 			c.appendChild(d)
 		};
 		b.utils.isIE = function () {
 			return ((!+"\v1") || (typeof window.ActiveXObject != "undefined"))
 		};
 		b.utils.userAgentMatch = function (d) {
 			var c = navigator.userAgent.toLowerCase();
 			return (c.match(d) !== null)
 		};
 		b.utils.isIOS = function () {
 			return b.utils.userAgentMatch(/iP(hone|ad|od)/i)
 		};
 		b.utils.isIPad = function () {
 			return b.utils.userAgentMatch(/iPad/i)
 		};
 		b.utils.isIPod = function () {
 			return b.utils.userAgentMatch(/iP(hone|od)/i)
 		};
 		b.utils.isAndroid = function () {
 			return b.utils.userAgentMatch(/android/i)
 		};
 		b.utils.isLegacyAndroid = function () {
 			return b.utils.userAgentMatch(/android 2.[012]/i)
 		};
 		b.utils.isBlackberry = function () {
 			return b.utils.userAgentMatch(/blackberry/i)
 		};
 		b.utils.isMobile = function () {
 			return b.utils.isIOS()
 		};
 		b.utils.getFirstPlaylistItemFromConfig = function (c) {
 			var d = {};
 			var e;
 			if (c.playlist && c.playlist.length) {
 				e = c.playlist[0]
 			} else {
 				e = c
 			}
 			d.file = e.file;
 			d.levels = e.levels;
 			d.streamer = e.streamer;
 			d.playlistfile = e.playlistfile;
 			d.provider = e.provider;
 			if (!d.provider) {
 				if (d.file && (d.file.toLowerCase().indexOf("youtube.com") > -1 || d.file.toLowerCase().indexOf("youtu.be") > -1)) {
 					d.provider = "youtube"
 				}
 				if (d.streamer && d.streamer.toLowerCase().indexOf("rtmp://") == 0) {
 					d.provider = "rtmp"
 				}
 				if (e.type) {
 					d.provider = e.type.toLowerCase()
 				}
 			}
 			if (d.provider == "audio") {
 				d.provider = "sound"
 			}
 			return d
 		};
 		b.utils.getOuterHTML = function (c) {
 			if (c.outerHTML) {
 				return c.outerHTML
 			} else {
 				try {
 					return new XMLSerializer().serializeToString(c)
 				} catch (d) {
 					return ""
 				}
 			}
 		};
 		b.utils.setOuterHTML = function (f, e) {
 			if (f.outerHTML) {
 				f.outerHTML = e
 			} else {
 				var g = document.createElement("div");
 				g.innerHTML = e;
 				var c = document.createRange();
 				c.selectNodeContents(g);
 				var d = c.extractContents();
 				f.parentNode.insertBefore(d, f);
 				f.parentNode.removeChild(f)
 			}
 		};
 		b.utils.hasFlash = function () {
 			if (typeof navigator.plugins != "undefined" && typeof navigator.plugins["Shockwave Flash"] != "undefined") {
 				return true
 			}
 			if (typeof window.ActiveXObject != "undefined") {
 				try {
 					new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
 					return true
 				} catch (c) {}
 			}
 			return false
 		};
 		b.utils.getPluginName = function (c) {
 			if (c.lastIndexOf("/") >= 0) {
 				c = c.substring(c.lastIndexOf("/") + 1, c.length)
 			}
 			if (c.lastIndexOf("-") >= 0) {
 				c = c.substring(0, c.lastIndexOf("-"))
 			}
 			if (c.lastIndexOf(".swf") >= 0) {
 				c = c.substring(0, c.lastIndexOf(".swf"))
 			}
 			if (c.lastIndexOf(".js") >= 0) {
 				c = c.substring(0, c.lastIndexOf(".js"))
 			}
 			return c
 		};
 		b.utils.getPluginVersion = function (c) {
 			if (c.lastIndexOf("-") >= 0) {
 				if (c.lastIndexOf(".js") >= 0) {
 					return c.substring(c.lastIndexOf("-") + 1, c.lastIndexOf(".js"))
 				} else {
 					if (c.lastIndexOf(".swf") >= 0) {
 						return c.substring(c.lastIndexOf("-") + 1, c.lastIndexOf(".swf"))
 					} else {
 						return c.substring(c.lastIndexOf("-") + 1)
 					}
 				}
 			}
 			return ""
 		};
 		b.utils.getAbsolutePath = function (j, h) {
 			if (!b.utils.exists(h)) {
 				h = document.location.href
 			}
 			if (!b.utils.exists(j)) {
 				return undefined
 			}
 			if (a(j)) {
 				return j
 			}
 			var k = h.substring(0, h.indexOf("://") + 3);
 			var g = h.substring(k.length, h.indexOf("/", k.length + 1));
 			var d;
 			if (j.indexOf("/") === 0) {
 				d = j.split("/")
 			} else {
 				var e = h.split("?")[0];
 				e = e.substring(k.length + g.length + 1, e.lastIndexOf("/"));
 				d = e.split("/").concat(j.split("/"))
 			}
 			var c = [];
 			for (var f = 0; f < d.length; f++) {
 				if (!d[f] || !b.utils.exists(d[f]) || d[f] == ".") {
 					continue
 				} else {
 					if (d[f] == "..") {
 						c.pop()
 					} else {
 						c.push(d[f])
 					}
 				}
 			}
 			return k + g + "/" + c.join("/")
 		};

 		function a(d) {
 			if (!b.utils.exists(d)) {
 				return
 			}
 			var e = d.indexOf("://");
 			var c = d.indexOf("?");
 			return (e > 0 && (c < 0 || (c > e)))
 		}
 		b.utils.pluginPathType = {
 			ABSOLUTE: "ABSOLUTE",
 			RELATIVE: "RELATIVE",
 			CDN: "CDN"
 		};
 		b.utils.getPluginPathType = function (d) {
 			if (typeof d != "string") {
 				return
 			}
 			d = d.split("?")[0];
 			var e = d.indexOf("://");
 			if (e > 0) {
 				return b.utils.pluginPathType.ABSOLUTE
 			}
 			var c = d.indexOf("/");
 			var f = b.utils.extension(d);
 			if (e < 0 && c < 0 && (!f || !isNaN(f))) {
 				return b.utils.pluginPathType.CDN
 			}
 			return b.utils.pluginPathType.RELATIVE
 		};
 		b.utils.mapEmpty = function (c) {
 			for (var d in c) {
 				return false
 			}
 			return true
 		};
 		b.utils.mapLength = function (d) {
 			var c = 0;
 			for (var e in d) {
 				c++
 			}
 			return c
 		};
 		b.utils.log = function (d, c) {
 			if (typeof console != "undefined" && typeof console.log != "undefined") {
 				if (c) {
 					console.log(d, c)
 				} else {
 					console.log(d)
 				}
 			}
 		};
 		b.utils.css = function (d, g, c) {
 			if (b.utils.exists(d)) {
 				for (var e in g) {
 					try {
 						if (typeof g[e] === "undefined") {
 							continue
 						} else {
 							if (typeof g[e] == "number" && !(e == "zIndex" || e == "opacity")) {
 								if (isNaN(g[e])) {
 									continue
 								}
 								if (e.match(/color/i)) {
 									g[e] = "#" + b.utils.strings.pad(g[e].toString(16), 6)
 								} else {
 									g[e] = Math.ceil(g[e]) + "px"
 								}
 							}
 						}
 						d.style[e] = g[e]
 					} catch (f) {}
 				}
 			}
 		};
 		b.utils.isYouTube = function (c) {
 			return (c.indexOf("youtube.com") > -1 || c.indexOf("youtu.be") > -1)
 		};
 		b.utils.transform = function (e, d, c, g, h) {
 			if (!b.utils.exists(d)) {
 				d = 1
 			}
 			if (!b.utils.exists(c)) {
 				c = 1
 			}
 			if (!b.utils.exists(g)) {
 				g = 0
 			}
 			if (!b.utils.exists(h)) {
 				h = 0
 			}
 			if (d == 1 && c == 1 && g == 0 && h == 0) {
 				e.style.webkitTransform = "";
 				e.style.MozTransform = "";
 				e.style.OTransform = ""
 			} else {
 				var f = "scale(" + d + "," + c + ") translate(" + g + "px," + h + "px)";
 				e.style.webkitTransform = f;
 				e.style.MozTransform = f;
 				e.style.OTransform = f
 			}
 		};
 		b.utils.stretch = function (j, p, o, f, m, g) {
 			if (typeof o == "undefined" || typeof f == "undefined" || typeof m == "undefined" || typeof g == "undefined") {
 				return
 			}
 			var d = o / m;
 			var e = f / g;
 			var l = 0;
 			var k = 0;
 			var c = {};
 			if (p.parentElement) {
 				p.parentElement.style.overflow = "hidden"
 			}
 			b.utils.transform(p);
 			switch (j.toUpperCase()) {
 				case b.utils.stretching.NONE:
 				c.width = m;
 				c.height = g;
 				c.top = (f - c.height) / 2;
 				c.left = (o - c.width) / 2;
 				break;
 				case b.utils.stretching.UNIFORM:
 				if (d > e) {
 					c.width = m * e;
 					c.height = g * e
 				} else {
 					c.width = m * d;
 					c.height = g * d
 				}
 				c.top = (f - c.height) / 2;
 				c.left = (o - c.width) / 2;
 				break;
 				case b.utils.stretching.FILL:
 				if (d > e) {
 					c.width = m * d;
 					c.height = g * d
 				} else {
 					c.width = m * e;
 					c.height = g * e
 				}
 				c.top = (f - c.height) / 2;
 				c.left = (o - c.width) / 2;
 				break;
 				case b.utils.stretching.EXACTFIT:
 				c.width = m;
 				c.height = g;
 				var n = Math.round((m / 2) * (1 - 1 / d));
 				var h = Math.round((g / 2) * (1 - 1 / e));
 				b.utils.transform(p, d, e, n, h);
 				c.top = c.left = 0;
 				break;
 				default:
 				break
 			}
 			b.utils.css(p, c)
 		};
 		b.utils.stretching = {
 			NONE: "NONE",
 			FILL: "FILL",
 			UNIFORM: "UNIFORM",
 			EXACTFIT: "EXACTFIT"
 		};
 		b.utils.deepReplaceKeyName = function (h, e, c) {
 			switch (b.utils.typeOf(h)) {
 				case "array":
 				for (var g = 0; g < h.length; g++) {
 					h[g] = b.utils.deepReplaceKeyName(h[g], e, c)
 				}
 				break;
 				case "object":
 				for (var f in h) {
 					var d = f.replace(new RegExp(e, "g"), c);
 					h[d] = b.utils.deepReplaceKeyName(h[f], e, c);
 					if (f != d) {
 						delete h[f]
 					}
 				}
 				break
 			}
 			return h
 		};
 		b.utils.isInArray = function (e, d) {
 			if (!(e) || !(e instanceof Array)) {
 				return false
 			}
 			for (var c = 0; c < e.length; c++) {
 				if (d === e[c]) {
 					return true
 				}
 			}
 			return false
 		};
 		b.utils.exists = function (c) {
 			switch (typeof(c)) {
 				case "string":
 				return (c.length > 0);
 				break;
 				case "object":
 				return (c !== null);
 				case "undefined":
 				return false
 			}
 			return true
 		};
 		b.utils.empty = function (c) {
 			if (typeof c.hasChildNodes == "function") {
 				while (c.hasChildNodes()) {
 					c.removeChild(c.firstChild)
 				}
 			}
 		};
 		b.utils.parseDimension = function (c) {
 			if (typeof c == "string") {
 				if (c === "") {
 					return 0
 				} else {
 					if (c.lastIndexOf("%") > -1) {
 						return c
 					} else {
 						return parseInt(c.replace("px", ""), 10)
 					}
 				}
 			}
 			return c
 		};
 		b.utils.getDimensions = function (c) {
 			if (c && c.style) {
 				return {
 					x: b.utils.parseDimension(c.style.left),
 					y: b.utils.parseDimension(c.style.top),
 					width: b.utils.parseDimension(c.style.width),
 					height: b.utils.parseDimension(c.style.height)
 				}
 			} else {
 				return {}
 			}
 		};
 		b.utils.getElementWidth = function (c) {
 			if (!c) {
 				return null
 			} else {
 				if (c == document.body) {
 					return b.utils.parentNode(c).clientWidth
 				} else {
 					if (c.clientWidth > 0) {
 						return c.clientWidth
 					} else {
 						if (c.style) {
 							return b.utils.parseDimension(c.style.width)
 						} else {
 							return null
 						}
 					}
 				}
 			}
 		};
 		b.utils.getElementHeight = function (c) {
 			if (!c) {
 				return null
 			} else {
 				if (c == document.body) {
 					return b.utils.parentNode(c).clientHeight
 				} else {
 					if (c.clientHeight > 0) {
 						return c.clientHeight
 					} else {
 						if (c.style) {
 							return b.utils.parseDimension(c.style.height)
 						} else {
 							return null
 						}
 					}
 				}
 			}
 		};
 		b.utils.timeFormat = function (c) {
 			str = "00:00";
 			if (c > 0) {
 				str = Math.floor(c / 60) < 10 ? "0" + Math.floor(c / 60) + ":" : Math.floor(c / 60) + ":";
 				str += Math.floor(c % 60) < 10 ? "0" + Math.floor(c % 60) : Math.floor(c % 60)
 			}
 			return str
 		};
 		b.utils.useNativeFullscreen = function () {
 			return (navigator && navigator.vendor && navigator.vendor.indexOf("Apple") == 0)
 		};
 		b.utils.parentNode = function (c) {
 			if (!c) {
 				return docuemnt.body
 			} else {
 				if (c.parentNode) {
 					return c.parentNode
 				} else {
 					if (c.parentElement) {
 						return c.parentElement
 					} else {
 						return c
 					}
 				}
 			}
 		};
 		b.utils.getBoundingClientRect = function (c) {
 			if (typeof c.getBoundingClientRect == "function") {
 				return c.getBoundingClientRect()
 			} else {
 				return {
 					left: c.offsetLeft + document.body.scrollLeft,
 					top: c.offsetTop + document.body.scrollTop,
 					width: c.offsetWidth,
 					height: c.offsetHeight
 				}
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		a.events = function () {};
 		a.events.COMPLETE = "COMPLETE";
 		a.events.ERROR = "ERROR"
 	})(jwplayer);
 	(function (jwplayer) {
 		jwplayer.events.eventdispatcher = function (debug) {
 			var _debug = debug;
 			var _listeners;
 			var _globallisteners;
 			this.resetEventListeners = function () {
 				_listeners = {};
 				_globallisteners = []
 			};
 			this.resetEventListeners();
 			this.addEventListener = function (type, listener, count) {
 				try {
 					if (!jwplayer.utils.exists(_listeners[type])) {
 						_listeners[type] = []
 					}
 					if (typeof(listener) == "string") {
 						eval("listener = " + listener)
 					}
 					_listeners[type].push({
 						listener: listener,
 						count: count
 					})
 				} catch (err) {
 					jwplayer.utils.log("error", err)
 				}
 				return false
 			};
 			this.removeEventListener = function (type, listener) {
 				if (!_listeners[type]) {
 					return
 				}
 				try {
 					for (var listenerIndex = 0; listenerIndex < _listeners[type].length; listenerIndex++) {
 						if (_listeners[type][listenerIndex].listener.toString() == listener.toString()) {
 							_listeners[type].splice(listenerIndex, 1);
 							break
 						}
 					}
 				} catch (err) {
 					jwplayer.utils.log("error", err)
 				}
 				return false
 			};
 			this.addGlobalListener = function (listener, count) {
 				try {
 					if (typeof(listener) == "string") {
 						eval("listener = " + listener)
 					}
 					_globallisteners.push({
 						listener: listener,
 						count: count
 					})
 				} catch (err) {
 					jwplayer.utils.log("error", err)
 				}
 				return false
 			};
 			this.removeGlobalListener = function (listener) {
 				if (!_globallisteners[type]) {
 					return
 				}
 				try {
 					for (var globalListenerIndex = 0; globalListenerIndex < _globallisteners.length; globalListenerIndex++) {
 						if (_globallisteners[globalListenerIndex].listener.toString() == listener.toString()) {
 							_globallisteners.splice(globalListenerIndex, 1);
 							break
 						}
 					}
 				} catch (err) {
 					jwplayer.utils.log("error", err)
 				}
 				return false
 			};
 			this.sendEvent = function (type, data) {
 				if (!jwplayer.utils.exists(data)) {
 					data = {}
 				}
 				if (_debug) {
 					jwplayer.utils.log(type, data)
 				}
 				if (typeof _listeners[type] != "undefined") {
 					for (var listenerIndex = 0; listenerIndex < _listeners[type].length; listenerIndex++) {
 						try {
 							_listeners[type][listenerIndex].listener(data)
 						} catch (err) {
 							jwplayer.utils.log("There was an error while handling a listener: " + err.toString(), _listeners[type][listenerIndex].listener)
 						}
 						if (_listeners[type][listenerIndex]) {
 							if (_listeners[type][listenerIndex].count === 1) {
 								delete _listeners[type][listenerIndex]
 							} else {
 								if (_listeners[type][listenerIndex].count > 0) {
 									_listeners[type][listenerIndex].count = _listeners[type][listenerIndex].count - 1
 								}
 							}
 						}
 					}
 				}
 				for (var globalListenerIndex = 0; globalListenerIndex < _globallisteners.length; globalListenerIndex++) {
 					try {
 						_globallisteners[globalListenerIndex].listener(data)
 					} catch (err) {
 						jwplayer.utils.log("There was an error while handling a listener: " + err.toString(), _globallisteners[globalListenerIndex].listener)
 					}
 					if (_globallisteners[globalListenerIndex]) {
 						if (_globallisteners[globalListenerIndex].count === 1) {
 							delete _globallisteners[globalListenerIndex]
 						} else {
 							if (_globallisteners[globalListenerIndex].count > 0) {
 								_globallisteners[globalListenerIndex].count = _globallisteners[globalListenerIndex].count - 1
 							}
 						}
 					}
 				}
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		var b = {};
 		a.utils.animations = function () {};
 		a.utils.animations.transform = function (c, d) {
 			c.style.webkitTransform = d;
 			c.style.MozTransform = d;
 			c.style.OTransform = d;
 			c.style.msTransform = d
 		};
 		a.utils.animations.transformOrigin = function (c, d) {
 			c.style.webkitTransformOrigin = d;
 			c.style.MozTransformOrigin = d;
 			c.style.OTransformOrigin = d;
 			c.style.msTransformOrigin = d
 		};
 		a.utils.animations.rotate = function (c, d) {
 			a.utils.animations.transform(c, ["rotate(", d, "deg)"].join(""))
 		};
 		a.utils.cancelAnimation = function (c) {
 			delete b[c.id]
 		};
 		a.utils.fadeTo = function (m, f, e, j, h, d) {
 			if (b[m.id] != d && a.utils.exists(d)) {
 				return
 			}
 			if (m.style.opacity == f) {
 				return
 			}
 			var c = new Date().getTime();
 			if (d > c) {
 				setTimeout(function () {
 					a.utils.fadeTo(m, f, e, j, 0, d)
 				}, d - c)
 			}
 			if (m.style.display == "none") {
 				m.style.display = "block"
 			}
 			if (!a.utils.exists(j)) {
 				j = m.style.opacity === "" ? 1 : m.style.opacity
 			}
 			if (m.style.opacity == f && m.style.opacity !== "" && a.utils.exists(d)) {
 				if (f === 0) {
 					m.style.display = "none"
 				}
 				return
 			}
 			if (!a.utils.exists(d)) {
 				d = c;
 				b[m.id] = d
 			}
 			if (!a.utils.exists(h)) {
 				h = 0
 			}
 			var k = (e > 0) ? ((c - d) / (e * 1000)) : 0;
 			k = k > 1 ? 1 : k;
 			var l = f - j;
 			var g = j + (k * l);
 			if (g > 1) {
 				g = 1
 			} else {
 				if (g < 0) {
 					g = 0
 				}
 			}
 			m.style.opacity = g;
 			if (h > 0) {
 				b[m.id] = d + h * 1000;
 				a.utils.fadeTo(m, f, e, j, 0, b[m.id]);
 				return
 			}
 			setTimeout(function () {
 				a.utils.fadeTo(m, f, e, j, 0, d)
 			}, 10)
 		}
 	})(jwplayer);
 	(function (a) {
 		a.utils.arrays = function () {};
 		a.utils.arrays.indexOf = function (c, d) {
 			for (var b = 0; b < c.length; b++) {
 				if (c[b] == d) {
 					return b
 				}
 			}
 			return -1
 		};
 		a.utils.arrays.remove = function (c, d) {
 			var b = a.utils.arrays.indexOf(c, d);
 			if (b > -1) {
 				c.splice(b, 1)
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		a.utils.extensionmap = {
 			"3gp": {
 				html5: "video/3gpp",
 				flash: "video"
 			},
 			"3gpp": {
 				html5: "video/3gpp"
 			},
 			"3g2": {
 				html5: "video/3gpp2",
 				flash: "video"
 			},
 			"3gpp2": {
 				html5: "video/3gpp2"
 			},
 			flv: {
 				flash: "video"
 			},
 			f4a: {
 				html5: "audio/mp4"
 			},
 			f4b: {
 				html5: "audio/mp4",
 				flash: "video"
 			},
 			f4v: {
 				html5: "video/mp4",
 				flash: "video"
 			},
 			mov: {
 				html5: "video/quicktime",
 				flash: "video"
 			},
 			m4a: {
 				html5: "audio/mp4",
 				flash: "video"
 			},
 			m4b: {
 				html5: "audio/mp4"
 			},
 			m4p: {
 				html5: "audio/mp4"
 			},
 			m4v: {
 				html5: "video/mp4",
 				flash: "video"
 			},
 			mp4: {
 				html5: "video/mp4",
 				flash: "video"
 			},
 			rbs: {
 				flash: "sound"
 			},
 			aac: {
 				html5: "audio/aac",
 				flash: "video"
 			},
 			mp3: {
 				html5: "audio/mp3",
 				flash: "sound"
 			},
 			ogg: {
 				html5: "audio/ogg"
 			},
 			oga: {
 				html5: "audio/ogg"
 			},
 			ogv: {
 				html5: "video/ogg"
 			},
 			webm: {
 				html5: "video/webm"
 			},
 			m3u8: {
 				html5: "audio/x-mpegurl"
 			},
 			gif: {
 				flash: "image"
 			},
 			jpeg: {
 				flash: "image"
 			},
 			jpg: {
 				flash: "image"
 			},
 			swf: {
 				flash: "image"
 			},
 			png: {
 				flash: "image"
 			},
 			wav: {
 				html5: "audio/x-wav"
 			}
 		}
 	})(jwplayer);
 	(function (e) {
 		e.utils.mediaparser = function () {};
 		var g = {
 			element: {
 				width: "width",
 				height: "height",
 				id: "id",
 				"class": "className",
 				name: "name"
 			},
 			media: {
 				src: "file",
 				preload: "preload",
 				autoplay: "autostart",
 				loop: "repeat",
 				controls: "controls"
 			},
 			source: {
 				src: "file",
 				type: "type",
 				media: "media",
 				"data-jw-width": "width",
 				"data-jw-bitrate": "bitrate"
 			},
 			video: {
 				poster: "image"
 			}
 		};
 		var f = {};
 		e.utils.mediaparser.parseMedia = function (j) {
 			return d(j)
 		};

 		function c(k, j) {
 			if (!e.utils.exists(j)) {
 				j = g[k]
 			} else {
 				e.utils.extend(j, g[k])
 			}
 			return j
 		}
 		function d(n, j) {
 			if (f[n.tagName.toLowerCase()] && !e.utils.exists(j)) {
 				return f[n.tagName.toLowerCase()](n)
 			} else {
 				j = c("element", j);
 				var o = {};
 				for (var k in j) {
 					if (k != "length") {
 						var m = n.getAttribute(k);
 						if (e.utils.exists(m)) {
 							o[j[k]] = m
 						}
 					}
 				}
 				var l = n.style["#background-color"];
 				if (l && !(l == "transparent" || l == "rgba(0, 0, 0, 0)")) {
 					o.screencolor = l
 				}
 				return o
 			}
 		}
 		function h(n, k) {
 			k = c("media", k);
 			var l = [];
 			var j = e.utils.selectors("source", n);
 			for (var m in j) {
 				if (!isNaN(m)) {
 					l.push(a(j[m]))
 				}
 			}
 			var o = d(n, k);
 			if (e.utils.exists(o.file)) {
 				l[0] = {
 					file: o.file
 				}
 			}
 			o.levels = l;
 			return o
 		}
 		function a(l, k) {
 			k = c("source", k);
 			var j = d(l, k);
 			j.width = j.width ? j.width : 0;
 			j.bitrate = j.bitrate ? j.bitrate : 0;
 			return j
 		}
 		function b(l, k) {
 			k = c("video", k);
 			var j = h(l, k);
 			return j
 		}
 		f.media = h;
 		f.audio = h;
 		f.source = a;
 		f.video = b
 	})(jwplayer);
 	(function (a) {
 		a.utils.loaderstatus = {
 			NEW: "NEW",
 			LOADING: "LOADING",
 			ERROR: "ERROR",
 			COMPLETE: "COMPLETE"
 		};
 		a.utils.scriptloader = function (c) {
 			var d = a.utils.loaderstatus.NEW;
 			var b = new a.events.eventdispatcher();
 			a.utils.extend(this, b);
 			this.load = function () {
 				if (d == a.utils.loaderstatus.NEW) {
 					d = a.utils.loaderstatus.LOADING;
 					var e = document.createElement("script");
 					e.onload = function (f) {
 						d = a.utils.loaderstatus.COMPLETE;
 						b.sendEvent(a.events.COMPLETE)
 					};
 					e.onerror = function (f) {
 						d = a.utils.loaderstatus.ERROR;
 						b.sendEvent(a.events.ERROR)
 					};
 					e.onreadystatechange = function () {
 						if (e.readyState == "loaded" || e.readyState == "complete") {
 							d = a.utils.loaderstatus.COMPLETE;
 							b.sendEvent(a.events.COMPLETE)
 						}
 					};
 					document.getElementsByTagName("head")[0].appendChild(e);
 					e.src = c
 				}
 			};
 			this.getStatus = function () {
 				return d
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		a.utils.selectors = function (b, e) {
 			if (!a.utils.exists(e)) {
 				e = document
 			}
 			b = a.utils.strings.trim(b);
 			var c = b.charAt(0);
 			if (c == "#") {
 				return e.getElementById(b.substr(1))
 			} else {
 				if (c == ".") {
 					if (e.getElementsByClassName) {
 						return e.getElementsByClassName(b.substr(1))
 					} else {
 						return a.utils.selectors.getElementsByTagAndClass("*", b.substr(1))
 					}
 				} else {
 					if (b.indexOf(".") > 0) {
 						var d = b.split(".");
 						return a.utils.selectors.getElementsByTagAndClass(d[0], d[1])
 					} else {
 						return e.getElementsByTagName(b)
 					}
 				}
 			}
 			return null
 		};
 		a.utils.selectors.getElementsByTagAndClass = function (e, h, g) {
 			var j = [];
 			if (!a.utils.exists(g)) {
 				g = document
 			}
 			var f = g.getElementsByTagName(e);
 			for (var d = 0; d < f.length; d++) {
 				if (a.utils.exists(f[d].className)) {
 					var c = f[d].className.split(" ");
 					for (var b = 0; b < c.length; b++) {
 						if (c[b] == h) {
 							j.push(f[d])
 						}
 					}
 				}
 			}
 			return j
 		}
 	})(jwplayer);
 	(function (a) {
 		a.utils.strings = function () {};
 		a.utils.strings.trim = function (b) {
 			return b.replace(/^\s*/, "").replace(/\s*$/, "")
 		};
 		a.utils.strings.pad = function (c, d, b) {
 			if (!b) {
 				b = "0"
 			}
 			while (c.length < d) {
 				c = b + c
 			}
 			return c
 		};
 		a.utils.strings.serialize = function (b) {
 			if (b == null) {
 				return null
 			} else {
 				if (b == "true") {
 					return true
 				} else {
 					if (b == "false") {
 						return false
 					} else {
 						if (isNaN(Number(b)) || b.length > 5 || b.length == 0) {
 							return b
 						} else {
 							return Number(b)
 						}
 					}
 				}
 			}
 		};
 		a.utils.strings.seconds = function (d) {
 			d = d.replace(",", ".");
 			var b = d.split(":");
 			var c = 0;
 			if (d.substr(-1) == "s") {
 				c = Number(d.substr(0, d.length - 1))
 			} else {
 				if (d.substr(-1) == "m") {
 					c = Number(d.substr(0, d.length - 1)) * 60
 				} else {
 					if (d.substr(-1) == "h") {
 						c = Number(d.substr(0, d.length - 1)) * 3600
 					} else {
 						if (b.length > 1) {
 							c = Number(b[b.length - 1]);
 							c += Number(b[b.length - 2]) * 60;
 							if (b.length == 3) {
 								c += Number(b[b.length - 3]) * 3600
 							}
 						} else {
 							c = Number(d)
 						}
 					}
 				}
 			}
 			return c
 		};
 		a.utils.strings.xmlAttribute = function (b, c) {
 			for (var d = 0; d < b.attributes.length; d++) {
 				if (b.attributes[d].name && b.attributes[d].name.toLowerCase() == c.toLowerCase()) {
 					return b.attributes[d].value.toString()
 				}
 			}
 			return ""
 		};
 		a.utils.strings.jsonToString = function (f) {
 			var h = h || {};
 			if (h && h.stringify) {
 				return h.stringify(f)
 			}
 			var c = typeof(f);
 			if (c != "object" || f === null) {
 				if (c == "string") {
 					f = '"' + f.replace(/"/g, '\\"') + '"'
 				} else {
 					return String(f)
 				}
 			} else {
 				var g = [],
 				b = (f && f.constructor == Array);
 				for (var d in f) {
 					var e = f[d];
 					switch (typeof(e)) {
 						case "string":
 						e = '"' + e.replace(/"/g, '\\"') + '"';
 						break;
 						case "object":
 						if (a.utils.exists(e)) {
 							e = a.utils.strings.jsonToString(e)
 						}
 						break
 					}
 					if (b) {
 						if (typeof(e) != "function") {
 							g.push(String(e))
 						}
 					} else {
 						if (typeof(e) != "function") {
 							g.push('"' + d + '":' + String(e))
 						}
 					}
 				}
 				if (b) {
 					return "[" + String(g) + "]"
 				} else {
 					return "{" + String(g) + "}"
 				}
 			}
 		}
 	})(jwplayer);
 	(function (c) {
 		var d = new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);
 		c.utils.typechecker = function (g, f) {
 			f = !c.utils.exists(f) ? b(g) : f;
 			return e(g, f)
 		};

 		function b(f) {
 			var g = ["true", "false", "t", "f"];
 			if (g.toString().indexOf(f.toLowerCase().replace(" ", "")) >= 0) {
 				return "boolean"
 			} else {
 				if (d.test(f)) {
 					return "color"
 				} else {
 					if (!isNaN(parseInt(f, 10)) && parseInt(f, 10).toString().length == f.length) {
 						return "integer"
 					} else {
 						if (!isNaN(parseFloat(f)) && parseFloat(f).toString().length == f.length) {
 							return "float"
 						}
 					}
 				}
 			}
 			return "string"
 		}
 		function e(g, f) {
 			if (!c.utils.exists(f)) {
 				return g
 			}
 			switch (f) {
 				case "color":
 				if (g.length > 0) {
 					return a(g)
 				}
 				return null;
 				case "integer":
 				return parseInt(g, 10);
 				case "float":
 				return parseFloat(g);
 				case "boolean":
 				if (g.toLowerCase() == "true") {
 					return true
 				} else {
 					if (g == "1") {
 						return true
 					}
 				}
 				return false
 			}
 			return g
 		}
 		function a(f) {
 			switch (f.toLowerCase()) {
 				case "blue":
 				return parseInt("0000FF", 16);
 				case "green":
 				return parseInt("00FF00", 16);
 				case "red":
 				return parseInt("FF0000", 16);
 				case "cyan":
 				return parseInt("00FFFF", 16);
 				case "magenta":
 				return parseInt("FF00FF", 16);
 				case "yellow":
 				return parseInt("FFFF00", 16);
 				case "black":
 				return parseInt("000000", 16);
 				case "white":
 				return parseInt("FFFFFF", 16);
 				default:
 				f = f.replace(/(#|0x)?([0-9A-F]{3,6})$/gi, "$2");
 				if (f.length == 3) {
 					f = f.charAt(0) + f.charAt(0) + f.charAt(1) + f.charAt(1) + f.charAt(2) + f.charAt(2)
 				}
 				return parseInt(f, 16)
 			}
 			return parseInt("000000", 16)
 		}
 	})(jwplayer);
 	(function (a) {
 		a.utils.parsers = function () {};
 		a.utils.parsers.localName = function (b) {
 			if (!b) {
 				return ""
 			} else {
 				if (b.localName) {
 					return b.localName
 				} else {
 					if (b.baseName) {
 						return b.baseName
 					} else {
 						return ""
 					}
 				}
 			}
 		};
 		a.utils.parsers.textContent = function (b) {
 			if (!b) {
 				return ""
 			} else {
 				if (b.textContent) {
 					return b.textContent
 				} else {
 					if (b.text) {
 						return b.text
 					} else {
 						return ""
 					}
 				}
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		a.utils.parsers.jwparser = function () {};
 		a.utils.parsers.jwparser.PREFIX = "jwplayer";
 		a.utils.parsers.jwparser.parseEntry = function (c, d) {
 			for (var b = 0; b < c.childNodes.length; b++) {
 				if (c.childNodes[b].prefix == a.utils.parsers.jwparser.PREFIX) {
 					d[a.utils.parsers.localName(c.childNodes[b])] = a.utils.strings.serialize(a.utils.parsers.textContent(c.childNodes[b]))
 				}
 				if (!d.file && String(d.link).toLowerCase().indexOf("youtube") > -1) {
 					d.file = d.link
 				}
 			}
 			return d
 		};
 		a.utils.parsers.jwparser.getProvider = function (c) {
 			if (c.type) {
 				return c.type
 			} else {
 				if (c.file.indexOf("youtube.com/w") > -1 || c.file.indexOf("youtube.com/v") > -1 || c.file.indexOf("youtu.be/") > -1) {
 					return "youtube"
 				} else {
 					if (c.streamer && c.streamer.indexOf("rtmp") == 0) {
 						return "rtmp"
 					} else {
 						if (c.streamer && c.streamer.indexOf("http") == 0) {
 							return "http"
 						} else {
 							var b = a.utils.strings.extension(c.file);
 							if (extensions.hasOwnProperty(b)) {
 								return extensions[b]
 							}
 						}
 					}
 				}
 			}
 			return ""
 		}
 	})(jwplayer);
 	(function (a) {
 		a.utils.parsers.mediaparser = function () {};
 		a.utils.parsers.mediaparser.PREFIX = "media";
 		a.utils.parsers.mediaparser.parseGroup = function (d, f) {
 			var e = false;
 			for (var c = 0; c < d.childNodes.length; c++) {
 				if (d.childNodes[c].prefix == a.utils.parsers.mediaparser.PREFIX) {
 					if (!a.utils.parsers.localName(d.childNodes[c])) {
 						continue
 					}
 					switch (a.utils.parsers.localName(d.childNodes[c]).toLowerCase()) {
 						case "content":
 						if (!e) {
 							f.file = a.utils.strings.xmlAttribute(d.childNodes[c], "url")
 						}
 						if (a.utils.strings.xmlAttribute(d.childNodes[c], "duration")) {
 							f.duration = a.utils.strings.seconds(a.utils.strings.xmlAttribute(d.childNodes[c], "duration"))
 						}
 						if (a.utils.strings.xmlAttribute(d.childNodes[c], "start")) {
 							f.start = a.utils.strings.seconds(a.utils.strings.xmlAttribute(d.childNodes[c], "start"))
 						}
 						if (d.childNodes[c].childNodes && d.childNodes[c].childNodes.length > 0) {
 							f = a.utils.parsers.mediaparser.parseGroup(d.childNodes[c], f)
 						}
 						if (a.utils.strings.xmlAttribute(d.childNodes[c], "width") || a.utils.strings.xmlAttribute(d.childNodes[c], "bitrate") || a.utils.strings.xmlAttribute(d.childNodes[c], "url")) {
 							if (!f.levels) {
 								f.levels = []
 							}
 							f.levels.push({
 								width: a.utils.strings.xmlAttribute(d.childNodes[c], "width"),
 								bitrate: a.utils.strings.xmlAttribute(d.childNodes[c], "bitrate"),
 								file: a.utils.strings.xmlAttribute(d.childNodes[c], "url")
 							})
 						}
 						break;
 						case "title":
 						f.title = a.utils.parsers.textContent(d.childNodes[c]);
 						break;
 						case "description":
 						f.description = a.utils.parsers.textContent(d.childNodes[c]);
 						break;
 						case "keywords":
 						f.tags = a.utils.parsers.textContent(d.childNodes[c]);
 						break;
 						case "thumbnail":
 						f.image = a.utils.strings.xmlAttribute(d.childNodes[c], "url");
 						break;
 						case "credit":
 						f.author = a.utils.parsers.textContent(d.childNodes[c]);
 						break;
 						case "player":
 						var b = d.childNodes[c].url;
 						if (b.indexOf("youtube.com") >= 0 || b.indexOf("youtu.be") >= 0) {
 							e = true;
 							f.file = a.utils.strings.xmlAttribute(d.childNodes[c], "url")
 						}
 						break;
 						case "group":
 						a.utils.parsers.mediaparser.parseGroup(d.childNodes[c], f);
 						break
 					}
 				}
 			}
 			return f
 		}
 	})(jwplayer);
 	(function (b) {
 		b.utils.parsers.rssparser = function () {};
 		b.utils.parsers.rssparser.parse = function (f) {
 			var c = [];
 			for (var e = 0; e < f.childNodes.length; e++) {
 				if (b.utils.parsers.localName(f.childNodes[e]).toLowerCase() == "channel") {
 					for (var d = 0; d < f.childNodes[e].childNodes.length; d++) {
 						if (b.utils.parsers.localName(f.childNodes[e].childNodes[d]).toLowerCase() == "item") {
 							c.push(a(f.childNodes[e].childNodes[d]))
 						}
 					}
 				}
 			}
 			return c
 		};

 		function a(d) {
 			var e = {};
 			for (var c = 0; c < d.childNodes.length; c++) {
 				if (!b.utils.parsers.localName(d.childNodes[c])) {
 					continue
 				}
 				switch (b.utils.parsers.localName(d.childNodes[c]).toLowerCase()) {
 					case "enclosure":
 					e.file = b.utils.strings.xmlAttribute(d.childNodes[c], "url");
 					break;
 					case "title":
 					e.title = b.utils.parsers.textContent(d.childNodes[c]);
 					break;
 					case "pubdate":
 					e.date = b.utils.parsers.textContent(d.childNodes[c]);
 					break;
 					case "description":
 					e.description = b.utils.parsers.textContent(d.childNodes[c]);
 					break;
 					case "link":
 					e.link = b.utils.parsers.textContent(d.childNodes[c]);
 					break;
 					case "category":
 					if (e.tags) {
 						e.tags += b.utils.parsers.textContent(d.childNodes[c])
 					} else {
 						e.tags = b.utils.parsers.textContent(d.childNodes[c])
 					}
 					break
 				}
 			}
 			e = b.utils.parsers.mediaparser.parseGroup(d, e);
 			e = b.utils.parsers.jwparser.parseEntry(d, e);
 			return new b.html5.playlistitem(e)
 		}
 	})(jwplayer);
 	(function (a) {
 		var c = {};
 		var b = {};
 		a.plugins = function () {};
 		a.plugins.loadPlugins = function (e, d) {
 			b[e] = new a.plugins.pluginloader(new a.plugins.model(c), d);
 			return b[e]
 		};
 		a.plugins.registerPlugin = function (h, f, e) {
 			var d = a.utils.getPluginName(h);
 			if (c[d]) {
 				c[d].registerPlugin(h, f, e)
 			} else {
 				a.utils.log("A plugin (" + h + ") was registered with the player that was not loaded. Please check your configuration.");
 				for (var g in b) {
 					b[g].pluginFailed()
 				}
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		a.plugins.model = function (b) {
 			this.addPlugin = function (c) {
 				var d = a.utils.getPluginName(c);
 				if (!b[d]) {
 					b[d] = new a.plugins.plugin(c)
 				}
 				return b[d]
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		a.plugins.pluginmodes = {
 			FLASH: "FLASH",
 			JAVASCRIPT: "JAVASCRIPT",
 			HYBRID: "HYBRID"
 		};
 		a.plugins.plugin = function (b) {
 			var d = "http://plugins.longtailvideo.com";
 			var j = a.utils.loaderstatus.NEW;
 			var k;
 			var h;
 			var l;
 			var c = new a.events.eventdispatcher();
 			a.utils.extend(this, c);

 			function e() {
 				switch (a.utils.getPluginPathType(b)) {
 					case a.utils.pluginPathType.ABSOLUTE:
 					return b;
 					case a.utils.pluginPathType.RELATIVE:
 					return a.utils.getAbsolutePath(b, window.location.href);
 					case a.utils.pluginPathType.CDN:
 					var o = a.utils.getPluginName(b);
 					var n = a.utils.getPluginVersion(b);
 					var m = (window.location.href.indexOf("https://") == 0) ? d.replace("http://", "https://secure") : d;
 					return m + "/" + a.version.split(".")[0] + "/" + o + "/" + o + (n !== "" ? ("-" + n) : "") + ".js"
 				}
 			}
 			function g(m) {
 				l = setTimeout(function () {
 					j = a.utils.loaderstatus.COMPLETE;
 					c.sendEvent(a.events.COMPLETE)
 				}, 1000)
 			}
 			function f(m) {
 				j = a.utils.loaderstatus.ERROR;
 				c.sendEvent(a.events.ERROR)
 			}
 			this.load = function () {
 				if (j == a.utils.loaderstatus.NEW) {
 					if (b.lastIndexOf(".swf") > 0) {
 						k = b;
 						j = a.utils.loaderstatus.COMPLETE;
 						c.sendEvent(a.events.COMPLETE);
 						return
 					}
 					j = a.utils.loaderstatus.LOADING;
 					var m = new a.utils.scriptloader(e());
 					m.addEventListener(a.events.COMPLETE, g);
 					m.addEventListener(a.events.ERROR, f);
 					m.load()
 				}
 			};
 			this.registerPlugin = function (o, n, m) {
 				if (l) {
 					clearTimeout(l);
 					l = undefined
 				}
 				if (n && m) {
 					k = m;
 					h = n
 				} else {
 					if (typeof n == "string") {
 						k = n
 					} else {
 						if (typeof n == "function") {
 							h = n
 						} else {
 							if (!n && !m) {
 								k = o
 							}
 						}
 					}
 				}
 				j = a.utils.loaderstatus.COMPLETE;
 				c.sendEvent(a.events.COMPLETE)
 			};
 			this.getStatus = function () {
 				return j
 			};
 			this.getPluginName = function () {
 				return a.utils.getPluginName(b)
 			};
 			this.getFlashPath = function () {
 				if (k) {
 					switch (a.utils.getPluginPathType(k)) {
 						case a.utils.pluginPathType.ABSOLUTE:
 						return k;
 						case a.utils.pluginPathType.RELATIVE:
 						if (b.lastIndexOf(".swf") > 0) {
 							return a.utils.getAbsolutePath(k, window.location.href)
 						}
 						return a.utils.getAbsolutePath(k, e());
 						case a.utils.pluginPathType.CDN:
 						if (k.indexOf("-") > -1) {
 							return k + "h"
 						}
 						return k + "-h"
 					}
 				}
 				return null
 			};
 			this.getJS = function () {
 				return h
 			};
 			this.getPluginmode = function () {
 				if (typeof k != "undefined" && typeof h != "undefined") {
 					return a.plugins.pluginmodes.HYBRID
 				} else {
 					if (typeof k != "undefined") {
 						return a.plugins.pluginmodes.FLASH
 					} else {
 						if (typeof h != "undefined") {
 							return a.plugins.pluginmodes.JAVASCRIPT
 						}
 					}
 				}
 			};
 			this.getNewInstance = function (n, m, o) {
 				return new h(n, m, o)
 			};
 			this.getURL = function () {
 				return b
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		a.plugins.pluginloader = function (h, e) {
 			var g = {};
 			var k = a.utils.loaderstatus.NEW;
 			var d = false;
 			var b = false;
 			var c = new a.events.eventdispatcher();
 			a.utils.extend(this, c);

 			function f() {
 				if (!b) {
 					b = true;
 					k = a.utils.loaderstatus.COMPLETE;
 					c.sendEvent(a.events.COMPLETE)
 				}
 			}
 			function j() {
 				if (!b) {
 					var m = 0;
 					for (plugin in g) {
 						var l = g[plugin].getStatus();
 						if (l == a.utils.loaderstatus.LOADING || l == a.utils.loaderstatus.NEW) {
 							m++
 						}
 					}
 					if (m == 0) {
 						f()
 					}
 				}
 			}
 			this.setupPlugins = function (n, l, s) {
 				var m = {
 					length: 0,
 					plugins: {}
 				};
 				var p = {
 					length: 0,
 					plugins: {}
 				};
 				for (var o in g) {
 					var q = g[o].getPluginName();
 					if (g[o].getFlashPath()) {
 						m.plugins[g[o].getFlashPath()] = l.plugins[o];
 						m.plugins[g[o].getFlashPath()].pluginmode = g[o].getPluginmode();
 						m.length++
 					}
 					if (g[o].getJS()) {
 						var r = document.createElement("div");
 						r.id = n.id + "_" + q;
 						r.style.position = "absolute";
 						r.style.zIndex = p.length + 10;
 						p.plugins[q] = g[o].getNewInstance(n, l.plugins[o], r);
 						p.length++;
 						if (typeof p.plugins[q].resize != "undefined") {
 							n.onReady(s(p.plugins[q], r, true));
 							n.onResize(s(p.plugins[q], r))
 						}
 					}
 				}
 				n.plugins = p.plugins;
 				return m
 			};
 			this.load = function () {
 				k = a.utils.loaderstatus.LOADING;
 				d = true;
 				for (var l in e) {
 					if (a.utils.exists(l)) {
 						g[l] = h.addPlugin(l);
 						g[l].addEventListener(a.events.COMPLETE, j);
 						g[l].addEventListener(a.events.ERROR, j)
 					}
 				}
 				for (l in g) {
 					g[l].load()
 				}
 				d = false;
 				j()
 			};
 			this.pluginFailed = function () {
 				f()
 			};
 			this.getStatus = function () {
 				return k
 			}
 		}
 	})(jwplayer);
 	(function (b) {
 		var a = [];
 		b.api = function (d) {
 			this.container = d;
 			this.id = d.id;
 			var n = {};
 			var s = {};
 			var q = {};
 			var c = [];
 			var h = undefined;
 			var l = false;
 			var j = [];
 			var p = b.utils.getOuterHTML(d);
 			var r = {};
 			var k = {};
 			this.getBuffer = function () {
 				return this.callInternal("jwGetBuffer")
 			};
 			this.getContainer = function () {
 				return this.container
 			};

 			function e(u, t) {
 				return function (z, v, w, x) {
 					if (u.renderingMode == "flash" || u.renderingMode == "html5") {
 						var y;
 						if (v) {
 							k[z] = v;
 							y = "jwplayer('" + u.id + "').callback('" + z + "')"
 						} else {
 							if (!v && k[z]) {
 								delete k[z]
 							}
 						}
 						h.jwDockSetButton(z, y, w, x)
 					}
 					return t
 				}
 			}
 			this.getPlugin = function (t) {
 				var v = this;
 				var u = {};
 				if (t == "dock") {
 					return b.utils.extend(u, {
 						setButton: e(v, u),
 						show: function () {
 							v.callInternal("jwDockShow");
 							return u
 						},
 						hide: function () {
 							v.callInternal("jwDockHide");
 							return u
 						},
 						onShow: function (w) {
 							v.componentListener("dock", b.api.events.JWPLAYER_COMPONENT_SHOW, w);
 							return u
 						},
 						onHide: function (w) {
 							v.componentListener("dock", b.api.events.JWPLAYER_COMPONENT_HIDE, w);
 							return u
 						}
 					})
 				} else {
 					if (t == "controlbar") {
 						return b.utils.extend(u, {
 							show: function () {
 								v.callInternal("jwControlbarShow");
 								return u
 							},
 							hide: function () {
 								v.callInternal("jwControlbarHide");
 								return u
 							},
 							onShow: function (w) {
 								v.componentListener("controlbar", b.api.events.JWPLAYER_COMPONENT_SHOW, w);
 								return u
 							},
 							onHide: function (w) {
 								v.componentListener("controlbar", b.api.events.JWPLAYER_COMPONENT_HIDE, w);
 								return u
 							}
 						})
 					} else {
 						if (t == "display") {
 							return b.utils.extend(u, {
 								show: function () {
 									v.callInternal("jwDisplayShow");
 									return u
 								},
 								hide: function () {
 									v.callInternal("jwDisplayHide");
 									return u
 								},
 								onShow: function (w) {
 									v.componentListener("display", b.api.events.JWPLAYER_COMPONENT_SHOW, w);
 									return u
 								},
 								onHide: function (w) {
 									v.componentListener("display", b.api.events.JWPLAYER_COMPONENT_HIDE, w);
 									return u
 								}
 							})
 						} else {
 							return this.plugins[t]
 						}
 					}
 				}
 			};
 			this.callback = function (t) {
 				if (k[t]) {
 					return k[t]()
 				}
 			};
 			this.getDuration = function () {
 				return this.callInternal("jwGetDuration")
 			};
 			this.getFullscreen = function () {
 				return this.callInternal("jwGetFullscreen")
 			};
 			this.getHeight = function () {
 				return this.callInternal("jwGetHeight")
 			};
 			this.getLockState = function () {
 				return this.callInternal("jwGetLockState")
 			};
 			this.getMeta = function () {
 				return this.getItemMeta()
 			};
 			this.getMute = function () {
 				return this.callInternal("jwGetMute")
 			};
 			this.getPlaylist = function () {
 				var u = this.callInternal("jwGetPlaylist");
 				if (this.renderingMode == "flash") {
 					b.utils.deepReplaceKeyName(u, "__dot__", ".")
 				}
 				for (var t = 0; t < u.length; t++) {
 					if (!b.utils.exists(u[t].index)) {
 						u[t].index = t
 					}
 				}
 				return u
 			};
 			this.getPlaylistItem = function (t) {
 				if (!b.utils.exists(t)) {
 					t = this.getCurrentItem()
 				}
 				return this.getPlaylist()[t]
 			};
 			this.getPosition = function () {
 				return this.callInternal("jwGetPosition")
 			};
 			this.getRenderingMode = function () {
 				return this.renderingMode
 			};
 			this.getState = function () {
 				return this.callInternal("jwGetState")
 			};
 			this.getVolume = function () {
 				return this.callInternal("jwGetVolume")
 			};
 			this.getWidth = function () {
 				return this.callInternal("jwGetWidth")
 			};
 			this.setFullscreen = function (t) {
 				if (!b.utils.exists(t)) {
 					this.callInternal("jwSetFullscreen", !this.callInternal("jwGetFullscreen"))
 				} else {
 					this.callInternal("jwSetFullscreen", t)
 				}
 				return this
 			};
 			this.setMute = function (t) {
 				if (!b.utils.exists(t)) {
 					this.callInternal("jwSetMute", !this.callInternal("jwGetMute"))
 				} else {
 					this.callInternal("jwSetMute", t)
 				}
 				return this
 			};
 			this.lock = function () {
 				return this
 			};
 			this.unlock = function () {
 				return this
 			};
 			this.load = function (t) {
 				this.callInternal("jwLoad", t);
 				return this
 			};
 			this.playlistItem = function (t) {
 				this.callInternal("jwPlaylistItem", t);
 				return this
 			};
 			this.playlistPrev = function () {
 				this.callInternal("jwPlaylistPrev");
 				return this
 			};
 			this.playlistNext = function () {
 				this.callInternal("jwPlaylistNext");
 				return this
 			};
 			this.resize = function (u, t) {
 				if (this.renderingMode == "html5") {
 					h.jwResize(u, t)
 				} else {
 					this.container.width = u;
 					this.container.height = t;
 					var v = document.getElementById(this.id + "_wrapper");
 					if (v) {
 						v.style.width = u + "px";
 						v.style.height = t + "px"
 					}
 				}
 				return this
 			};
 			this.play = function (t) {
 				if (typeof t == "undefined") {
 					t = this.getState();
 					if (t == b.api.events.state.PLAYING || t == b.api.events.state.BUFFERING) {
 						this.callInternal("jwPause")
 					} else {
 						this.callInternal("jwPlay")
 					}
 				} else {
 					this.callInternal("jwPlay", t)
 				}
 				return this
 			};
 			this.pause = function (t) {
 				if (typeof t == "undefined") {
 					t = this.getState();
 					if (t == b.api.events.state.PLAYING || t == b.api.events.state.BUFFERING) {
 						this.callInternal("jwPause")
 					} else {
 						this.callInternal("jwPlay")
 					}
 				} else {
 					this.callInternal("jwPause", t)
 				}
 				return this
 			};
 			this.stop = function () {
 				this.callInternal("jwStop");
 				return this
 			};
 			this.seek = function (t) {
 				this.callInternal("jwSeek", t);
 				return this
 			};
 			this.setVolume = function (t) {
 				this.callInternal("jwSetVolume", t);
 				return this
 			};
 			this.onBufferChange = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_MEDIA_BUFFER, t)
 			};
 			this.onBufferFull = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_MEDIA_BUFFER_FULL, t)
 			};
 			this.onError = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_ERROR, t)
 			};
 			this.onFullscreen = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_FULLSCREEN, t)
 			};
 			this.onMeta = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_MEDIA_META, t)
 			};
 			this.onMute = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_MEDIA_MUTE, t)
 			};
 			this.onPlaylist = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED, t)
 			};
 			this.onPlaylistItem = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM, t)
 			};
 			this.onReady = function (t) {
 				return this.eventListener(b.api.events.API_READY, t)
 			};
 			this.onResize = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_RESIZE, t)
 			};
 			this.onComplete = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_MEDIA_COMPLETE, t)
 			};
 			this.onSeek = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_MEDIA_SEEK, t)
 			};
 			this.onTime = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_MEDIA_TIME, t)
 			};
 			this.onVolume = function (t) {
 				return this.eventListener(b.api.events.JWPLAYER_MEDIA_VOLUME, t)
 			};
 			this.onBuffer = function (t) {
 				return this.stateListener(b.api.events.state.BUFFERING, t)
 			};
 			this.onPause = function (t) {
 				return this.stateListener(b.api.events.state.PAUSED, t)
 			};
 			this.onPlay = function (t) {
 				return this.stateListener(b.api.events.state.PLAYING, t)
 			};
 			this.onIdle = function (t) {
 				return this.stateListener(b.api.events.state.IDLE, t)
 			};
 			this.remove = function () {
 				n = {};
 				j = [];
 				if (b.utils.getOuterHTML(this.container) != p) {
 					b.api.destroyPlayer(this.id, p)
 				}
 			};
 			this.setup = function (u) {
 				if (b.embed) {
 					var t = this.id;
 					this.remove();
 					var v = b(t);
 					v.config = u;
 					return new b.embed(v)
 				}
 				return this
 			};
 			this.registerPlugin = function (v, u, t) {
 				b.plugins.registerPlugin(v, u, t)
 			};
 			this.setPlayer = function (t, u) {
 				h = t;
 				this.renderingMode = u
 			};
 			this.stateListener = function (t, u) {
 				if (!s[t]) {
 					s[t] = [];
 					this.eventListener(b.api.events.JWPLAYER_PLAYER_STATE, g(t))
 				}
 				s[t].push(u);
 				return this
 			};
 			this.detachMedia = function () {
 				if (this.renderingMode == "html5") {
 					return this.callInternal("jwDetachMedia")
 				}
 			};
 			this.attachMedia = function () {
 				if (this.renderingMode == "html5") {
 					return this.callInternal("jwAttachMedia")
 				}
 			};

 			function g(t) {
 				return function (v) {
 					var u = v.newstate,
 					x = v.oldstate;
 					if (u == t) {
 						var w = s[u];
 						if (w) {
 							for (var y = 0; y < w.length; y++) {
 								if (typeof w[y] == "function") {
 									w[y].call(this, {
 										oldstate: x,
 										newstate: u
 									})
 								}
 							}
 						}
 					}
 				}
 			}
 			this.componentListener = function (t, u, v) {
 				if (!q[t]) {
 					q[t] = {}
 				}
 				if (!q[t][u]) {
 					q[t][u] = [];
 					this.eventListener(u, m(t, u))
 				}
 				q[t][u].push(v);
 				return this
 			};

 			function m(t, u) {
 				return function (w) {
 					if (t == w.component) {
 						var v = q[t][u];
 						if (v) {
 							for (var x = 0; x < v.length; x++) {
 								if (typeof v[x] == "function") {
 									v[x].call(this, w)
 								}
 							}
 						}
 					}
 				}
 			}
 			this.addInternalListener = function (t, u) {
 				t.jwAddEventListener(u, 'function(dat) { jwplayer("' + this.id + '").dispatchEvent("' + u + '", dat); }')
 			};
 			this.eventListener = function (t, u) {
 				if (!n[t]) {
 					n[t] = [];
 					if (h && l) {
 						this.addInternalListener(h, t)
 					}
 				}
 				n[t].push(u);
 				return this
 			};
 			this.dispatchEvent = function (v) {
 				if (n[v]) {
 					var u = f(v, arguments[1]);
 					for (var t = 0; t < n[v].length; t++) {
 						if (typeof n[v][t] == "function") {
 							n[v][t].call(this, u)
 						}
 					}
 				}
 			};

 			function f(v, t) {
 				var x = b.utils.extend({}, t);
 				if (v == b.api.events.JWPLAYER_FULLSCREEN && !x.fullscreen) {
 					x.fullscreen = x.message == "true" ? true : false;
 					delete x.message
 				} else {
 					if (typeof x.data == "object") {
 						x = b.utils.extend(x, x.data);
 						delete x.data
 					}
 				}
 				var u = ["position", "duration", "offset"];
 				for (var w in u) {
 					if (x[u[w]]) {
 						x[u[w]] = Math.round(x[u[w]] * 1000) / 1000
 					}
 				}
 				return x
 			}
 			this.callInternal = function (u, t) {
 				if (l) {
 					if (typeof h != "undefined" && typeof h[u] == "function") {
 						if (b.utils.exists(t)) {
 							return (h[u])(t)
 						} else {
 							return (h[u])()
 						}
 					}
 					return null
 				} else {
 					j.push({
 						method: u,
 						parameters: t
 					})
 				}
 			};
 			this.playerReady = function (v) {
 				l = true;
 				if (!h) {
 					this.setPlayer(document.getElementById(v.id))
 				}
 				this.container = document.getElementById(this.id);
 				for (var t in n) {
 					this.addInternalListener(h, t)
 				}
 				this.eventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM, function (w) {
 					r = {}
 				});
 				this.eventListener(b.api.events.JWPLAYER_MEDIA_META, function (w) {
 					b.utils.extend(r, w.metadata)
 				});
 				this.dispatchEvent(b.api.events.API_READY);
 				while (j.length > 0) {
 					var u = j.shift();
 					this.callInternal(u.method, u.parameters)
 				}
 			};
 			this.getItemMeta = function () {
 				return r
 			};
 			this.getCurrentItem = function () {
 				return this.callInternal("jwGetPlaylistIndex")
 			};

 			function o(v, x, w) {
 				var t = [];
 				if (!x) {
 					x = 0
 				}
 				if (!w) {
 					w = v.length - 1
 				}
 				for (var u = x; u <= w; u++) {
 					t.push(v[u])
 				}
 				return t
 			}
 			return this
 		};
 		b.api.selectPlayer = function (d) {
 			var c;
 			if (!b.utils.exists(d)) {
 				d = 0
 			}
 			if (d.nodeType) {
 				c = d
 			} else {
 				if (typeof d == "string") {
 					c = document.getElementById(d)
 				}
 			}
 			if (c) {
 				var e = b.api.playerById(c.id);
 				if (e) {
 					return e
 				} else {
 					return b.api.addPlayer(new b.api(c))
 				}
 			} else {
 				if (typeof d == "number") {
 					return b.getPlayers()[d]
 				}
 			}
 			return null
 		};
 		b.api.events = {
 			API_READY: "jwplayerAPIReady",
 			JWPLAYER_READY: "jwplayerReady",
 			JWPLAYER_FULLSCREEN: "jwplayerFullscreen",
 			JWPLAYER_RESIZE: "jwplayerResize",
 			JWPLAYER_ERROR: "jwplayerError",
 			JWPLAYER_COMPONENT_SHOW: "jwplayerComponentShow",
 			JWPLAYER_COMPONENT_HIDE: "jwplayerComponentHide",
 			JWPLAYER_MEDIA_BUFFER: "jwplayerMediaBuffer",
 			JWPLAYER_MEDIA_BUFFER_FULL: "jwplayerMediaBufferFull",
 			JWPLAYER_MEDIA_ERROR: "jwplayerMediaError",
 			JWPLAYER_MEDIA_LOADED: "jwplayerMediaLoaded",
 			JWPLAYER_MEDIA_COMPLETE: "jwplayerMediaComplete",
 			JWPLAYER_MEDIA_SEEK: "jwplayerMediaSeek",
 			JWPLAYER_MEDIA_TIME: "jwplayerMediaTime",
 			JWPLAYER_MEDIA_VOLUME: "jwplayerMediaVolume",
 			JWPLAYER_MEDIA_META: "jwplayerMediaMeta",
 			JWPLAYER_MEDIA_MUTE: "jwplayerMediaMute",
 			JWPLAYER_PLAYER_STATE: "jwplayerPlayerState",
 			JWPLAYER_PLAYLIST_LOADED: "jwplayerPlaylistLoaded",
 			JWPLAYER_PLAYLIST_ITEM: "jwplayerPlaylistItem"
 		};
 		b.api.events.state = {
 			BUFFERING: "BUFFERING",
 			IDLE: "IDLE",
 			PAUSED: "PAUSED",
 			PLAYING: "PLAYING"
 		};
 		b.api.playerById = function (d) {
 			for (var c = 0; c < a.length; c++) {
 				if (a[c].id == d) {
 					return a[c]
 				}
 			}
 			return null
 		};
 		b.api.addPlayer = function (c) {
 			for (var d = 0; d < a.length; d++) {
 				if (a[d] == c) {
 					return c
 				}
 			}
 			a.push(c);
 			return c
 		};
 		b.api.destroyPlayer = function (g, d) {
 			var f = -1;
 			for (var j = 0; j < a.length; j++) {
 				if (a[j].id == g) {
 					f = j;
 					continue
 				}
 			}
 			if (f >= 0) {
 				var c = document.getElementById(a[f].id);
 				if (document.getElementById(a[f].id + "_wrapper")) {
 					c = document.getElementById(a[f].id + "_wrapper")
 				}
 				if (c) {
 					if (d) {
 						b.utils.setOuterHTML(c, d)
 					} else {
 						var h = document.createElement("div");
 						var e = c.id;
 						if (c.id.indexOf("_wrapper") == c.id.length - 8) {
 							newID = c.id.substring(0, c.id.length - 8)
 						}
 						h.setAttribute("id", e);
 						c.parentNode.replaceChild(h, c)
 					}
 				}
 				a.splice(f, 1)
 			}
 			return null
 		};
 		b.getPlayers = function () {
 			return a.slice(0)
 		}
 	})(jwplayer);
 	var _userPlayerReady = (typeof playerReady == "function") ? playerReady : undefined;
 	playerReady = function (b) {
 		var a = jwplayer.api.playerById(b.id);
 		if (a) {
 			a.playerReady(b)
 		} else {
 			jwplayer.api.selectPlayer(b.id).playerReady(b)
 		}
 		if (_userPlayerReady) {
 			_userPlayerReady.call(this, b)
 		}
 	};
 	(function (a) {
 		var c = a.utils;
 		a.embed = function (h) {
 			var k = {
 				width: 400,
 				height: 300,
 				components: {
 					controlbar: {
 						position: "over"
 					}
 				}
 			};
 			var g = c.mediaparser.parseMedia(h.container);
 			var f = new a.embed.config(c.extend(k, g, h.config), this);
 			var j = a.plugins.loadPlugins(h.id, f.plugins);

 			function d(n, m) {
 				for (var l in m) {
 					if (typeof n[l] == "function") {
 						(n[l]).call(n, m[l])
 					}
 				}
 			}
 			function e() {
 				if (j.getStatus() == c.loaderstatus.COMPLETE) {
 					for (var n = 0; n < f.modes.length; n++) {
 						if (f.modes[n].type && a.embed[f.modes[n].type]) {
 							var p = f.modes[n].config;
 							var t = f;
 							if (p) {
 								t = c.extend(c.clone(f), p);
 								var s = ["file", "levels", "playlist"];
 								for (var m = 0; m < s.length; m++) {
 									var q = s[m];
 									if (c.exists(p[q])) {
 										for (var l = 0; l < s.length; l++) {
 											if (l != m) {
 												var o = s[l];
 												if (c.exists(t[o]) && !c.exists(p[o])) {
 													delete t[o]
 												}
 											}
 										}
 									}
 								}
 							}
 							var r = new a.embed[f.modes[n].type](document.getElementById(h.id), f.modes[n], t, j, h);
 							if (r.supportsConfig()) {
 								r.embed();
 								d(h, f.events);
 								return h
 							}
 						}
 					}
 					c.log("No suitable players found");
 					new a.embed.logo(c.extend({
 						hide: true
 					}, f.components.logo), "none", h.id)
 				}
 			}
 			j.addEventListener(a.events.COMPLETE, e);
 			j.addEventListener(a.events.ERROR, e);
 			j.load();
 			return h
 		};

 		function b() {
 			if (!document.body) {
 				return setTimeout(b, 15)
 			}
 			var d = c.selectors.getElementsByTagAndClass("video", "jwplayer");
 			for (var e = 0; e < d.length; e++) {
 				var f = d[e];
 				if (f.id == "") {
 					f.id = "jwplayer_" + Math.round(Math.random() * 100000)
 				}
 				a(f.id).setup({})
 			}
 		}
 		b()
 	})(jwplayer);
 	(function (e) {
 		function h() {
 			return [{
 				type: "flash",
 				src: "/jwplayer/player.swf"
 			}, {
 				type: "html5"
 			}, {
 				type: "download"
 			}]
 		}
 		var a = {
 			players: "modes",
 			autoplay: "autostart"
 		};

 		function b(n) {
 			var m = n.toLowerCase();
 			var l = ["left", "right", "top", "bottom"];
 			for (var k = 0; k < l.length; k++) {
 				if (m == l[k]) {
 					return true
 				}
 			}
 			return false
 		}
 		function c(l) {
 			var k = false;
 			k = (l instanceof Array) || (typeof l == "object" && !l.position && !l.size);
 			return k
 		}
 		function j(k) {
 			if (typeof k == "string") {
 				if (parseInt(k).toString() == k || k.toLowerCase().indexOf("px") > -1) {
 					return parseInt(k)
 				}
 			}
 			return k
 		}
 		var g = ["playlist", "dock", "controlbar", "logo", "display"];

 		function f(k) {
 			var n = {};
 			switch (e.utils.typeOf(k.plugins)) {
 				case "object":
 				for (var m in k.plugins) {
 					n[e.utils.getPluginName(m)] = m
 				}
 				break;
 				case "string":
 				var o = k.plugins.split(",");
 				for (var l = 0; l < o.length; l++) {
 					n[e.utils.getPluginName(o[l])] = o[l]
 				}
 				break
 			}
 			return n
 		}
 		function d(o, n, m, k) {
 			if (e.utils.typeOf(o[n]) != "object") {
 				o[n] = {}
 			}
 			var l = o[n][m];
 			if (e.utils.typeOf(l) != "object") {
 				o[n][m] = l = {}
 			}
 			if (k) {
 				if (n == "plugins") {
 					var p = e.utils.getPluginName(m);
 					l[k] = o[p + "." + k];
 					delete o[p + "." + k]
 				} else {
 					l[k] = o[m + "." + k];
 					delete o[m + "." + k]
 				}
 			}
 		}
 		e.embed.deserialize = function (l) {
 			var m = f(l);
 			for (var k in m) {
 				d(l, "plugins", m[k])
 			}
 			for (var p in l) {
 				if (p.indexOf(".") > -1) {
 					var o = p.split(".");
 					var n = o[0];
 					var p = o[1];
 					if (e.utils.isInArray(g, n)) {
 						d(l, "components", n, p)
 					} else {
 						if (m[n]) {
 							d(l, "plugins", m[n], p)
 						}
 					}
 				}
 			}
 			return l
 		};
 		e.embed.config = function (k, u) {
 			var t = e.utils.extend({}, k);
 			var r;
 			if (c(t.playlist)) {
 				r = t.playlist;
 				delete t.playlist
 			}
 			t = e.embed.deserialize(t);
 			t.height = j(t.height);
 			t.width = j(t.width);
 			if (typeof t.plugins == "string") {
 				var l = t.plugins.split(",");
 				if (typeof t.plugins != "object") {
 					t.plugins = {}
 				}
 				for (var p = 0; p < l.length; p++) {
 					var q = e.utils.getPluginName(l[p]);
 					if (typeof t[q] == "object") {
 						t.plugins[l[p]] = t[q];
 						delete t[q]
 					} else {
 						t.plugins[l[p]] = {}
 					}
 				}
 			}
 			for (var s = 0; s < g.length; s++) {
 				var o = g[s];
 				if (e.utils.exists(t[o])) {
 					if (typeof t[o] != "object") {
 						if (!t.components[o]) {
 							t.components[o] = {}
 						}
 						if (o == "logo") {
 							t.components[o].file = t[o]
 						} else {
 							t.components[o].position = t[o]
 						}
 						delete t[o]
 					} else {
 						if (!t.components[o]) {
 							t.components[o] = {}
 						}
 						e.utils.extend(t.components[o], t[o]);
 						delete t[o]
 					}
 				}
 				if (typeof t[o + "size"] != "undefined") {
 					if (!t.components[o]) {
 						t.components[o] = {}
 					}
 					t.components[o].size = t[o + "size"];
 					delete t[o + "size"]
 				}
 			}
 			if (typeof t.icons != "undefined") {
 				if (!t.components.display) {
 					t.components.display = {}
 				}
 				t.components.display.icons = t.icons;
 				delete t.icons
 			}
 			for (var n in a) {
 				if (t[n]) {
 					if (!t[a[n]]) {
 						t[a[n]] = t[n]
 					}
 					delete t[n]
 				}
 			}
 			var m;
 			if (t.flashplayer && !t.modes) {
 				m = h();
 				m[0].src = t.flashplayer;
 				delete t.flashplayer
 			} else {
 				if (t.modes) {
 					if (typeof t.modes == "string") {
 						m = h();
 						m[0].src = t.modes
 					} else {
 						if (t.modes instanceof Array) {
 							m = t.modes
 						} else {
 							if (typeof t.modes == "object" && t.modes.type) {
 								m = [t.modes]
 							}
 						}
 					}
 					delete t.modes
 				} else {
 					m = h()
 				}
 			}
 			t.modes = m;
 			if (r) {
 				t.playlist = r
 			}
 			return t
 		}
 	})(jwplayer);
 	(function (a) {
 		a.embed.download = function (c, g, b, d, f) {
 			this.embed = function () {
 				var k = a.utils.extend({}, b);
 				var q = {};
 				var j = b.width ? b.width : 480;
 				if (typeof j != "number") {
 					j = parseInt(j, 10)
 				}
 				var m = b.height ? b.height : 320;
 				if (typeof m != "number") {
 					m = parseInt(m, 10)
 				}
 				var u, o, n;
 				var s = {};
 				if (b.playlist && b.playlist.length) {
 					s.file = b.playlist[0].file;
 					o = b.playlist[0].image;
 					s.levels = b.playlist[0].levels
 				} else {
 					s.file = b.file;
 					o = b.image;
 					s.levels = b.levels
 				}
 				if (s.file) {
 					u = s.file
 				} else {
 					if (s.levels && s.levels.length) {
 						u = s.levels[0].file
 					}
 				}
 				n = u ? "pointer" : "auto";
 				var l = {
 					display: {
 						style: {
 							cursor: n,
 							width: j,
 							height: m,
 							backgroundColor: "#000",
 							position: "relative",
 							textDecoration: "none",
 							border: "none",
 							display: "block"
 						}
 					},
 					display_icon: {
 						style: {
 							cursor: n,
 							position: "absolute",
 							display: u ? "block" : "none",
 							top: 0,
 							left: 0,
 							border: 0,
 							margin: 0,
 							padding: 0,
 							zIndex: 3,
 							width: 50,
 							height: 50,
 							backgroundImage: "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"
 						}
 					},
 					display_iconBackground: {
 						style: {
 							cursor: n,
 							position: "absolute",
 							display: u ? "block" : "none",
 							top: ((m - 50) / 2),
 							left: ((j - 50) / 2),
 							border: 0,
 							width: 50,
 							height: 50,
 							margin: 0,
 							padding: 0,
 							zIndex: 2,
 							backgroundImage: "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"
 						}
 					},
 					display_image: {
 						style: {
 							width: j,
 							height: m,
 							display: o ? "block" : "none",
 							position: "absolute",
 							cursor: n,
 							left: 0,
 							top: 0,
 							margin: 0,
 							padding: 0,
 							textDecoration: "none",
 							zIndex: 1,
 							border: "none"
 						}
 					}
 				};
 				var h = function (v, x, y) {
 					var w = document.createElement(v);
 					if (y) {
 						w.id = y
 					} else {
 						w.id = c.id + "_jwplayer_" + x
 					}
 					a.utils.css(w, l[x].style);
 					return w
 				};
 				q.display = h("a", "display", c.id);
 				if (u) {
 					q.display.setAttribute("href", a.utils.getAbsolutePath(u))
 				}
 				q.display_image = h("img", "display_image");
 				q.display_image.setAttribute("alt", "Click to download...");
 				if (o) {
 					q.display_image.setAttribute("src", a.utils.getAbsolutePath(o))
 				}
 				if (true) {
 					q.display_icon = h("div", "display_icon");
 					q.display_iconBackground = h("div", "display_iconBackground");
 					q.display.appendChild(q.display_image);
 					q.display_iconBackground.appendChild(q.display_icon);
 					q.display.appendChild(q.display_iconBackground)
 				}
 				_css = a.utils.css;
 				_hide = function (v) {
 					_css(v, {
 						display: "none"
 					})
 				};

 				function r(v) {
 					_imageWidth = q.display_image.naturalWidth;
 					_imageHeight = q.display_image.naturalHeight;
 					t()
 				}
 				function t() {
 					a.utils.stretch(a.utils.stretching.UNIFORM, q.display_image, j, m, _imageWidth, _imageHeight)
 				}
 				q.display_image.onerror = function (v) {
 					_hide(q.display_image)
 				};
 				q.display_image.onload = r;
 				c.parentNode.replaceChild(q.display, c);
 				var p = (b.plugins && b.plugins.logo) ? b.plugins.logo : {};
 				q.display.appendChild(new a.embed.logo(b.components.logo, "download", c.id));
 				f.container = document.getElementById(f.id);
 				f.setPlayer(q.display, "download")
 			};
 			this.supportsConfig = function () {
 				if (b) {
 					var j = a.utils.getFirstPlaylistItemFromConfig(b);
 					if (typeof j.file == "undefined" && typeof j.levels == "undefined") {
 						return true
 					} else {
 						if (j.file) {
 							return e(j.file, j.provider, j.playlistfile)
 						} else {
 							if (j.levels && j.levels.length) {
 								for (var h = 0; h < j.levels.length; h++) {
 									if (j.levels[h].file && e(j.levels[h].file, j.provider, j.playlistfile)) {
 										return true
 									}
 								}
 							}
 						}
 					}
 				} else {
 					return true
 				}
 			};

 			function e(j, l, h) {
 				if (h) {
 					return false
 				}
 				var k = ["image", "sound", "youtube", "http"];
 				if (l && (k.toString().indexOf(l) > -1)) {
 					return true
 				}
 				if (!l || (l && l == "video")) {
 					var m = a.utils.extension(j);
 					if (m && a.utils.extensionmap[m]) {
 						return true
 					}
 				}
 				return false
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		a.embed.flash = function (f, g, l, e, j) {
 			function m(o, n, p) {
 				var q = document.createElement("param");
 				q.setAttribute("name", n);
 				q.setAttribute("value", p);
 				o.appendChild(q)
 			}
 			function k(o, p, n) {
 				return function (q) {
 					if (n) {
 						document.getElementById(j.id + "_wrapper").appendChild(p)
 					}
 					var s = document.getElementById(j.id).getPluginConfig("display");
 					o.resize(s.width, s.height);
 					var r = {
 						left: s.x,
 						top: s.y
 					};
 					a.utils.css(p, r)
 				}
 			}
 			function d(p) {
 				if (!p) {
 					return {}
 				}
 				var r = {};
 				for (var o in p) {
 					var n = p[o];
 					for (var q in n) {
 						r[o + "." + q] = n[q]
 					}
 				}
 				return r
 			}
 			function h(q, p) {
 				if (q[p]) {
 					var s = q[p];
 					for (var o in s) {
 						var n = s[o];
 						if (typeof n == "string") {
 							if (!q[o]) {
 								q[o] = n
 							}
 						} else {
 							for (var r in n) {
 								if (!q[o + "." + r]) {
 									q[o + "." + r] = n[r]
 								}
 							}
 						}
 					}
 					delete q[p]
 				}
 			}
 			function b(q) {
 				if (!q) {
 					return {}
 				}
 				var t = {},
 				s = [];
 				for (var n in q) {
 					var p = a.utils.getPluginName(n);
 					var o = q[n];
 					s.push(n);
 					for (var r in o) {
 						t[p + "." + r] = o[r]
 					}
 				}
 				t.plugins = s.join(",");
 				return t
 			}
 			function c(p) {
 				var n = p.netstreambasepath ? "" : "netstreambasepath=" + encodeURIComponent(window.location.href.split("#")[0]) + "&";
 				for (var o in p) {
 					if (typeof(p[o]) == "object") {
 						n += o + "=" + encodeURIComponent("[[JSON]]" + a.utils.strings.jsonToString(p[o])) + "&"
 					} else {
 						n += o + "=" + encodeURIComponent(p[o]) + "&"
 					}
 				}
 				return n.substring(0, n.length - 1)
 			}
 			this.embed = function () {
 				l.id = j.id;
 				var y;
 				var q = a.utils.extend({}, l);
 				var n = q.width;
 				var w = q.height;
 				if (f.id + "_wrapper" == f.parentNode.id) {
 					y = document.getElementById(f.id + "_wrapper")
 				} else {
 					y = document.createElement("div");
 					y.id = f.id + "_wrapper";
 					a.utils.wrap(f, y);
 					a.utils.css(y, {
 						position: "relative",
 						width: n,
 						height: w
 					})
 				}
 				var o = e.setupPlugins(j, q, k);
 				if (o.length > 0) {
 					a.utils.extend(q, b(o.plugins))
 				} else {
 					delete q.plugins
 				}
 				var r = ["height", "width", "modes", "events"];
 				for (var u = 0; u < r.length; u++) {
 					delete q[r[u]]
 				}
 				var p = "opaque";
 				if (q.wmode) {
 					p = q.wmode
 				}
 				h(q, "components");
 				h(q, "providers");
 				if (typeof q["dock.position"] != "undefined") {
 					if (q["dock.position"].toString().toLowerCase() == "false") {
 						q.dock = q["dock.position"];
 						delete q["dock.position"]
 					}
 				}
 				var x = "#000000";
 				var t;
 				if (a.utils.isIE()) {
 					var v = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="' + x + '" width="100%" height="100%" id="' + f.id + '" name="' + f.id + '" tabindex=0"">';
 					v += '<param name="movie" value="' + g.src + '">';
 					v += '<param name="allowfullscreen" value="true">';
 					v += '<param name="allowscriptaccess" value="always">';
 					v += '<param name="seamlesstabbing" value="true">';
 					v += '<param name="wmode" value="' + p + '">';
 					v += '<param name="flashvars" value="' + c(q) + '">';
 					v += "</object>";
 					a.utils.setOuterHTML(f, v);
 					t = document.getElementById(f.id)
 				} else {
 					var s = document.createElement("object");
 					s.setAttribute("type", "application/x-shockwave-flash");
 					s.setAttribute("data", g.src);
 					s.setAttribute("width", "100%");
 					s.setAttribute("height", "100%");
 					s.setAttribute("bgcolor", "#000000");
 					s.setAttribute("id", f.id);
 					s.setAttribute("name", f.id);
 					s.setAttribute("tabindex", 0);
 					m(s, "allowfullscreen", "true");
 					m(s, "allowscriptaccess", "always");
 					m(s, "seamlesstabbing", "true");
 					m(s, "wmode", p);
 					m(s, "flashvars", c(q));
 					f.parentNode.replaceChild(s, f);
 					t = s
 				}
 				j.container = t;
 				j.setPlayer(t, "flash")
 			};
 			this.supportsConfig = function () {
 				if (a.utils.hasFlash()) {
 					if (l) {
 						var o = a.utils.getFirstPlaylistItemFromConfig(l);
 						if (typeof o.file == "undefined" && typeof o.levels == "undefined") {
 							return true
 						} else {
 							if (o.file) {
 								return flashCanPlay(o.file, o.provider)
 							} else {
 								if (o.levels && o.levels.length) {
 									for (var n = 0; n < o.levels.length; n++) {
 										if (o.levels[n].file && flashCanPlay(o.levels[n].file, o.provider)) {
 											return true
 										}
 									}
 								}
 							}
 						}
 					} else {
 						return true
 					}
 				}
 				return false
 			};
 			flashCanPlay = function (n, p) {
 				var o = ["video", "http", "sound", "image"];
 				if (p && (o.toString().indexOf(p < 0))) {
 					return true
 				}
 				var q = a.utils.extension(n);
 				if (!q) {
 					return true
 				}
 				if (a.utils.exists(a.utils.extensionmap[q]) && !a.utils.exists(a.utils.extensionmap[q].flash)) {
 					return false
 				}
 				return true
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		a.embed.html5 = function (c, g, b, d, f) {
 			function e(j, k, h) {
 				return function (l) {
 					var m = document.getElementById(c.id + "_displayarea");
 					if (h) {
 						m.appendChild(k)
 					}
 					j.resize(m.clientWidth, m.clientHeight);
 					k.left = m.style.left;
 					k.top = m.style.top
 				}
 			}
 			this.embed = function () {
 				if (a.html5) {
 					d.setupPlugins(f, b, e);
 					c.innerHTML = "";
 					var j = a.utils.extend({
 						screencolor: "0x000000"
 					}, b);
 					var h = ["plugins", "modes", "events"];
 					for (var k = 0; k < h.length; k++) {
 						delete j[h[k]]
 					}
 					if (j.levels && !j.sources) {
 						j.sources = b.levels
 					}
 					if (j.skin && j.skin.toLowerCase().indexOf(".zip") > 0) {
 						j.skin = j.skin.replace(/\.zip/i, ".xml")
 					}
 					var l = new(a.html5(c)).setup(j);
 					f.container = document.getElementById(f.id);
 					f.setPlayer(l, "html5")
 				} else {
 					return null
 				}
 			};
 			this.supportsConfig = function () {
 				if ( !! a.vid.canPlayType) {
 					if (b) {
 						var j = a.utils.getFirstPlaylistItemFromConfig(b);
 						if (typeof j.file == "undefined" && typeof j.levels == "undefined") {
 							return true
 						} else {
 							if (j.file) {
 								return html5CanPlay(a.vid, j.file, j.provider, j.playlistfile)
 							} else {
 								if (j.levels && j.levels.length) {
 									for (var h = 0; h < j.levels.length; h++) {
 										if (j.levels[h].file && html5CanPlay(a.vid, j.levels[h].file, j.provider, j.playlistfile)) {
 											return true
 										}
 									}
 								}
 							}
 						}
 					} else {
 						return true
 					}
 				}
 				return false
 			};
 			html5CanPlay = function (k, j, l, h) {
 				if (h) {
 					return false
 				}
 				if (l && l == "youtube") {
 					return true
 				}
 				if (l && l != "video" && l != "http" && l != "sound") {
 					return false
 				}
 				var m = a.utils.extension(j);
 				if (!a.utils.exists(m) || !a.utils.exists(a.utils.extensionmap[m])) {
 					return true
 				}
 				if (!a.utils.exists(a.utils.extensionmap[m].html5)) {
 					return false
 				}
 				if (a.utils.isLegacyAndroid() && m.match(/m4v|mp4/)) {
 					return true
 				}
 				return browserCanPlay(k, a.utils.extensionmap[m].html5)
 			};
 			browserCanPlay = function (j, h) {
 				if (!h) {
 					return true
 				}
 				if (j.canPlayType(h)) {
 					return true
 				} else {
 					if (h == "audio/mp3" && navigator.userAgent.match(/safari/i)) {
 						return j.canPlayType("audio/mpeg")
 					} else {
 						return false
 					}
 				}
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		a.embed.logo = function (m, l, d) {
 			var j = {
 				prefix: "http://l.longtailvideo.com/" + l + "/",
 				file: "logo.png",
 				link: "http://www.longtailvideo.com/players/jw-flv-player/",
 				margin: 8,
 				out: 0.5,
 				over: 1,
 				timeout: 5,
 				hide: false,
 				position: "bottom-left"
 			};
 			_css = a.utils.css;
 			var b;
 			var h;
 			k();

 			function k() {
 				o();
 				c();
 				f()
 			}
 			function o() {
 				if (j.prefix) {
 					var q = a.version.split(/\W/).splice(0, 2).join("/");
 					if (j.prefix.indexOf(q) < 0) {
 						j.prefix += q + "/"
 					}
 				}
 				h = a.utils.extend({}, j)
 			}
 			function p() {
 				var s = {
 					border: "none",
 					textDecoration: "none",
 					position: "absolute",
 					cursor: "pointer",
 					zIndex: 10
 				};
 				s.display = h.hide ? "none" : "block";
 				var r = h.position.toLowerCase().split("-");
 				for (var q in r) {
 					s[r[q]] = h.margin
 				}
 				return s
 			}
 			function c() {
 				b = document.createElement("img");
 				b.id = d + "_jwplayer_logo";
 				b.style.display = "none";
 				b.onload = function (q) {
 					_css(b, p());
 					e()
 				};
 				if (!h.file) {
 					return
 				}
 				if (h.file.indexOf("http://") === 0) {
 					b.src = h.file
 				} else {
 					b.src = h.prefix + h.file
 				}
 			}
 			if (!h.file) {
 				return
 			}
 			function f() {
 				if (h.link) {
 					b.onmouseover = g;
 					b.onmouseout = e;
 					b.onclick = n
 				} else {
 					this.mouseEnabled = false
 				}
 			}
 			function n(q) {
 				if (typeof q != "undefined") {
 					q.preventDefault();
 					q.stopPropagation()
 				}
 				if (h.link) {
 					window.open(h.link, "_blank")
 				}
 				return
 			}
 			function e(q) {
 				if (h.link) {
 					b.style.opacity = h.out
 				}
 				return
 			}
 			function g(q) {
 				if (h.hide) {
 					b.style.opacity = h.over
 				}
 				return
 			}
 			return b
 		}
 	})(jwplayer);
 	(function (a) {
 		a.html5 = function (b) {
 			var c = b;
 			this.setup = function (d) {
 				a.utils.extend(this, new a.html5.api(c, d));
 				return this
 			};
 			return this
 		}
 	})(jwplayer);
 	(function (a) {
 		var c = a.utils;
 		var b = c.css;
 		a.html5.view = function (s, r, e) {
 			var w = s;
 			var m = r;
 			var y = e;
 			var x;
 			var f;
 			var G;
 			var t;
 			var H;
 			var p;
 			var E;
 			var q = false;
 			var B, o;

 			function A() {
 				x = document.createElement("div");
 				x.id = m.id;
 				x.className = m.className;
 				_videowrapper = document.createElement("div");
 				_videowrapper.id = x.id + "_video_wrapper";
 				m.id = x.id + "_video";
 				b(x, {
 					position: "relative",
 					height: y.height,
 					width: y.width,
 					padding: 0,
 					backgroundColor: I(),
 					zIndex: 0
 				});

 				function I() {
 					if (w.skin.getComponentSettings("display") && w.skin.getComponentSettings("display").backgroundcolor) {
 						return w.skin.getComponentSettings("display").backgroundcolor
 					}
 					return parseInt("000000", 16)
 				}
 				b(m, {
 					width: "100%",
 					height: "100%",
 					top: 0,
 					left: 0,
 					zIndex: 1,
 					margin: "auto",
 					display: "block"
 				});
 				b(_videowrapper, {
 					overflow: "hidden",
 					position: "absolute",
 					top: 0,
 					left: 0,
 					bottom: 0,
 					right: 0
 				});
 				c.wrap(m, x);
 				c.wrap(m, _videowrapper);
 				t = document.createElement("div");
 				t.id = x.id + "_displayarea";
 				x.appendChild(t)
 			}
 			function j() {
 				for (var I = 0; I < y.plugins.order.length; I++) {
 					var J = y.plugins.order[I];
 					if (c.exists(y.plugins.object[J].getDisplayElement)) {
 						y.plugins.object[J].height = c.parseDimension(y.plugins.object[J].getDisplayElement().style.height);
 						y.plugins.object[J].width = c.parseDimension(y.plugins.object[J].getDisplayElement().style.width);
 						y.plugins.config[J].currentPosition = y.plugins.config[J].position
 					}
 				}
 				v()
 			}
 			function l(I) {
 				b(t, {
 					display: (y.getMedia() && y.getMedia().hasChrome() && I.newstate != a.api.events.state.IDLE) ? "none" : "block"
 				})
 			}
 			function v(J) {
 				var L = y.getMedia() ? y.getMedia().getDisplayElement() : null;
 				if (c.exists(L)) {
 					if (E != L) {
 						if (E && E.parentNode) {
 							E.parentNode.replaceChild(L, E)
 						}
 						E = L
 					}
 					for (var I = 0; I < y.plugins.order.length; I++) {
 						var K = y.plugins.order[I];
 						if (c.exists(y.plugins.object[K].getDisplayElement)) {
 							y.plugins.config[K].currentPosition = y.plugins.config[K].position
 						}
 					}
 				}
 				h(y.width, y.height)
 			}
 			this.setup = function () {
 				if (y && y.getMedia()) {
 					m = y.getMedia().getDisplayElement()
 				}
 				A();
 				j();
 				w.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE, l);
 				w.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_LOADED, v);
 				w.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_META, function () {
 					z()
 				});
 				var I;
 				if (c.exists(window.onresize)) {
 					I = window.onresize
 				}
 				window.onresize = function (J) {
 					if (c.exists(I)) {
 						try {
 							I(J)
 						} catch (L) {}
 					}
 					if (w.jwGetFullscreen()) {
 						if (!C()) {
 							var K = c.getBoundingClientRect(document.body);
 							y.width = Math.abs(K.left) + Math.abs(K.right);
 							y.height = window.innerHeight;
 							h(y.width, y.height)
 						}
 					} else {
 						h(y.width, y.height)
 					}
 				}
 			};

 			function g(I) {
 				switch (I.keyCode) {
 					case 27:
 					if (w.jwGetFullscreen()) {
 						w.jwSetFullscreen(false)
 					}
 					break;
 					case 32:
 					if (w.jwGetState() != a.api.events.state.IDLE && w.jwGetState() != a.api.events.state.PAUSED) {
 						w.jwPause()
 					} else {
 						w.jwPlay()
 					}
 					break
 				}
 			}
 			function h(L, I) {
 				if (x.style.display == "none") {
 					return
 				}
 				var K = [].concat(y.plugins.order);
 				K.reverse();
 				H = K.length + 2;
 				if (C()) {
 					try {
 						if (y.fullscreen && !y.getMedia().getDisplayElement().webkitDisplayingFullscreen) {
 							y.fullscreen = false
 						}
 					} catch (N) {}
 				}
 				if (!y.fullscreen) {
 					f = L;
 					G = I;
 					if (typeof L == "string" && L.indexOf("%") > 0) {
 						f = c.getElementWidth(c.parentNode(x)) * parseInt(L.replace("%"), "") / 100
 					} else {
 						f = L
 					}
 					if (typeof I == "string" && I.indexOf("%") > 0) {
 						G = c.getElementHeight(c.parentNode(x)) * parseInt(I.replace("%"), "") / 100
 					} else {
 						G = I
 					}
 					b(t, {
 						top: 0,
 						bottom: 0,
 						left: 0,
 						right: 0,
 						width: f,
 						height: G,
 						position: "absolute"
 					});
 					b(x, {
 						height: G,
 						width: f
 					});
 					var J = n(u, K);
 					if (J.length > 0) {
 						H += J.length;
 						var O = J.indexOf("playlist"),
 						M = J.indexOf("controlbar");
 						if (O >= 0 && M >= 0) {
 							J[O] = J.splice(M, 1, J[O])[0]
 						}
 						n(k, J, true)
 					}
 					B = c.getElementWidth(t);
 					o = c.getElementHeight(t)
 				} else {
 					if (!C()) {
 						n(F, K, true)
 					}
 				}
 				z()
 			}
 			function n(P, L, M) {
 				var N = [];
 				for (var K = 0; K < L.length; K++) {
 					var O = L[K];
 					if (c.exists(y.plugins.object[O].getDisplayElement)) {
 						if (y.plugins.config[O].currentPosition != a.html5.view.positions.NONE) {
 							var I = P(O, H--);
 							if (!I) {
 								N.push(O)
 							} else {
 								var J = I.width;
 								var Q = I.height;
 								if (M) {
 									delete I.width;
 									delete I.height
 								}
 								b(y.plugins.object[O].getDisplayElement(), I);
 								y.plugins.object[O].resize(J, Q)
 							}
 						} else {
 							b(y.plugins.object[O].getDisplayElement(), {
 								display: "none"
 							})
 						}
 					}
 				}
 				return N
 			}
 			function u(J, K) {
 				if (c.exists(y.plugins.object[J].getDisplayElement)) {
 					if (y.plugins.config[J].position && D(y.plugins.config[J].position)) {
 						if (!c.exists(y.plugins.object[J].getDisplayElement().parentNode)) {
 							x.appendChild(y.plugins.object[J].getDisplayElement())
 						}
 						var I = d(J);
 						I.zIndex = K;
 						return I
 					}
 				}
 				return false
 			}
 			function k(I, J) {
 				if (!c.exists(y.plugins.object[I].getDisplayElement().parentNode)) {
 					t.appendChild(y.plugins.object[I].getDisplayElement())
 				}
 				return {
 					position: "absolute",
 					width: (c.getElementWidth(t) - c.parseDimension(t.style.left) - c.parseDimension(t.style.right)),
 					height: (c.getElementHeight(t) - c.parseDimension(t.style.top) - c.parseDimension(t.style.bottom)),
 					zIndex: J
 				}
 			}
 			function F(I, J) {
 				return {
 					position: "fixed",
 					width: y.width,
 					height: y.height,
 					zIndex: J
 				}
 			}
 			function z() {
 				if (!c.exists(y.getMedia())) {
 					return
 				}
 				t.style.position = "absolute";
 				var K = y.getMedia().getDisplayElement();
 				if (K && K.tagName.toLowerCase() == "video") {
 					K.style.position = "absolute";
 					if (K.parentNode) {
 						K.parentNode.style.left = t.style.left;
 						K.parentNode.style.top = t.style.top
 					}
 					if (y.fullscreen && w.jwGetStretching() == a.utils.stretching.EXACTFIT && !c.isMobile()) {
 						var I = document.createElement("div");
 						c.stretch(a.utils.stretching.UNIFORM, I, c.getElementWidth(t), c.getElementHeight(t), B, o);
 						c.stretch(a.utils.stretching.EXACTFIT, K, c.parseDimension(I.style.width), c.parseDimension(I.style.height), K.videoWidth ? K.videoWidth : 400, K.videoHeight ? K.videoHeight : 300);
 						b(K, {
 							left: I.style.left,
 							top: I.style.top
 						})
 					} else {
 						c.stretch(w.jwGetStretching(), K, c.getElementWidth(t), c.getElementHeight(t), K.videoWidth ? K.videoWidth : 400, K.videoHeight ? K.videoHeight : 300)
 					}
 				} else {
 					var J = y.plugins.object.display.getDisplayElement();
 					if (J) {
 						y.getMedia().resize(c.parseDimension(J.style.width), c.parseDimension(J.style.height))
 					} else {
 						y.getMedia().resize(c.parseDimension(t.style.width), c.parseDimension(t.style.height))
 					}
 				}
 			}
 			function d(J) {
 				var K = {
 					position: "absolute",
 					margin: 0,
 					padding: 0,
 					top: null
 				};
 				var I = y.plugins.config[J].currentPosition.toLowerCase();
 				switch (I.toUpperCase()) {
 					case a.html5.view.positions.TOP:
 					K.top = c.parseDimension(t.style.top);
 					K.left = c.parseDimension(t.style.left);
 					K.width = c.getElementWidth(t) - c.parseDimension(t.style.left) - c.parseDimension(t.style.right);
 					K.height = y.plugins.object[J].height;
 					t.style[I] = c.parseDimension(t.style[I]) + y.plugins.object[J].height + "px";
 					t.style.height = c.getElementHeight(t) - K.height + "px";
 					break;
 					case a.html5.view.positions.RIGHT:
 					K.top = c.parseDimension(t.style.top);
 					K.right = c.parseDimension(t.style.right);
 					K.width = y.plugins.object[J].width;
 					K.height = c.getElementHeight(t) - c.parseDimension(t.style.top) - c.parseDimension(t.style.bottom);
 					t.style.width = c.getElementWidth(t) - K.width + "px";
 					break;
 					case a.html5.view.positions.BOTTOM:
 					K.bottom = c.parseDimension(t.style.bottom);
 					K.left = c.parseDimension(t.style.left);
 					K.width = c.getElementWidth(t) - c.parseDimension(t.style.left) - c.parseDimension(t.style.right);
 					K.height = y.plugins.object[J].height;
 					t.style.height = c.getElementHeight(t) - K.height + "px";
 					break;
 					case a.html5.view.positions.LEFT:
 					K.top = c.parseDimension(t.style.top);
 					K.left = c.parseDimension(t.style.left);
 					K.width = y.plugins.object[J].width;
 					K.height = c.getElementHeight(t) - c.parseDimension(t.style.top) - c.parseDimension(t.style.bottom);
 					t.style[I] = c.parseDimension(t.style[I]) + y.plugins.object[J].width + "px";
 					t.style.width = c.getElementWidth(t) - K.width + "px";
 					break;
 					default:
 					break
 				}
 				return K
 			}
 			this.resize = h;
 			this.fullscreen = function (L) {
 				var N;
 				try {
 					N = y.getMedia().getDisplayElement()
 				} catch (M) {}
 				if (C() && N && N.webkitSupportsFullscreen) {
 					if (L && !N.webkitDisplayingFullscreen) {
 						try {
 							c.transform(N);
 							N.webkitEnterFullscreen()
 						} catch (K) {}
 					} else {
 						if (!L) {
 							z();
 							if (N.webkitDisplayingFullscreen) {
 								try {
 									N.webkitExitFullscreen()
 								} catch (K) {}
 							}
 						}
 					}
 					q = false
 				} else {
 					if (L) {
 						document.onkeydown = g;
 						clearInterval(p);
 						var J = c.getBoundingClientRect(document.body);
 						y.width = Math.abs(J.left) + Math.abs(J.right);
 						y.height = window.innerHeight;
 						var I = {
 							position: "fixed",
 							width: "100%",
 							height: "100%",
 							top: 0,
 							left: 0,
 							zIndex: 2147483000
 						};
 						b(x, I);
 						I.zIndex = 1;
 						if (y.getMedia() && y.getMedia().getDisplayElement()) {
 							b(y.getMedia().getDisplayElement(), I)
 						}
 						I.zIndex = 2;
 						b(t, I);
 						q = true
 					} else {
 						document.onkeydown = "";
 						y.width = f;
 						y.height = G;
 						b(x, {
 							position: "relative",
 							height: y.height,
 							width: y.width,
 							zIndex: 0
 						});
 						q = false
 					}
 					h(y.width, y.height)
 				}
 			};

 			function D(I) {
 				return ([a.html5.view.positions.TOP, a.html5.view.positions.RIGHT, a.html5.view.positions.BOTTOM, a.html5.view.positions.LEFT].toString().indexOf(I.toUpperCase()) > -1)
 			}
 			function C() {
 				if (w.jwGetState() != a.api.events.state.IDLE && !q && (y.getMedia() && y.getMedia().getDisplayElement() && y.getMedia().getDisplayElement().webkitSupportsFullscreen) && c.useNativeFullscreen()) {
 					return true
 				}
 				return false
 			}
 		};
 		a.html5.view.positions = {
 			TOP: "TOP",
 			RIGHT: "RIGHT",
 			BOTTOM: "BOTTOM",
 			LEFT: "LEFT",
 			OVER: "OVER",
 			NONE: "NONE"
 		}
 	})(jwplayer);
 	(function (a) {
 		var b = {
 			backgroundcolor: "",
 			margin: 10,
 			font: "Arial,sans-serif",
 			fontsize: 10,
 			fontcolor: parseInt("000000", 16),
 			fontstyle: "normal",
 			fontweight: "bold",
 			buttoncolor: parseInt("ffffff", 16),
 			position: a.html5.view.positions.BOTTOM,
 			idlehide: false,
 			hideplaylistcontrols: false,
 			layout: {
 				left: {
 					position: "left",
 					elements: [{
 						name: "play",
 						type: "button"
 					},
 					{
 						name: "divider",
 						type: "divider"
 					},
 					{
 						name: "prev",
 						type: "button"
 					},
 					{
 						name: "divider",
 						type: "divider"
 					},
 					{
 						name: "next",
 						type: "button"
 					},
 					{
 						name: "divider",
 						type: "divider"
 					},
 					{
 						name: "elapsed",
 						type: "text"
 					}]
 				},
 				center: {
 					position: "center",
 					elements: [{
 						name: "time",
 						type: "slider"
 					}]
 				},
 				right: {
 					position: "right",
 					elements: [{
 						name: "duration",
 						type: "text"
 					},
 					{
 						name: "blank",
 						type: "button"
 					},
 					{
 						name: "divider",
 						type: "divider"
 					},
 					{
 						name: "mute",
 						type: "button"
 					},
 					{
 						name: "volume",
 						type: "slider"
 					},
 					{
 						name: "divider",
 						type: "divider"
 					},
 					{
 						name: "fullscreen",
 						type: "button"
 					}]
 				}
 			}
 		};
 		_utils = a.utils;
 		_css = _utils.css;
 		_hide = function (c) {
 			_css(c, {
 				display: "none"
 			})
 		};
 		_show = function (c) {
 			_css(c, {
 				display: "block"
 			})
 		};
 		a.html5.controlbar = function (m, X) {
 			window.controlbar = this;
 			var l = m;
 			var D = _utils.extend({}, b, l.skin.getComponentSettings("controlbar"), X);
 			if (D.position == a.html5.view.positions.NONE || typeof a.html5.view.positions[D.position] == "undefined") {
 				return
 			}
 			if (_utils.mapLength(l.skin.getComponentLayout("controlbar")) > 0) {
 				D.layout = l.skin.getComponentLayout("controlbar")
 			}
 			var af;
 			var Q;
 			var ae;
 			var E;
 			var w = "none";
 			var h;
 			var k;
 			var ag;
 			var g;
 			var f;
 			var z;
 			var R = {};
 			var q = false;
 			var c = {};
 			var ab;
 			var j = false;
 			var p;
 			var d;
 			var U = false;
 			var G = false;
 			var H;
 			var Z = new a.html5.eventdispatcher();
 			_utils.extend(this, Z);

 			function K() {
 				if (!ab) {
 					ab = l.skin.getSkinElement("controlbar", "background");
 					if (!ab) {
 						ab = {
 							width: 0,
 							height: 0,
 							src: null
 						}
 					}
 				}
 				return ab
 			}
 			function O() {
 				ae = 0;
 				E = 0;
 				Q = 0;
 				if (!q) {
 					var ao = {
 						height: K().height,
 						backgroundColor: D.backgroundcolor
 					};
 					af = document.createElement("div");
 					af.id = l.id + "_jwplayer_controlbar";
 					_css(af, ao)
 				}
 				var an = (l.skin.getSkinElement("controlbar", "capLeft"));
 				var am = (l.skin.getSkinElement("controlbar", "capRight"));
 				if (an) {
 					y("capLeft", "left", false, af)
 				}
 				ac("background", af, {
 					position: "absolute",
 					height: K().height,
 					left: (an ? an.width : 0),
 					zIndex: 0
 				}, "img");
 				if (K().src) {
 					R.background.src = K().src
 				}
 				ac("elements", af, {
 					position: "relative",
 					height: K().height,
 					zIndex: 1
 				});
 				if (am) {
 					y("capRight", "right", false, af)
 				}
 			}
 			this.getDisplayElement = function () {
 				return af
 			};
 			this.resize = function (ao, am) {
 				S();
 				_utils.cancelAnimation(af);
 				f = ao;
 				z = am;
 				if (G != l.jwGetFullscreen()) {
 					G = l.jwGetFullscreen();
 					d = undefined
 				}
 				var an = x();
 				J({
 					id: l.id,
 					duration: ag,
 					position: k
 				});
 				v({
 					id: l.id,
 					bufferPercent: g
 				});
 				return an
 			};
 			this.show = function () {
 				if (j) {
 					j = false;
 					_show(af);
 					V()
 				}
 			};
 			this.hide = function () {
 				if (!j) {
 					j = true;
 					_hide(af);
 					ad()
 				}
 			};

 			function r() {
 				var an = ["timeSlider", "volumeSlider", "timeSliderRail", "volumeSliderRail"];
 				for (var ao in an) {
 					var am = an[ao];
 					if (typeof R[am] != "undefined") {
 						c[am] = _utils.getBoundingClientRect(R[am])
 					}
 				}
 			}
 			var e;

 			function Y(am) {
 				if (j) {
 					return
 				}
 				clearTimeout(p);
 				if (D.position == a.html5.view.positions.OVER || l.jwGetFullscreen()) {
 					switch (l.jwGetState()) {
 						case a.api.events.state.PAUSED:
 						case a.api.events.state.IDLE:
 						if (af && af.style.opacity < 1 && (!D.idlehide || _utils.exists(am))) {
 							e = false;
 							setTimeout(function () {
 								if (!e) {
 									W()
 								}
 							}, 100)
 						}
 						if (D.idlehide) {
 							p = setTimeout(function () {
 								A()
 							}, 2000)
 						}
 						break;
 						default:
 						e = true;
 						if (am) {
 							W()
 						}
 						p = setTimeout(function () {
 							A()
 						}, 2000);
 						break
 					}
 				} else {
 					W()
 				}
 			}
 			function A() {
 				if (!j) {
 					ad();
 					if (af.style.opacity == 1) {
 						_utils.cancelAnimation(af);
 						_utils.fadeTo(af, 0, 0.1, 1, 0)
 					}
 				}
 			}
 			function W() {
 				if (!j) {
 					V();
 					if (af.style.opacity == 0) {
 						_utils.cancelAnimation(af);
 						_utils.fadeTo(af, 1, 0.1, 0, 0)
 					}
 				}
 			}
 			function I(am) {
 				return function () {
 					if (U && d != am) {
 						d = am;
 						Z.sendEvent(am, {
 							component: "controlbar",
 							boundingRect: P()
 						})
 					}
 				}
 			}
 			var V = I(a.api.events.JWPLAYER_COMPONENT_SHOW);
 			var ad = I(a.api.events.JWPLAYER_COMPONENT_HIDE);

 			function P() {
 				if (D.position == a.html5.view.positions.OVER || l.jwGetFullscreen()) {
 					return _utils.getDimensions(af)
 				} else {
 					return {
 						x: 0,
 						y: 0,
 						width: 0,
 						height: 0
 					}
 				}
 			}
 			function ac(aq, ap, ao, am) {
 				var an;
 				if (!q) {
 					if (!am) {
 						am = "div"
 					}
 					an = document.createElement(am);
 					R[aq] = an;
 					an.id = af.id + "_" + aq;
 					ap.appendChild(an)
 				} else {
 					an = document.getElementById(af.id + "_" + aq)
 				}
 				if (_utils.exists(ao)) {
 					_css(an, ao)
 				}
 				return an
 			}
 			function N() {
 				if (l.jwGetHeight() <= 40) {
 					D.layout = _utils.clone(D.layout);
 					for (var am = 0; am < D.layout.left.elements.length; am++) {
 						if (D.layout.left.elements[am].name == "fullscreen") {
 							D.layout.left.elements.splice(am, 1)
 						}
 					}
 					for (am = 0; am < D.layout.right.elements.length; am++) {
 						if (D.layout.right.elements[am].name == "fullscreen") {
 							D.layout.right.elements.splice(am, 1)
 						}
 					}
 					o()
 				}
 				al(D.layout.left);
 				al(D.layout.center);
 				al(D.layout.right)
 			}
 			function al(ap, am) {
 				var aq = ap.position == "right" ? "right" : "left";
 				var ao = _utils.extend([], ap.elements);
 				if (_utils.exists(am)) {
 					ao.reverse()
 				}
 				var ap = ac(ap.position + "Group", R.elements, {
 					"float": "left",
 					styleFloat: "left",
 					cssFloat: "left",
 					height: "100%"
 				});
 				for (var an = 0; an < ao.length; an++) {
 					C(ao[an], aq, ap)
 				}
 			}
 			function L() {
 				return Q++
 			}
 			function C(aq, at, av) {
 				var ap, an, ao, am, aw;
 				if (!av) {
 					av = R.elements
 				}
 				if (aq.type == "divider") {
 					y("divider" + L(), at, true, av, undefined, aq.width, aq.element);
 					return
 				}
 				switch (aq.name) {
 					case "play":
 					y("playButton", at, false, av);
 					y("pauseButton", at, true, av);
 					T("playButton", "jwPlay");
 					T("pauseButton", "jwPause");
 					break;
 					case "prev":
 					y("prevButton", at, true, av);
 					T("prevButton", "jwPlaylistPrev");
 					break;
 					case "stop":
 					y("stopButton", at, true, av);
 					T("stopButton", "jwStop");
 					break;
 					case "next":
 					y("nextButton", at, true, av);
 					T("nextButton", "jwPlaylistNext");
 					break;
 					case "elapsed":
 					y("elapsedText", at, true, av);
 					break;
 					case "time":
 					an = !_utils.exists(l.skin.getSkinElement("controlbar", "timeSliderCapLeft")) ? 0 : l.skin.getSkinElement("controlbar", "timeSliderCapLeft").width;
 					ao = !_utils.exists(l.skin.getSkinElement("controlbar", "timeSliderCapRight")) ? 0 : l.skin.getSkinElement("controlbar", "timeSliderCapRight").width;
 					ap = at == "left" ? an : ao;
 					aw = {
 						height: K().height,
 						position: "relative",
 						"float": "left",
 						styleFloat: "left",
 						cssFloat: "left"
 					};
 					var ar = ac("timeSlider", av, aw);
 					y("timeSliderCapLeft", at, true, ar, "relative");
 					y("timeSliderRail", at, false, ar, "relative");
 					y("timeSliderBuffer", at, false, ar, "absolute");
 					y("timeSliderProgress", at, false, ar, "absolute");
 					y("timeSliderThumb", at, false, ar, "absolute");
 					y("timeSliderCapRight", at, true, ar, "relative");
 					aa("time");
 					break;
 					case "fullscreen":
 					y("fullscreenButton", at, false, av);
 					y("normalscreenButton", at, true, av);
 					T("fullscreenButton", "jwSetFullscreen", true);
 					T("normalscreenButton", "jwSetFullscreen", false);
 					break;
 					case "volume":
 					an = !_utils.exists(l.skin.getSkinElement("controlbar", "volumeSliderCapLeft")) ? 0 : l.skin.getSkinElement("controlbar", "volumeSliderCapLeft").width;
 					ao = !_utils.exists(l.skin.getSkinElement("controlbar", "volumeSliderCapRight")) ? 0 : l.skin.getSkinElement("controlbar", "volumeSliderCapRight").width;
 					ap = at == "left" ? an : ao;
 					am = l.skin.getSkinElement("controlbar", "volumeSliderRail").width + an + ao;
 					aw = {
 						height: K().height,
 						position: "relative",
 						width: am,
 						"float": "left",
 						styleFloat: "left",
 						cssFloat: "left"
 					};
 					var au = ac("volumeSlider", av, aw);
 					y("volumeSliderCapLeft", at, false, au, "relative");
 					y("volumeSliderRail", at, false, au, "relative");
 					y("volumeSliderProgress", at, false, au, "absolute");
 					y("volumeSliderThumb", at, false, au, "absolute");
 					y("volumeSliderCapRight", at, false, au, "relative");
 					aa("volume");
 					break;
 					case "mute":
 					y("muteButton", at, false, av);
 					y("unmuteButton", at, true, av);
 					T("muteButton", "jwSetMute", true);
 					T("unmuteButton", "jwSetMute", false);
 					break;
 					case "duration":
 					y("durationText", at, true, av);
 					break
 				}
 			}
 			function y(ap, at, an, aw, aq, am, ao) {
 				if (_utils.exists(l.skin.getSkinElement("controlbar", ap)) || ap.indexOf("Text") > 0 || ap.indexOf("divider") === 0) {
 					var ar = {
 						height: "100%",
 						position: aq ? aq : "relative",
 						display: "block",
 						"float": "left",
 						styleFloat: "left",
 						cssFloat: "left"
 					};
 					if ((ap.indexOf("next") === 0 || ap.indexOf("prev") === 0) && (l.jwGetPlaylist().length < 2 || D.hideplaylistcontrols)) {
 						an = false;
 						ar.display = "none"
 					}
 					var ax;
 					if (ap.indexOf("Text") > 0) {
 						ap.innerhtml = "00:00";
 						ar.font = D.fontsize + "px/" + (K().height + 1) + "px " + D.font;
 						ar.color = D.fontcolor;
 						ar.textAlign = "center";
 						ar.fontWeight = D.fontweight;
 						ar.fontStyle = D.fontstyle;
 						ar.cursor = "default";
 						ax = 14 + 3 * D.fontsize
 					} else {
 						if (ap.indexOf("divider") === 0) {
 							if (am) {
 								if (!isNaN(parseInt(am))) {
 									ax = parseInt(am)
 								}
 							} else {
 								if (ao) {
 									var au = l.skin.getSkinElement("controlbar", ao);
 									if (au) {
 										ar.background = "url(" + au.src + ") repeat-x center left";
 										ax = au.width
 									}
 								} else {
 									ar.background = "url(" + l.skin.getSkinElement("controlbar", "divider").src + ") repeat-x center left";
 									ax = l.skin.getSkinElement("controlbar", "divider").width
 								}
 							}
 						} else {
 							ar.background = "url(" + l.skin.getSkinElement("controlbar", ap).src + ") repeat-x center left";
 							ax = l.skin.getSkinElement("controlbar", ap).width
 						}
 					}
 					if (at == "left") {
 						if (an) {
 							ae += ax
 						}
 					} else {
 						if (at == "right") {
 							if (an) {
 								E += ax
 							}
 						}
 					}
 					if (_utils.typeOf(aw) == "undefined") {
 						aw = R.elements
 					}
 					ar.width = ax;
 					if (q) {
 						_css(R[ap], ar)
 					} else {
 						var av = ac(ap, aw, ar);
 						if (_utils.exists(l.skin.getSkinElement("controlbar", ap + "Over"))) {
 							av.onmouseover = function (ay) {
 								av.style.backgroundImage = ["url(", l.skin.getSkinElement("controlbar", ap + "Over").src, ")"].join("")
 							};
 							av.onmouseout = function (ay) {
 								av.style.backgroundImage = ["url(", l.skin.getSkinElement("controlbar", ap).src, ")"].join("")
 							}
 						}
 						if (ap.indexOf("divider") == 0) {
 							av.setAttribute("class", "divider")
 						}
 					}
 				}
 			}
 			function F() {
 				l.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED, B);
 				l.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_ITEM, t);
 				l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_BUFFER, v);
 				l.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE, s);
 				l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_TIME, J);
 				l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_MUTE, ak);
 				l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_VOLUME, n);
 				l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_COMPLETE, M)
 			}
 			function B() {
 				if (!D.hideplaylistcontrols) {
 					if (l.jwGetPlaylist().length > 1) {
 						_show(R.nextButton);
 						_show(R.prevButton)
 					} else {
 						_hide(R.nextButton);
 						_hide(R.prevButton)
 					}
 					x();
 					ah()
 				}
 			}
 			function t(am) {
 				ag = l.jwGetPlaylist()[am.index].duration;
 				J({
 					id: l.id,
 					duration: ag,
 					position: 0
 				});
 				v({
 					id: l.id,
 					bufferProgress: 0
 				})
 			}
 			function ah() {
 				J({
 					id: l.id,
 					duration: l.jwGetDuration(),
 					position: 0
 				});
 				v({
 					id: l.id,
 					bufferProgress: 0
 				});
 				ak({
 					id: l.id,
 					mute: l.jwGetMute()
 				});
 				s({
 					id: l.id,
 					newstate: a.api.events.state.IDLE
 				});
 				n({
 					id: l.id,
 					volume: l.jwGetVolume()
 				})
 			}
 			function T(ao, ap, an) {
 				if (q) {
 					return
 				}
 				if (_utils.exists(l.skin.getSkinElement("controlbar", ao))) {
 					var am = R[ao];
 					if (_utils.exists(am)) {
 						_css(am, {
 							cursor: "pointer"
 						});
 						if (ap == "fullscreen") {
 							am.onmouseup = function (aq) {
 								aq.stopPropagation();
 								l.jwSetFullscreen(!l.jwGetFullscreen())
 							}
 						} else {
 							am.onmouseup = function (aq) {
 								aq.stopPropagation();
 								if (_utils.exists(an)) {
 									l[ap](an)
 								} else {
 									l[ap]()
 								}
 							}
 						}
 					}
 				}
 			}
 			function aa(am) {
 				if (q) {
 					return
 				}
 				var an = R[am + "Slider"];
 				_css(R.elements, {
 					cursor: "pointer"
 				});
 				_css(an, {
 					cursor: "pointer"
 				});
 				an.onmousedown = function (ao) {
 					w = am
 				};
 				an.onmouseup = function (ao) {
 					ao.stopPropagation();
 					aj(ao.pageX)
 				};
 				an.onmousemove = function (ao) {
 					if (w == "time") {
 						h = true;
 						var ap = ao.pageX - c[am + "Slider"].left - window.pageXOffset;
 						_css(R[w + "SliderThumb"], {
 							left: ap
 						})
 					}
 				}
 			}
 			function aj(an) {
 				h = false;
 				var am;
 				if (w == "time") {
 					am = an - c.timeSliderRail.left + window.pageXOffset;
 					var ap = am / c.timeSliderRail.width * ag;
 					if (ap < 0) {
 						ap = 0
 					} else {
 						if (ap > ag) {
 							ap = ag - 3
 						}
 					}
 					if (l.jwGetState() == a.api.events.state.PAUSED || l.jwGetState() == a.api.events.state.IDLE) {
 						l.jwPlay()
 					}
 					l.jwSeek(ap)
 				} else {
 					if (w == "volume") {
 						am = an - c.volumeSliderRail.left - window.pageXOffset;
 						var ao = Math.round(am / c.volumeSliderRail.width * 100);
 						if (ao < 0) {
 							ao = 0
 						} else {
 							if (ao > 100) {
 								ao = 100
 							}
 						}
 						if (l.jwGetMute()) {
 							l.jwSetMute(false)
 						}
 						l.jwSetVolume(ao)
 					}
 				}
 				w = "none"
 			}
 			function v(an) {
 				if (_utils.exists(an.bufferPercent)) {
 					g = an.bufferPercent
 				}
 				if (c.timeSliderRail) {
 					var ap = l.skin.getSkinElement("controlbar", "timeSliderCapLeft");
 					var ao = c.timeSliderRail.width;
 					var am = isNaN(Math.round(ao * g / 100)) ? 0 : Math.round(ao * g / 100);
 					_css(R.timeSliderBuffer, {
 						width: am,
 						left: ap ? ap.width : 0
 					})
 				}
 			}
 			function ak(am) {
 				if (am.mute) {
 					_hide(R.muteButton);
 					_show(R.unmuteButton);
 					_hide(R.volumeSliderProgress)
 				} else {
 					_show(R.muteButton);
 					_hide(R.unmuteButton);
 					_show(R.volumeSliderProgress)
 				}
 			}
 			function s(am) {
 				if (am.newstate == a.api.events.state.BUFFERING || am.newstate == a.api.events.state.PLAYING) {
 					_show(R.pauseButton);
 					_hide(R.playButton)
 				} else {
 					_hide(R.pauseButton);
 					_show(R.playButton)
 				}
 				Y();
 				if (am.newstate == a.api.events.state.IDLE) {
 					_hide(R.timeSliderBuffer);
 					_hide(R.timeSliderProgress);
 					_hide(R.timeSliderThumb);
 					J({
 						id: l.id,
 						duration: l.jwGetDuration(),
 						position: 0
 					})
 				} else {
 					_show(R.timeSliderBuffer);
 					if (am.newstate != a.api.events.state.BUFFERING) {
 						_show(R.timeSliderProgress);
 						_show(R.timeSliderThumb)
 					}
 				}
 			}
 			function M(am) {
 				v({
 					bufferPercent: 0
 				});
 				J(_utils.extend(am, {
 					position: 0,
 					duration: ag
 				}))
 			}
 			function J(ap) {
 				if (_utils.exists(ap.position)) {
 					k = ap.position
 				}
 				if (_utils.exists(ap.duration)) {
 					ag = ap.duration
 				}
 				var an = (k === ag === 0) ? 0 : k / ag;
 				var ar = c.timeSliderRail;
 				if (ar) {
 					var am = isNaN(Math.round(ar.width * an)) ? 0 : Math.round(ar.width * an);
 					var aq = l.skin.getSkinElement("controlbar", "timeSliderCapLeft");
 					var ao = am + (aq ? aq.width : 0);
 					if (R.timeSliderProgress) {
 						_css(R.timeSliderProgress, {
 							width: am,
 							left: aq ? aq.width : 0
 						});
 						if (!h) {
 							if (R.timeSliderThumb) {
 								R.timeSliderThumb.style.left = ao + "px"
 							}
 						}
 					}
 				}
 				if (R.durationText) {
 					R.durationText.innerHTML = _utils.timeFormat(ag)
 				}
 				if (R.elapsedText) {
 					R.elapsedText.innerHTML = _utils.timeFormat(k)
 				}
 			}
 			function o() {
 				var am = R.elements.childNodes;
 				var ar, ap;
 				for (var ao = 0; ao < am.length; ao++) {
 					var aq = am[ao].childNodes;
 					for (var an in aq) {
 						if (isNaN(parseInt(an, 10))) {
 							continue
 						}
 						if (aq[an].id.indexOf(af.id + "_divider") === 0 && ap && ap.id.indexOf(af.id + "_divider") === 0 && aq[an].style.backgroundImage == ap.style.backgroundImage) {
 							aq[an].style.display = "none"
 						} else {
 							if (aq[an].id.indexOf(af.id + "_divider") === 0 && ar && ar.style.display != "none") {
 								aq[an].style.display = "block"
 							}
 						}
 						if (aq[an].style.display != "none") {
 							ap = aq[an]
 						}
 						ar = aq[an]
 					}
 				}
 			}
 			function ai() {
 				if (l.jwGetFullscreen()) {
 					_show(R.normalscreenButton);
 					_hide(R.fullscreenButton)
 				} else {
 					_hide(R.normalscreenButton);
 					_show(R.fullscreenButton)
 				}
 				if (l.jwGetState() == a.api.events.state.BUFFERING || l.jwGetState() == a.api.events.state.PLAYING) {
 					_show(R.pauseButton);
 					_hide(R.playButton)
 				} else {
 					_hide(R.pauseButton);
 					_show(R.playButton)
 				}
 				if (l.jwGetMute() == true) {
 					_hide(R.muteButton);
 					_show(R.unmuteButton)
 				} else {
 					_show(R.muteButton);
 					_hide(R.unmuteButton)
 				}
 			}
 			function x() {
 				o();
 				ai();
 				var ao = {
 					width: f
 				};
 				var aw = {
 					"float": "left",
 					styleFloat: "left",
 					cssFloat: "left"
 				};
 				if (D.position == a.html5.view.positions.OVER || l.jwGetFullscreen()) {
 					ao.left = D.margin;
 					ao.width -= 2 * D.margin;
 					ao.top = z - K().height - D.margin;
 					ao.height = K().height
 				}
 				var aq = l.skin.getSkinElement("controlbar", "capLeft");
 				var au = l.skin.getSkinElement("controlbar", "capRight");
 				aw.width = ao.width - (aq ? aq.width : 0) - (au ? au.width : 0);
 				var ap = _utils.getBoundingClientRect(R.leftGroup).width;
 				var at = _utils.getBoundingClientRect(R.rightGroup).width;
 				var ar = aw.width - ap - at;
 				var an = ar;
 				var am = l.skin.getSkinElement("controlbar", "timeSliderCapLeft");
 				var av = l.skin.getSkinElement("controlbar", "timeSliderCapRight");
 				if (_utils.exists(am)) {
 					an -= am.width
 				}
 				if (_utils.exists(av)) {
 					an -= av.width
 				}
 				R.timeSlider.style.width = ar + "px";
 				R.timeSliderRail.style.width = an + "px";
 				_css(af, ao);
 				_css(R.elements, aw);
 				_css(R.background, aw);
 				r();
 				return ao
 			}
 			function n(ar) {
 				if (_utils.exists(R.volumeSliderRail)) {
 					var ao = isNaN(ar.volume / 100) ? 1 : ar.volume / 100;
 					var ap = _utils.parseDimension(R.volumeSliderRail.style.width);
 					var am = isNaN(Math.round(ap * ao)) ? 0 : Math.round(ap * ao);
 					var at = _utils.parseDimension(R.volumeSliderRail.style.right);
 					var an = (!_utils.exists(l.skin.getSkinElement("controlbar", "volumeSliderCapLeft"))) ? 0 : l.skin.getSkinElement("controlbar", "volumeSliderCapLeft").width;
 					_css(R.volumeSliderProgress, {
 						width: am,
 						left: an
 					});
 					if (R.volumeSliderThumb) {
 						var aq = (am - Math.round(_utils.parseDimension(R.volumeSliderThumb.style.width) / 2));
 						aq = Math.min(Math.max(aq, 0), ap - _utils.parseDimension(R.volumeSliderThumb.style.width));
 						_css(R.volumeSliderThumb, {
 							left: aq
 						})
 					}
 					if (_utils.exists(R.volumeSliderCapLeft)) {
 						_css(R.volumeSliderCapLeft, {
 							left: 0
 						})
 					}
 				}
 			}
 			function S() {
 				H = document.getElementById(l.id);
 				H.addEventListener("mousemove", Y)
 			}
 			function u() {
 				O();
 				N();
 				r();
 				q = true;
 				F();
 				D.idlehide = (D.idlehide.toString().toLowerCase() == "true");
 				if (D.position == a.html5.view.positions.OVER && D.idlehide) {
 					af.style.opacity = 0;
 					U = true
 				} else {
 					af.style.opacity = 1;
 					setTimeout((function () {
 						U = true;
 						V()
 					}), 1)
 				}
 				S();
 				ah()
 			}
 			u();
 			return this
 		}
 	})(jwplayer);
    //END CODE JWPLAYER


 	(function (b) {
 		var a = ["width", "height", "state", "playlist", "item", "position", "buffer", "duration", "volume", "mute", "fullscreen"];
 		var c = b.utils;
 		b.html5.controller = function (n, I, e, g) {
 			var m = n;
 			var k = e;
 			var h = g;
 			var x = I;
 			var K = true;
 			var E = -1;
 			var z = c.exists(k.config.debug) && (k.config.debug.toString().toLowerCase() == "console");
 			var L = new b.html5.eventdispatcher(x.id, z);
 			c.extend(this, L);
 			var B = [];
 			var p = false;

 			function J(Q) {
 				if (p) {
 					L.sendEvent(Q.type, Q)
 				} else {
 					B.push(Q)
 				}
 			}
 			function r(Q) {
 				if (!p) {
 					p = true;
 					L.sendEvent(b.api.events.JWPLAYER_READY, Q);
 					if (b.utils.exists(window.playerReady)) {
 						playerReady(Q)
 					}
 					if (b.utils.exists(window[e.config.playerReady])) {
 						window[e.config.playerReady](Q)
 					}
 					while (B.length > 0) {
 						var S = B.shift();
 						L.sendEvent(S.type, S)
 					}
 					if (e.config.autostart && !b.utils.isIOS()) {
 						M()
 					}
 					while (w.length > 0) {
 						var R = w.shift();
 						A(R.method, R.arguments)
 					}
 				}
 			}
 			k.addGlobalListener(J);
 			k.addEventListener(b.api.events.JWPLAYER_MEDIA_BUFFER_FULL, function () {
 				k.getMedia().play()
 			});
 			k.addEventListener(b.api.events.JWPLAYER_MEDIA_TIME, function (Q) {
 				if (Q.position >= k.playlist[k.item].start && E >= 0) {
 					k.playlist[k.item].start = E;
 					E = -1
 				}
 			});
 			k.addEventListener(b.api.events.JWPLAYER_MEDIA_COMPLETE, function (Q) {
 				setTimeout(C, 25)
 			});
 			k.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED, M);
 			k.addEventListener(b.api.events.JWPLAYER_FULLSCREEN, o);

 			function D() {
 				try {
 					u(k.item);
 					if (k.playlist[k.item].levels[0].file.length > 0) {
 						if (K || k.state == b.api.events.state.IDLE) {
 							k.getMedia().load(k.playlist[k.item]);
 							K = false
 						} else {
 							if (k.state == b.api.events.state.PAUSED) {
 								k.getMedia().play()
 							}
 						}
 					}
 					return true
 				} catch (Q) {
 					L.sendEvent(b.api.events.JWPLAYER_ERROR, Q)
 				}
 				return false
 			}
 			function d() {
 				try {
 					if (k.playlist[k.item].levels[0].file.length > 0) {
 						switch (k.state) {
 							case b.api.events.state.PLAYING:
 							case b.api.events.state.BUFFERING:
 							if (k.getMedia()) {
 								k.getMedia().pause()
 							}
 							break
 						}
 					}
 					return true
 				} catch (Q) {
 					L.sendEvent(b.api.events.JWPLAYER_ERROR, Q)
 				}
 				return false
 			}
 			function y(Q) {
 				try {
 					if (k.playlist[k.item].levels[0].file.length > 0) {
 						if (typeof Q != "number") {
 							Q = parseFloat(Q)
 						}
 						switch (k.state) {
 							case b.api.events.state.IDLE:
 							if (E < 0) {
 								E = k.playlist[k.item].start;
 								k.playlist[k.item].start = Q
 							}
 							D();
 							break;
 							case b.api.events.state.PLAYING:
 							case b.api.events.state.PAUSED:
 							case b.api.events.state.BUFFERING:
 							k.seek(Q);
 							break
 						}
 					}
 					return true
 				} catch (R) {
 					L.sendEvent(b.api.events.JWPLAYER_ERROR, R)
 				}
 				return false
 			}
 			function v(Q) {
 				if (!c.exists(Q)) {
 					Q = true
 				}
 				try {
 					if (k.getMedia()) {
 						k.getMedia().stop(Q)
 					}
 					return true
 				} catch (R) {
 					L.sendEvent(b.api.events.JWPLAYER_ERROR, R)
 				}
 				return false
 			}
 			function j() {
 				try {
 					if (k.playlist[k.item].levels[0].file.length > 0) {
 						if (k.config.shuffle) {
 							u(P())
 						} else {
 							if (k.item + 1 == k.playlist.length) {
 								u(0)
 							} else {
 								u(k.item + 1)
 							}
 						}
 					}
 					if (k.state != b.api.events.state.IDLE) {
 						var R = k.state;
 						k.state = b.api.events.state.IDLE;
 						L.sendEvent(b.api.events.JWPLAYER_PLAYER_STATE, {
 							oldstate: R,
 							newstate: b.api.events.state.IDLE
 						})
 					}
 					D();
 					return true
 				} catch (Q) {
 					L.sendEvent(b.api.events.JWPLAYER_ERROR, Q)
 				}
 				return false
 			}
 			function G() {
 				try {
 					if (k.playlist[k.item].levels[0].file.length > 0) {
 						if (k.config.shuffle) {
 							u(P())
 						} else {
 							if (k.item === 0) {
 								u(k.playlist.length - 1)
 							} else {
 								u(k.item - 1)
 							}
 						}
 					}
 					if (k.state != b.api.events.state.IDLE) {
 						var R = k.state;
 						k.state = b.api.events.state.IDLE;
 						L.sendEvent(b.api.events.JWPLAYER_PLAYER_STATE, {
 							oldstate: R,
 							newstate: b.api.events.state.IDLE
 						})
 					}
 					D();
 					return true
 				} catch (Q) {
 					L.sendEvent(b.api.events.JWPLAYER_ERROR, Q)
 				}
 				return false
 			}
 			function P() {
 				var Q = null;
 				if (k.playlist.length > 1) {
 					while (!c.exists(Q)) {
 						Q = Math.floor(Math.random() * k.playlist.length);
 						if (Q == k.item) {
 							Q = null
 						}
 					}
 				} else {
 					Q = 0
 				}
 				return Q
 			}
 			function F(R) {
 				if (!k.playlist || !k.playlist[R]) {
 					return false
 				}
 				try {
 					if (k.playlist[R].levels[0].file.length > 0) {
 						var S = k.state;
 						if (S !== b.api.events.state.IDLE) {
 							if (k.playlist[k.item].provider == k.playlist[R].provider) {
 								v(false)
 							} else {
 								v()
 							}
 						}
 						u(R);
 						D()
 					}
 					return true
 				} catch (Q) {
 					L.sendEvent(b.api.events.JWPLAYER_ERROR, Q)
 				}
 				return false
 			}
 			function u(Q) {
 				if (!k.playlist[Q]) {
 					return
 				}
 				k.setActiveMediaProvider(k.playlist[Q]);
 				if (k.item != Q) {
 					k.item = Q;
 					K = true;
 					L.sendEvent(b.api.events.JWPLAYER_PLAYLIST_ITEM, {
 						index: Q
 					})
 				}
 			}
 			function f(R) {
 				try {
 					u(k.item);
 					var S = k.getMedia();
 					switch (typeof(R)) {
 						case "number":
 						S.volume(R);
 						break;
 						case "string":
 						S.volume(parseInt(R, 10));
 						break
 					}
 					return true
 				} catch (Q) {
 					L.sendEvent(b.api.events.JWPLAYER_ERROR, Q)
 				}
 				return false
 			}
 			function q(R) {
 				try {
 					u(k.item);
 					var S = k.getMedia();
 					if (typeof R == "undefined") {
 						S.mute(!k.mute)
 					} else {
 						if (R.toString().toLowerCase() == "true") {
 							S.mute(true)
 						} else {
 							S.mute(false)
 						}
 					}
 					return true
 				} catch (Q) {
 					L.sendEvent(b.api.events.JWPLAYER_ERROR, Q)
 				}
 				return false
 			}
 			function H(R, Q) {
 				try {
 					k.width = R;
 					k.height = Q;
 					h.resize(R, Q);
 					L.sendEvent(b.api.events.JWPLAYER_RESIZE, {
 						width: k.width,
 						height: k.height
 					});
 					return true
 				} catch (S) {
 					L.sendEvent(b.api.events.JWPLAYER_ERROR, S)
 				}
 				return false
 			}
 			function t(R) {
 				try {
 					if (typeof R == "undefined") {
 						R = !k.fullscreen
 					}
 					if (R != k.fullscreen) {
 						if (R.toString().toLowerCase() == "true") {
 							k.fullscreen = true;
 							h.fullscreen(true);
 							L.sendEvent(b.api.events.JWPLAYER_FULLSCREEN, {
 								fullscreen: true
 							})
 						} else {
 							k.fullscreen = false;
 							h.fullscreen(false);
 							L.sendEvent(b.api.events.JWPLAYER_FULLSCREEN, {
 								fullscreen: false
 							})
 						}
 						L.sendEvent(b.api.events.JWPLAYER_RESIZE, {
 							width: k.width,
 							height: k.height
 						})
 					}
 					return true
 				} catch (Q) {
 					L.sendEvent(b.api.events.JWPLAYER_ERROR, Q)
 				}
 				return false
 			}
 			function O(Q) {
 				try {
 					v();
 					k.loadPlaylist(Q);
 					if (k.playlist[k.item].provider) {
 						u(k.item);
 						if (k.config.autostart.toString().toLowerCase() == "true") {
 							D()
 						}
 						return true
 					} else {
 						return false
 					}
 				} catch (R) {
 					L.sendEvent(b.api.events.JWPLAYER_ERROR, R)
 				}
 				return false
 			}
 			function M(Q) {
 				u(k.playlist[k.item]);
 				if (k.config.autostart.toString().toLowerCase() == "true") {
 					D()
 				}
 			}
 			function o(Q) {
 				t(Q.fullscreen)
 			}
 			function s() {
 				try {
 					return k.getMedia().detachMedia()
 				} catch (Q) {
 					return null
 				}
 			}
 			function l() {
 				try {
 					return k.getMedia().attachMedia()
 				} catch (Q) {
 					return null
 				}
 			}
 			b.html5.controller.repeatoptions = {
 				LIST: "LIST",
 				ALWAYS: "ALWAYS",
 				SINGLE: "SINGLE",
 				NONE: "NONE"
 			};

 			function C() {
 				switch (k.config.repeat.toUpperCase()) {
 					case b.html5.controller.repeatoptions.SINGLE:
 					D();
 					break;
 					case b.html5.controller.repeatoptions.ALWAYS:
 					if (k.item == k.playlist.length - 1 && !k.config.shuffle) {
 						F(0)
 					} else {
 						j()
 					}
 					break;
 					case b.html5.controller.repeatoptions.LIST:
 					if (k.item == k.playlist.length - 1 && !k.config.shuffle) {
 						v();
 						u(0)
 					} else {
 						j()
 					}
 					break;
 					default:
 					v();
 					break
 				}
 			}
 			var w = [];

 			function N(Q) {
 				return function () {
 					if (p) {
 						A(Q, arguments)
 					} else {
 						w.push({
 							method: Q,
 							arguments: arguments
 						})
 					}
 				}
 			}
 			function A(S, R) {
 				var Q = [];
 				for (i = 0; i < R.length; i++) {
 					Q.push(R[i])
 				}
 				S.apply(this, Q)
 			}
 			this.play = N(D);
 			this.pause = N(d);
 			this.seek = N(y);
 			this.stop = N(v);
 			this.next = N(j);
 			this.prev = N(G);
 			this.item = N(F);
 			this.setVolume = N(f);
 			this.setMute = N(q);
 			this.resize = N(H);
 			this.setFullscreen = N(t);
 			this.load = N(O);
 			this.playerReady = r;
 			this.detachMedia = s;
 			this.attachMedia = l
 		}
 	})(jwplayer);
 	(function (a) {
 		a.html5.defaultSkin = function () {
 			this.text = '<?xml version="1.0" ?><skin author="LongTail Video" name="Five" version="1.1"><components><component name="controlbar"><settings><setting name="margin" value="20"/><setting name="fontsize" value="11"/><setting name="fontcolor" value="0x000000"/></settings><layout><group position="left"><button name="play"/><divider name="divider"/><button name="prev"/><divider name="divider"/><button name="next"/><divider name="divider"/><text name="elapsed"/></group><group position="center"><slider name="time"/></group><group position="right"><text name="duration"/><divider name="divider"/><button name="blank"/><divider name="divider"/><button name="mute"/><slider name="volume"/><divider name="divider"/><button name="fullscreen"/></group></layout><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUOI3t1LERACAMQlFgGvcfxNIhHMK4gsUvUviOmgtNsiAZkBSEKxKEnCYkkQrJn/YwbUNiSDDYRZaQRDaShv+oX9GBZEIuK+8hXVLs+/YAAAAASUVORK5CYII="/><element name="blankButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="capLeft" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="capRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="divider" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADhJREFUCB0FwcENgEAAw7Aq+893g8APUILNOQcbFRktVGqUVFRkWNz3xTa2sUaLNUosKlRUvvf5AdbWOTtzmzyWAAAAAElFTkSuQmCC"/><element name="playButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAANUlEQVR42u2RsQkAAAjD/NTTPaW6dXLrINJA1kBpGPMAjDWmOgp1HFQXx+b1KOefO4oxY57R73YnVYCQUCQAAAAASUVORK5CYII="/><element name="pauseButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAIUlEQVQ4jWNgGAWjYOiD/0gYG3/U0FFDB4Oho2AUDAYAAEwiL9HrpdMVAAAAAElFTkSuQmCC"/><element name="prevButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQklEQVQ4y2NgGAWjYOiD/1AMA/JAfB5NjCJD/YH4PRaLyDa0H4lNNUP/DxlD59PCUBCIp3ZEwYA+NZLUKBgFgwEAAN+HLX9sB8u8AAAAAElFTkSuQmCC"/><element name="nextButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQElEQVQ4y2NgGAWjYOiD/0B8Hojl0cT+U2ooCL8HYn9qGwrD/bQw9P+QMXQ+tSMqnpoRBUpS+tRMUqNgFAwGAADxZy1/mHvFnAAAAABJRU5ErkJggg=="/><element name="timeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAOElEQVRIDe3BwQkAIRADwAhhw/nU/kWwUK+KPITMABFh19Y+F0acY8CJvX9wYpXgRElwolSIiMf9ZWEDhtwurFsAAAAASUVORK5CYII="/><element name="timeSliderBuffer" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAN0lEQVRIDe3BwQkAMQwDMBcc55mRe9zi7RR+FCwBEWG39vcfGHFm4MTuhhMlwYlVBSdKhYh43AW/LQMKm1spzwAAAABJRU5ErkJggg=="/><element name="timeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAIElEQVRIiWNgGAWjYBTQBfynMR61YCRYMApGwSigMQAAiVWPcbq6UkIAAAAASUVORK5CYII="/><element name="timeSliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAYCAYAAAA/OUfnAAAAO0lEQVQYlWP4//8/Awwz0JgDBP/BeN6Cxf/hnI2btiI4u/fsQ3AOHjqK4Jw4eQbBOX/hEoKDYjSd/AMA4cS4mfLsorgAAAAASUVORK5CYII="/><element name="muteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAJklEQVQ4y2NgGAUjDcwH4v/kaPxPikZkxcNVI9mBQ5XoGAWDFwAAsKAXKQQmfbUAAAAASUVORK5CYII="/><element name="unmuteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAMklEQVQ4y2NgGAWDHPyntub5xBr6Hwv/Pzk2/yfVG/8psRFE25Oq8T+tQnsIaB4FVAcAi2YVysVY52AAAAAASUVORK5CYII="/><element name="volumeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAACmpqampqbBXAu8AAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAAAAAAAAACDY+nAAAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderCapRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="fullscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAQklEQVRIiWNgGAWjYMiD/0iYFDmSLbDHImdPLQtgBpEiR7Zl2NijAA5oEkT/0Whi5UiyAJ8BVMsHNMtoo2AUDAIAAGdcIN3IDNXoAAAAAElFTkSuQmCC"/><element name="normalscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAP0lEQVRIx2NgGAWjYMiD/1RSQ5QB/wmIUWzJfzx8qhj+n4DYCAY0DyJ7PBbYU8sHMEvwiZFtODXUjIJRMJgBACpWIN2ZxdPTAAAAAElFTkSuQmCC"/></elements></component><component name="display"><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/><element name="playIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAiUlEQVR42u3XSw2AMBREURwgAQlIQAISKgUpSEFKJeCg5b0E0kWBTVcD9ySTsL0Jn9IBAAAA+K2UUrBlW/Rr5ZDoIeeuoFkxJD9ss03aIXXQqB9SttoG7ZA6qNcOKdttiwcJh9RB+iFl4SshkRBuLR72+9cvH0SOKI2HRo7x/Fi1/uoCAAAAwLsD8ki99IlO2dQAAAAASUVORK5CYII="/><element name="muteIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAVUlEQVR42u3WMQrAIAxAUW/g/SdvGmvpoOBeSHgPsjj5QTANAACARCJilIhYM0tEvJM+Ik3Id9E957kQIb+F3OdCPC0hPkQriqWx9hp/x/QGAABQyAPLB22VGrpLDgAAAABJRU5ErkJggg=="/><element name="errorIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAA/0lEQVR42u2U0QmEMBAF7cASLMESUoIlpARLSCkpwRJSgiWkhOvAXD4WsgRkyaG5DbyB+Yvg8KITAAAAAAAYk+u61mwk15EjPtlEfihmqIiZR1Qx80ghjgdUuiHXGHSVsoag0x6x8DUoyjD5KovmEJ9NTDMRPIT0mtdIUkjlonuNohO+Ha99DTmkuGgKCTcvebAzx82ZoCWC3/3aIMWSRucaxcjORSFY4xpFdjYJGp1rFGcyCYZ/RVh6AUnfcNZ2zih3/mGj1jVCdiNDwyrq1rA/xMdeEXvDVdnYc1vDc3uPkDObXrlaxbNHSOohQhr/WOeLEWfWTgAAAAAAADzNF9sHJ7PJ57MlAAAAAElFTkSuQmCC"/><element name="bufferIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACBklEQVR42u3Zv0sCYRzH8USTzOsHHEWGkC1HgaDgkktGDjUYtDQ01RDSljQ1BLU02+rk1NTm2NLq4Nx/0L/h9fnCd3j4cnZe1/U8xiO8h3uurufF0/3COd/3/0UWYiEWYiEWYiGJQ+J8xuPxKhXjEMZANinjIZhkGuVRNioE4wVURo4JkHm0xKWmhRAc1bh1EyCUw5BcBIjHiApKa4CErko6DEJwuRo6IRKzyJD8FJAyI3Zp2zRImiBcRhlfo5RtlxCcE3CcDNpGrhYIT2IhAJKilO0VRmzJ32fAMTpBTS0QMfGwlcuKMRftE0DJ0wCJdcOsCkBdXP3Mh9CEFUBTPS9mDZJBG6io4aqVzMdCokCw9H3kT6j/C/9iDdSeUMNC7DkyyxAs/Rk6Qss8FPWRZgdVtUH4DjxEn1zxh+/zj1wHlf4MQhNGrwqA6sY40U8JonRJwEQh+AO3AvCG6gHv4U7IY4krxkroWoAOkoQMGfCBrgIm+YBGqPENpIJ66CJg3x66Y0gnSUidAEEnNr9jjLiWMn5DiWP0OC/oAsCgkq43xBdGDMQr7YASP/vEkHvdl1+JOCcEV5sC4hGEOzTlPuKgd0b0xD4JkRcOgnRRTjdErkYhAsQVq6IdUuPJtmk7BCL3t/h88cx91pKQkI/pkDx6pmYTIjEoxiHsN1YWYiEWYiEWknhflZ5IErA5nr8AAAAASUVORK5CYII="/></elements></component><component name="dock"><settings><setting name="fontcolor" value="0xffffff"/></settings><elements><element name="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/></elements></component><component name="playlist"><settings><setting name="backgroundcolor" value="0xe8e8e8"/></settings><elements><element name="item" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUaN7t2MENwCAMBEEe9N8wSKYC/D8YV7CyJoRkVtVImxkZPQInMxoP0XiIxkM0HsGbjjSNBx544IEHHnjggUe/6UQeey0PIh7XTftGxKPj4eXCtLsHHh+ZxkO0Iw8PR55Ni8ZD9Hu/EAoP0dc5RRg9qeRjVF8AAAAASUVORK5CYII="/><element name="sliderCapTop" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/><element name="sliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAKElEQVQ4y2P4//8/Az68bNmy/+iYkB6GUUNHDR01dNTQUUNHDaXcUABUDOKhcxnsSwAAAABJRU5ErkJggg=="/><element name="sliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAJUlEQVQ4T2P4//8/Ay4MBP9xYbz6Rg0dNXTU0FFDRw0dNZRyQwHH4NBa7GJsXAAAAABJRU5ErkJggg=="/><element name="sliderCapBottom" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/></elements></component></components></skin>';
 			this.xml = null;
 			if (window.DOMParser) {
 				parser = new DOMParser();
 				this.xml = parser.parseFromString(this.text, "text/xml")
 			} else {
 				this.xml = new ActiveXObject("Microsoft.XMLDOM");
 				this.xml.async = "false";
 				this.xml.loadXML(this.text)
 			}
 			return this
 		}
 	})(jwplayer);
 	(function (a) {
 		_utils = a.utils;
 		_css = _utils.css;
 		_hide = function (b) {
 			_css(b, {
 				display: "none"
 			})
 		};
 		_show = function (b) {
 			_css(b, {
 				display: "block"
 			})
 		};
 		a.html5.display = function (k, H) {
 			var j = {
 				icons: true,
 				showmute: false
 			};
 			var S = _utils.extend({}, j, H);
 			var h = k;
 			var R = {};
 			var e;
 			var u;
 			var x;
 			var P;
 			var s;
 			var J;
 			var B;
 			var K = !_utils.exists(h.skin.getComponentSettings("display").bufferrotation) ? 15 : parseInt(h.skin.getComponentSettings("display").bufferrotation, 10);
 			var q = !_utils.exists(h.skin.getComponentSettings("display").bufferinterval) ? 100 : parseInt(h.skin.getComponentSettings("display").bufferinterval, 10);
 			var A = -1;
 			var t = "";
 			var L = true;
 			var d;
 			var g = false;
 			var n = false;
 			var w, N;
 			var I = new a.html5.eventdispatcher();
 			_utils.extend(this, I);
 			var E = {
 				display: {
 					style: {
 						cursor: "pointer",
 						top: 0,
 						left: 0,
 						overflow: "hidden"
 					},
 					click: m
 				},
 				display_icon: {
 					style: {
 						cursor: "pointer",
 						position: "absolute",
 						top: ((h.skin.getSkinElement("display", "background").height - h.skin.getSkinElement("display", "playIcon").height) / 2),
 						left: ((h.skin.getSkinElement("display", "background").width - h.skin.getSkinElement("display", "playIcon").width) / 2),
 						border: 0,
 						margin: 0,
 						padding: 0,
 						zIndex: 3,
 						display: "none"
 					}
 				},
 				display_iconBackground: {
 					style: {
 						cursor: "pointer",
 						position: "absolute",
 						top: ((u - h.skin.getSkinElement("display", "background").height) / 2),
 						left: ((e - h.skin.getSkinElement("display", "background").width) / 2),
 						border: 0,
 						backgroundImage: (["url(", h.skin.getSkinElement("display", "background").src, ")"]).join(""),
 						width: h.skin.getSkinElement("display", "background").width,
 						height: h.skin.getSkinElement("display", "background").height,
 						margin: 0,
 						padding: 0,
 						zIndex: 2,
 						display: "none"
 					}
 				},
 				display_image: {
 					style: {
 						display: "none",
 						width: e,
 						height: u,
 						position: "absolute",
 						cursor: "pointer",
 						left: 0,
 						top: 0,
 						margin: 0,
 						padding: 0,
 						textDecoration: "none",
 						zIndex: 1
 					}
 				},
 				display_text: {
 					style: {
 						zIndex: 4,
 						position: "relative",
 						opacity: 0.8,
 						backgroundColor: parseInt("000000", 16),
 						color: parseInt("ffffff", 16),
 						textAlign: "center",
 						fontFamily: "Arial,sans-serif",
 						padding: "0 5px",
 						fontSize: 14
 					}
 				}
 			};
 			h.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE, o);
 			h.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_MUTE, o);
 			h.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_ITEM, o);
 			h.jwAddEventListener(a.api.events.JWPLAYER_ERROR, p);
 			M();

 			function M() {
 				R.display = D("div", "display");
 				R.display_text = D("div", "display_text");
 				R.display.appendChild(R.display_text);
 				R.display_image = D("img", "display_image");
 				R.display_image.onerror = function (T) {
 					_hide(R.display_image)
 				};
 				R.display_image.onload = z;
 				R.display_icon = D("div", "display_icon");
 				R.display_iconBackground = D("div", "display_iconBackground");
 				R.display.appendChild(R.display_image);
 				R.display_iconBackground.appendChild(R.display_icon);
 				R.display.appendChild(R.display_iconBackground);
 				f();
 				setTimeout((function () {
 					n = true;
 					if (S.icons.toString() == "true") {
 						G()
 					}
 				}), 1)
 			}
 			this.getDisplayElement = function () {
 				return R.display
 			};
 			this.resize = function (U, T) {
 				_css(R.display, {
 					width: U,
 					height: T
 				});
 				_css(R.display_text, {
 					width: (U - 10),
 					top: ((T - _utils.getBoundingClientRect(R.display_text).height) / 2)
 				});
 				_css(R.display_iconBackground, {
 					top: ((T - h.skin.getSkinElement("display", "background").height) / 2),
 					left: ((U - h.skin.getSkinElement("display", "background").width) / 2)
 				});
 				if (e != U || u != T) {
 					e = U;
 					u = T;
 					d = undefined;
 					G()
 				}
 				if (!h.jwGetFullscreen()) {
 					w = U;
 					N = T
 				}
 				c();
 				o({})
 			};
 			this.show = function () {
 				if (g) {
 					g = false;
 					r(h.jwGetState())
 				}
 			};
 			this.hide = function () {
 				if (!g) {
 					C();
 					g = true
 				}
 			};

 			function z(T) {
 				x = R.display_image.naturalWidth;
 				P = R.display_image.naturalHeight;
 				c()
 			}
 			function c() {
 				if (h.jwGetFullscreen() && h.jwGetStretching() == a.utils.stretching.EXACTFIT) {
 					var T = document.createElement("div");
 					_utils.stretch(a.utils.stretching.UNIFORM, T, e, u, w, N);
 					_utils.stretch(a.utils.stretching.EXACTFIT, R.display_image, _utils.parseDimension(T.style.width), _utils.parseDimension(T.style.height), x, P);
 					_css(R.display_image, {
 						left: T.style.left,
 						top: T.style.top
 					})
 				} else {
 					_utils.stretch(h.jwGetStretching(), R.display_image, e, u, x, P)
 				}
 			}
 			function D(T, V) {
 				var U = document.createElement(T);
 				U.id = h.id + "_jwplayer_" + V;
 				_css(U, E[V].style);
 				return U
 			}
 			function f() {
 				for (var T in R) {
 					if (_utils.exists(E[T].click)) {
 						R[T].onclick = E[T].click
 					}
 				}
 			}
 			function m(T) {
 				if (typeof T.preventDefault != "undefined") {
 					T.preventDefault()
 				} else {
 					T.returnValue = false
 				}
 				if (h.jwGetState() != a.api.events.state.PLAYING) {
 					h.jwPlay()
 				} else {
 					h.jwPause()
 				}
 			}
 			function Q(T) {
 				if (B) {
 					C();
 					return
 				}
 				R.display_icon.style.backgroundImage = (["url(", h.skin.getSkinElement("display", T).src, ")"]).join("");
 				_css(R.display_icon, {
 					width: h.skin.getSkinElement("display", T).width,
 					height: h.skin.getSkinElement("display", T).height,
 					top: (h.skin.getSkinElement("display", "background").height - h.skin.getSkinElement("display", T).height) / 2,
 					left: (h.skin.getSkinElement("display", "background").width - h.skin.getSkinElement("display", T).width) / 2
 				});
 				b();
 				if (_utils.exists(h.skin.getSkinElement("display", T + "Over"))) {
 					R.display_icon.onmouseover = function (U) {
 						R.display_icon.style.backgroundImage = ["url(", h.skin.getSkinElement("display", T + "Over").src, ")"].join("")
 					};
 					R.display_icon.onmouseout = function (U) {
 						R.display_icon.style.backgroundImage = ["url(", h.skin.getSkinElement("display", T).src, ")"].join("")
 					}
 				} else {
 					R.display_icon.onmouseover = null;
 					R.display_icon.onmouseout = null
 				}
 			}
 			function C() {
 				if (S.icons.toString() == "true") {
 					_hide(R.display_icon);
 					_hide(R.display_iconBackground);
 					O()
 				}
 			}
 			function b() {
 				if (!g && S.icons.toString() == "true") {
 					_show(R.display_icon);
 					_show(R.display_iconBackground);
 					G()
 				}
 			}
 			function p(T) {
 				B = true;
 				C();
 				R.display_text.innerHTML = T.message;
 				_show(R.display_text);
 				R.display_text.style.top = ((u - _utils.getBoundingClientRect(R.display_text).height) / 2) + "px"
 			}
 			function F() {
 				R.display_image.style.display = "none"
 			}
 			function o(T) {
 				if ((T.type == a.api.events.JWPLAYER_PLAYER_STATE || T.type == a.api.events.JWPLAYER_PLAYLIST_ITEM) && B) {
 					B = false;
 					_hide(R.display_text)
 				}
 				var U = h.jwGetState();
 				if (U == t) {
 					return
 				}
 				t = U;
 				if (A >= 0) {
 					clearTimeout(A)
 				}
 				if (L || h.jwGetState() == a.api.events.state.PLAYING || h.jwGetState() == a.api.events.state.PAUSED) {
 					r(h.jwGetState())
 				} else {
 					A = setTimeout(l(h.jwGetState()), 500)
 				}
 			}
 			function l(T) {
 				return (function () {
 					r(T)
 				})
 			}
 			function r(T) {
 				if (_utils.exists(J)) {
 					clearInterval(J);
 					J = null;
 					_utils.animations.rotate(R.display_icon, 0)
 				}
 				switch (T) {
 					case a.api.events.state.BUFFERING:
 					if (_utils.isMobile()) {
 						F();
 						C()
 					} else {
 						if (h.jwGetPlaylist()[h.jwGetItem()].provider == "sound") {
 							v()
 						}
 						s = 0;
 						J = setInterval(function () {
 							s += K;
 							_utils.animations.rotate(R.display_icon, s % 360)
 						}, q);
 						Q("bufferIcon");
 						L = true
 					}
 					break;
 					case a.api.events.state.PAUSED:
 					if (!_utils.isMobile()) {
 						if (h.jwGetPlaylist()[h.jwGetItem()].provider != "sound") {
 							_css(R.display_image, {
 								background: "transparent no-repeat center center"
 							})
 						}
 						Q("playIcon");
 						L = true
 					}
 					break;
 					case a.api.events.state.IDLE:
 					if (h.jwGetPlaylist()[h.jwGetItem()] && h.jwGetPlaylist()[h.jwGetItem()].image) {
 						v()
 					} else {
 						F()
 					}
 					Q("playIcon");
 					L = true;
 					break;
 					default:
 					if (h.jwGetPlaylist()[h.jwGetItem()] && h.jwGetPlaylist()[h.jwGetItem()].provider == "sound") {
 						if (_utils.isMobile()) {
 							F();
 							L = false
 						} else {
 							v()
 						}
 					} else {
 						F();
 						L = false
 					}
 					if (h.jwGetMute() && S.showmute) {
 						Q("muteIcon")
 					} else {
 						C()
 					}
 					break
 				}
 				A = -1
 			}
 			function v() {
 				if (h.jwGetPlaylist()[h.jwGetItem()] && h.jwGetPlaylist()[h.jwGetItem()].image) {
 					_css(R.display_image, {
 						display: "block"
 					});
 					R.display_image.src = _utils.getAbsolutePath(h.jwGetPlaylist()[h.jwGetItem()].image)
 				}
 			}
 			function y(T) {
 				return function () {
 					if (!n) {
 						return
 					}
 					if (!g && d != T) {
 						d = T;
 						I.sendEvent(T, {
 							component: "display",
 							boundingRect: _utils.getDimensions(R.display_iconBackground)
 						})
 					}
 				}
 			}
 			var G = y(a.api.events.JWPLAYER_COMPONENT_SHOW);
 			var O = y(a.api.events.JWPLAYER_COMPONENT_HIDE);
 			return this
 		}
 	})(jwplayer);
    //END CODE JWPLAYER


 	(function (a) {
 		var c = a.utils;
 		var b = c.css;
 		a.html5.dock = function (v, C) {
 			function w() {
 				return {
 					align: a.html5.view.positions.RIGHT
 				}
 			}
 			var m = c.extend({}, w(), C);
 			if (m.align == "FALSE") {
 				return
 			}
 			var h = {};
 			var z = [];
 			var j;
 			var E;
 			var f = false;
 			var B = false;
 			var g = {
 				x: 0,
 				y: 0,
 				width: 0,
 				height: 0
 			};
 			var y;
 			var n;
 			var x;
 			var l = new a.html5.eventdispatcher();
 			c.extend(this, l);
 			var q = document.createElement("div");
 			q.id = v.id + "_jwplayer_dock";
 			q.style.opacity = 1;
 			o();
 			v.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE, p);
 			this.getDisplayElement = function () {
 				return q
 			};
 			this.setButton = function (J, G, H, I) {
 				if (!G && h[J]) {
 					c.arrays.remove(z, J);
 					q.removeChild(h[J].div);
 					delete h[J]
 				} else {
 					if (G) {
 						if (!h[J]) {
 							h[J] = {}
 						}
 						h[J].handler = G;
 						h[J].outGraphic = H;
 						h[J].overGraphic = I;
 						if (!h[J].div) {
 							z.push(J);
 							h[J].div = document.createElement("div");
 							h[J].div.style.position = "relative";
 							q.appendChild(h[J].div);
 							h[J].div.appendChild(document.createElement("img"));
 							h[J].div.childNodes[0].style.position = "absolute";
 							h[J].div.childNodes[0].style.left = 0;
 							h[J].div.childNodes[0].style.top = 0;
 							h[J].div.childNodes[0].style.zIndex = 10;
 							h[J].div.childNodes[0].style.cursor = "pointer";
 							h[J].div.appendChild(document.createElement("img"));
 							h[J].div.childNodes[1].style.position = "absolute";
 							h[J].div.childNodes[1].style.left = 0;
 							h[J].div.childNodes[1].style.top = 0;
 							if (v.skin.getSkinElement("dock", "button")) {
 								h[J].div.childNodes[1].src = v.skin.getSkinElement("dock", "button").src
 							}
 							h[J].div.childNodes[1].style.zIndex = 9;
 							h[J].div.childNodes[1].style.cursor = "pointer";
 							h[J].div.onmouseover = function () {
 								if (h[J].overGraphic) {
 									h[J].div.childNodes[0].src = h[J].overGraphic
 								}
 								if (v.skin.getSkinElement("dock", "buttonOver")) {
 									h[J].div.childNodes[1].src = v.skin.getSkinElement("dock", "buttonOver").src
 								}
 							};
 							h[J].div.onmouseout = function () {
 								if (h[J].outGraphic) {
 									h[J].div.childNodes[0].src = h[J].outGraphic
 								}
 								if (v.skin.getSkinElement("dock", "button")) {
 									h[J].div.childNodes[1].src = v.skin.getSkinElement("dock", "button").src
 								}
 							};
 							if (v.skin.getSkinElement("dock", "button")) {
 								h[J].div.childNodes[1].src = v.skin.getSkinElement("dock", "button").src
 							}
 						}
 						if (h[J].outGraphic) {
 							h[J].div.childNodes[0].src = h[J].outGraphic
 						} else {
 							if (h[J].overGraphic) {
 								h[J].div.childNodes[0].src = h[J].overGraphic
 							}
 						}
 						if (G) {
 							h[J].div.onclick = function (K) {
 								K.preventDefault();
 								a(v.id).callback(J);
 								if (h[J].overGraphic) {
 									h[J].div.childNodes[0].src = h[J].overGraphic
 								}
 								if (v.skin.getSkinElement("dock", "button")) {
 									h[J].div.childNodes[1].src = v.skin.getSkinElement("dock", "button").src
 								}
 							}
 						}
 					}
 				}
 				k(j, E)
 			};

 			function s(G) {}
 			function k(G, S) {
 				o();
 				if (z.length > 0) {
 					var H = 10;
 					var R = H;
 					var O = -1;
 					var P = v.skin.getSkinElement("dock", "button").height;
 					var N = v.skin.getSkinElement("dock", "button").width;
 					var L = G - N - H;
 					var Q, K;
 					if (m.align == a.html5.view.positions.LEFT) {
 						O = 1;
 						L = H
 					}
 					for (var I = 0; I < z.length; I++) {
 						var T = Math.floor(R / S);
 						if ((R + P + H) > ((T + 1) * S)) {
 							R = ((T + 1) * S) + H;
 							T = Math.floor(R / S)
 						}
 						var J = h[z[I]].div;
 						J.style.top = (R % S) + "px";
 						J.style.left = (L + (v.skin.getSkinElement("dock", "button").width + H) * T * O) + "px";
 						var M = {
 							x: c.parseDimension(J.style.left),
 							y: c.parseDimension(J.style.top),
 							width: N,
 							height: P
 						};
 						if (!Q || (M.x <= Q.x && M.y <= Q.y)) {
 							Q = M
 						}
 						if (!K || (M.x >= K.x && M.y >= K.y)) {
 							K = M
 						}
 						R += v.skin.getSkinElement("dock", "button").height + H
 					}
 					g = {
 						x: Q.x,
 						y: Q.y,
 						width: K.x - Q.x + K.width,
 						height: Q.y - K.y + K.height
 					}
 				}
 				if (B != v.jwGetFullscreen() || j != G || E != S) {
 					j = G;
 					E = S;
 					B = v.jwGetFullscreen();
 					y = undefined;
 					setTimeout(r, 1)
 				}
 			}
 			function d(G) {
 				return function () {
 					if (!f && y != G && z.length > 0) {
 						y = G;
 						l.sendEvent(G, {
 							component: "dock",
 							boundingRect: g
 						})
 					}
 				}
 			}
 			function p(G) {
 				if (c.isMobile()) {
 					if (G.newstate == a.api.events.state.IDLE) {
 						u()
 					} else {
 						e()
 					}
 				} else {
 					A()
 				}
 			}
 			function A(G) {
 				if (f) {
 					return
 				}
 				clearTimeout(x);
 				if (C.position == a.html5.view.positions.OVER || v.jwGetFullscreen()) {
 					switch (v.jwGetState()) {
 						case a.api.events.state.PAUSED:
 						case a.api.events.state.IDLE:
 						if (q && q.style.opacity < 1 && (!C.idlehide || c.exists(G))) {
 							D()
 						}
 						if (C.idlehide) {
 							x = setTimeout(function () {
 								t()
 							}, 2000)
 						}
 						break;
 						default:
 						if (c.exists(G)) {
 							D()
 						}
 						x = setTimeout(function () {
 							t()
 						}, 2000);
 						break
 					}
 				} else {
 					D()
 				}
 			}
 			var r = d(a.api.events.JWPLAYER_COMPONENT_SHOW);
 			var F = d(a.api.events.JWPLAYER_COMPONENT_HIDE);
 			this.resize = k;
 			var u = function () {
 				b(q, {
 					display: "block"
 				});
 				if (f) {
 					f = false;
 					r()
 				}
 			};
 			var e = function () {
 				b(q, {
 					display: "none"
 				});
 				if (!f) {
 					F();
 					f = true
 				}
 			};

 			function t() {
 				if (!f) {
 					F();
 					if (q.style.opacity == 1) {
 						c.cancelAnimation(q);
 						c.fadeTo(q, 0, 0.1, 1, 0)
 					}
 				}
 			}
 			function D() {
 				if (!f) {
 					r();
 					if (q.style.opacity == 0) {
 						c.cancelAnimation(q);
 						c.fadeTo(q, 1, 0.1, 0, 0)
 					}
 				}
 			}
 			function o() {
 				n = document.getElementById(v.id);
 				n.addEventListener("mousemove", A)
 			}
 			this.hide = e;
 			this.show = u;
 			return this
 		}
 	})(jwplayer);
 	(function (a) {
 		a.html5.eventdispatcher = function (d, b) {
 			var c = new a.events.eventdispatcher(b);
 			a.utils.extend(this, c);
 			this.sendEvent = function (e, f) {
 				if (!a.utils.exists(f)) {
 					f = {}
 				}
 				a.utils.extend(f, {
 					id: d,
 					version: a.version,
 					type: e
 				});
 				c.sendEvent(e, f)
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		var b = {
 			prefix: "http://l.longtailvideo.com/html5/",
 			file: "logo.png",
 			link: "http://www.longtailvideo.com/players/jw-flv-player/",
 			margin: 8,
 			out: 0.5,
 			over: 1,
 			timeout: 5,
 			hide: true,
 			position: "bottom-left"
 		};
 		_css = a.utils.css;
 		a.html5.logo = function (n, r) {
 			var q = n;
 			var u;
 			var d;
 			var t;
 			var h = false;
 			g();

 			function g() {
 				o();
 				q.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE, j);
 				c();
 				l()
 			}
 			function o() {
 				if (b.prefix) {
 					var v = n.version.split(/\W/).splice(0, 2).join("/");
 					if (b.prefix.indexOf(v) < 0) {
 						b.prefix += v + "/"
 					}
 				}
 				if (r.position == a.html5.view.positions.OVER) {
 					r.position = b.position
 				}
 				try {
 					if (window.location.href.indexOf("https") == 0) {
 						b.prefix = b.prefix.replace("http://l.longtailvideo.com", "https://securel.longtailvideo.com")
 					}
 				} catch (w) {}
 				d = a.utils.extend({}, b)
 			}
 			function c() {
 				t = document.createElement("img");
 				t.id = q.id + "_jwplayer_logo";
 				t.style.display = "none";
 				t.onload = function (v) {
 					_css(t, k());
 					p()
 				};
 				if (!d.file) {
 					return
 				}
 				if (d.file.indexOf("/") >= 0) {
 					t.src = d.file
 				} else {
 					t.src = d.prefix + d.file
 				}
 			}
 			if (!d.file) {
 				return
 			}
 			this.resize = function (w, v) {};
 			this.getDisplayElement = function () {
 				return t
 			};

 			function l() {
 				if (d.link) {
 					t.onmouseover = f;
 					t.onmouseout = p;
 					t.onclick = s
 				} else {
 					this.mouseEnabled = false
 				}
 			}
 			function s(v) {
 				if (typeof v != "undefined") {
 					v.stopPropagation()
 				}
 				if (!h) {
 					return
 				}
 				q.jwPause();
 				q.jwSetFullscreen(false);
 				if (d.link) {
 					window.open(d.link, "_top")
 				}
 				return
 			}
 			function p(v) {
 				if (d.link && h) {
 					t.style.opacity = d.out
 				}
 				return
 			}
 			function f(v) {
 				if (h) {
 					t.style.opacity = d.over
 				}
 				return
 			}
 			function k() {
 				var x = {
 					textDecoration: "none",
 					position: "absolute",
 					cursor: "pointer"
 				};
 				x.display = (d.hide.toString() == "true" && !h) ? "none" : "block";
 				var w = d.position.toLowerCase().split("-");
 				for (var v in w) {
 					x[w[v]] = d.margin
 				}
 				return x
 			}
 			function m() {
 				if (d.hide.toString() == "true") {
 					t.style.display = "block";
 					t.style.opacity = 0;
 					a.utils.fadeTo(t, d.out, 0.1, parseFloat(t.style.opacity));
 					u = setTimeout(function () {
 						e()
 					}, d.timeout * 1000)
 				}
 				h = true
 			}
 			function e() {
 				h = false;
 				if (d.hide.toString() == "true") {
 					a.utils.fadeTo(t, 0, 0.1, parseFloat(t.style.opacity))
 				}
 			}
 			function j(v) {
 				if (v.newstate == a.api.events.state.BUFFERING) {
 					clearTimeout(u);
 					m()
 				}
 			}
 			return this
 		}
 	})(jwplayer);
 	(function (b) {
 		var d = {
 			ended: b.api.events.state.IDLE,
 			playing: b.api.events.state.PLAYING,
 			pause: b.api.events.state.PAUSED,
 			buffering: b.api.events.state.BUFFERING
 		};
 		var e = b.utils;
 		var c = e.css;
 		var a = e.isMobile();
 		b.html5.mediavideo = function (j, v) {
 			var u = {
 				abort: p,
 				canplay: m,
 				canplaythrough: m,
 				durationchange: L,
 				emptied: p,
 				ended: m,
 				error: x,
 				loadeddata: L,
 				loadedmetadata: L,
 				loadstart: m,
 				pause: m,
 				play: p,
 				playing: m,
 				progress: y,
 				ratechange: p,
 				seeked: m,
 				seeking: m,
 				stalled: m,
 				suspend: m,
 				timeupdate: I,
 				volumechange: E,
 				waiting: m,
 				canshowcurrentframe: p,
 				dataunavailable: p,
 				empty: p,
 				load: D,
 				loadedfirstframe: p,
 				webkitfullscreenchange: k
 			};
 			var l = new b.html5.eventdispatcher();
 			e.extend(this, l);
 			var B = j,
 			n = v,
 			o, G, F, A, g, M = false,
 			C = false,
 			H, r, s;
 			q();
 			this.load = function (O, P) {
 				if (typeof P == "undefined") {
 					P = true
 				}
 				if (!C) {
 					return
 				}
 				A = O;
 				e.empty(o);
 				s = 0;
 				if (O.levels && O.levels.length > 0) {
 					if (O.levels.length == 1) {
 						o.src = O.levels[0].file
 					} else {
 						f(O.levels);
 						if (o.src) {
 							o.removeAttribute("src")
 						}
 						for (var N = 0; N < O.levels.length; N++) {
 							var Q = o.ownerDocument.createElement("source");
 							Q.src = O.levels[N].file;
 							o.appendChild(Q);
 							s++
 						}
 					}
 				} else {
 					o.src = O.file
 				}
 				if (a) {
 					if (O.image) {
 						o.poster = O.image
 					}
 					o.style.display = "block";
 					setTimeout(function () {
 						o.setAttribute("controls", "controls")
 					}, 100)
 				}
 				H = r = F = false;
 				B.buffer = 0;
 				if (!e.exists(O.start)) {
 					O.start = 0
 				}
 				B.duration = O.duration;
 				l.sendEvent(b.api.events.JWPLAYER_MEDIA_LOADED);
 				if ((!a && O.levels.length == 1) || !M) {
 					o.load()
 				}
 				M = false;
 				if (P) {
 					J(b.api.events.state.BUFFERING);
 					l.sendEvent(b.api.events.JWPLAYER_MEDIA_BUFFER, {
 						bufferPercent: 0
 					});
 					this.play()
 				}
 			};
 			this.play = function () {
 				if (!C) {
 					return
 				}
 				if (G != b.api.events.state.PLAYING) {
 					w();
 					if (r) {
 						J(b.api.events.state.PLAYING)
 					} else {
 						J(b.api.events.state.BUFFERING)
 					}
 					o.play()
 				}
 			};
 			this.pause = function () {
 				if (!C) {
 					return
 				}
 				o.pause();
 				J(b.api.events.state.PAUSED)
 			};
 			this.seek = function (N) {
 				if (!C) {
 					return
 				}
 				if (!(B.duration <= 0 || isNaN(B.duration)) && !(B.position <= 0 || isNaN(B.position))) {
 					o.currentTime = N;
 					o.play()
 				}
 			};
 			_stop = this.stop = function (N) {
 				if (!C) {
 					return
 				}
 				if (!e.exists(N)) {
 					N = true
 				}
 				h();
 				if (N) {
 					o.style.display = "none";
 					r = false;
 					var O = navigator.userAgent;
 					if (O.match(/chrome/i)) {
 						o.src = undefined
 					} else {
 						if (O.match(/safari/i) || O.match(/firefox/i)) {
 							o.removeAttribute("src")
 						} else {
 							o.src = ""
 						}
 					}
 					o.removeAttribute("controls");
 					o.removeAttribute("poster");
 					e.empty(o);
 					o.load();
 					M = true;
 					if (o.webkitSupportsFullscreen) {
 						try {
 							o.webkitExitFullscreen()
 						} catch (P) {}
 					}
 				}
 				J(b.api.events.state.IDLE)
 			};
 			this.fullscreen = function (N) {
 				if (N === true) {
 					this.resize("100%", "100%")
 				} else {
 					this.resize(B.config.width, B.config.height)
 				}
 			};
 			this.resize = function (O, N) {};
 			this.volume = function (N) {
 				if (!a) {
 					o.volume = N / 100
 				}
 			};
 			this.mute = function (N) {
 				if (!a) {
 					o.muted = N
 				}
 			};
 			this.getDisplayElement = function () {
 				return o
 			};
 			this.hasChrome = function () {
 				return a
 			};
 			this.detachMedia = function () {
 				C = false;
 				return this.getDisplayElement()
 			};
 			this.attachMedia = function () {
 				C = true
 			};

 			function t(O, N) {
 				return function (P) {
 					if (C && e.exists(P.target.parentNode)) {
 						N(P)
 					}
 				}
 			}
 			function q() {
 				o = document.createElement("video");
 				G = b.api.events.state.IDLE;
 				for (var N in u) {
 					o.addEventListener(N, t(N, u[N]), true)
 				}
 				C = true;
 				o.setAttribute("x-webkit-airplay", "allow");
 				if (n.parentNode) {
 					n.parentNode.replaceChild(o, n)
 				}
 				if (!o.id) {
 					o.id = n.id
 				}
 				o.volume = B.volume / 100
 			}
 			function J(N) {
 				if (N == b.api.events.state.PAUSED && G == b.api.events.state.IDLE) {
 					return
 				}
 				if (G != N) {
 					var O = G;
 					B.state = G = N;
 					l.sendEvent(b.api.events.JWPLAYER_PLAYER_STATE, {
 						oldstate: O,
 						newstate: N
 					})
 				}
 			}
 			function p(N) {}
 			function E(N) {
 				var O = Math.round(o.volume * 100);
 				if (O != B.volume) {
 					B.volume = O;
 					l.sendEvent(b.api.events.JWPLAYER_MEDIA_VOLUME, {
 						volume: B.volume
 					})
 				}
 				if (o.muted != B.mute) {
 					B.mute = o.muted;
 					l.sendEvent(b.api.events.JWPLAYER_MEDIA_MUTE, {
 						mute: B.mute
 					})
 				}
 			}
 			function y(P) {
 				var O;
 				if (e.exists(P) && P.lengthComputable && P.total) {
 					O = P.loaded / P.total * 100
 				} else {
 					if (e.exists(o.buffered) && (o.buffered.length > 0)) {
 						var N = o.buffered.length - 1;
 						if (N >= 0) {
 							O = o.buffered.end(N) / o.duration * 100
 						}
 					}
 				}
 				if (r === false && G == b.api.events.state.BUFFERING) {
 					l.sendEvent(b.api.events.JWPLAYER_MEDIA_BUFFER_FULL);
 					r = true
 				}
 				if (!H) {
 					if (O == 100) {
 						H = true
 					}
 					if (e.exists(O) && (O > B.buffer)) {
 						B.buffer = Math.round(O);
 						l.sendEvent(b.api.events.JWPLAYER_MEDIA_BUFFER, {
 							bufferPercent: Math.round(O)
 						})
 					}
 				}
 			}
 			function I(O) {
 				if (e.exists(O) && e.exists(O.target)) {
 					if (!isNaN(O.target.duration) && (isNaN(B.duration) || B.duration < 1)) {
 						if (O.target.duration == Infinity) {
 							B.duration = 0
 						} else {
 							B.duration = Math.round(O.target.duration * 10) / 10
 						}
 					}
 					if (!F && o.readyState > 0) {
 						o.style.display = "block";
 						J(b.api.events.state.PLAYING)
 					}
 					if (G == b.api.events.state.PLAYING) {
 						if (!F && o.readyState > 0) {
 							F = true;
 							try {
 								if (o.currentTime < A.start) {
 									o.currentTime = A.start
 								}
 							} catch (N) {}
 							o.volume = B.volume / 100;
 							o.muted = B.mute
 						}
 						B.position = B.duration > 0 ? (Math.round(O.target.currentTime * 10) / 10) : 0;
 						l.sendEvent(b.api.events.JWPLAYER_MEDIA_TIME, {
 							position: B.position,
 							duration: B.duration
 						});
 						if (B.position >= B.duration && (B.position > 0 || B.duration > 0)) {
 							z()
 						}
 					}
 				}
 				y(O)
 			}
 			function D(N) {}
 			function m(N) {
 				if (d[N.type]) {
 					if (N.type == "ended") {
 						z()
 					} else {
 						J(d[N.type])
 					}
 				}
 			}
 			function L(O) {
 				var N = Math.round(O.target.duration * 10) / 10;
 				var P = {
 					height: O.target.videoHeight,
 					width: O.target.videoWidth,
 					duration: N
 				};
 				if ((B.duration < N || isNaN(B.duration)) && O.target.duration != Infinity) {
 					B.duration = N
 				}
 				l.sendEvent(b.api.events.JWPLAYER_MEDIA_META, {
 					metadata: P
 				})
 			}
 			function x(P) {
 				if (G == b.api.events.state.IDLE) {
 					return
 				}
 				var O = "There was an error: ";
 				if ((P.target.error && P.target.tagName.toLowerCase() == "video") || P.target.parentNode.error && P.target.parentNode.tagName.toLowerCase() == "video") {
 					var N = !e.exists(P.target.error) ? P.target.parentNode.error : P.target.error;
 					switch (N.code) {
 						case N.MEDIA_ERR_ABORTED:
 						O = "You aborted the video playback: ";
 						break;
 						case N.MEDIA_ERR_NETWORK:
 						O = "A network error caused the video download to fail part-way: ";
 						break;
 						case N.MEDIA_ERR_DECODE:
 						O = "The video playback was aborted due to a corruption problem or because the video used features your browser did not support: ";
 						break;
 						case N.MEDIA_ERR_SRC_NOT_SUPPORTED:
 						O = "The video could not be loaded, either because the server or network failed or because the format is not supported: ";
 						break;
 						default:
 						O = "An unknown error occurred: ";
 						break
 					}
 				} else {
 					if (P.target.tagName.toLowerCase() == "source") {
 						s--;
 						if (s > 0) {
 							return
 						}
 						O = "The video could not be loaded, either because the server or network failed or because the format is not supported: "
 					} else {
 						e.log("An unknown error occurred.  Continuing...");
 						return
 					}
 				}
 				_stop(false);
 				O += K();
 				_error = true;
 				l.sendEvent(b.api.events.JWPLAYER_ERROR, {
 					message: O
 				});
 				return
 			}
 			function K() {
 				var P = "";
 				for (var O in A.levels) {
 					var N = A.levels[O];
 					var Q = n.ownerDocument.createElement("source");
 					P += b.utils.getAbsolutePath(N.file);
 					if (O < (A.levels.length - 1)) {
 						P += ", "
 					}
 				}
 				return P
 			}
 			function w() {
 				if (!e.exists(g)) {
 					g = setInterval(function () {
 						y()
 					}, 100)
 				}
 			}
 			function h() {
 				clearInterval(g);
 				g = null
 			}
 			function z() {
 				if (G != b.api.events.state.IDLE) {
 					_stop(false);
 					l.sendEvent(b.api.events.JWPLAYER_MEDIA_COMPLETE)
 				}
 			}
 			function k(N) {
 				if (e.exists(o.webkitDisplayingFullscreen)) {
 					if (B.fullscreen && !o.webkitDisplayingFullscreen) {
 						l.sendEvent(b.api.events.JWPLAYER_FULLSCREEN, {
 							fullscreen: false
 						})
 					}
 				}
 			}
 			function f(P) {
 				if (P.length > 0 && e.isIOS()) {
 					if (e.extension(P[0].file) != "mp4") {
 						var N = -1;
 						for (var O = 1; O < P.length; O++) {
 							if (e.extension(P[O].file) == "mp4") {
 								N = O;
 								break
 							}
 						}
 						if (N > -1) {
 							var Q = P.splice(N, 1)[0];
 							P.unshift(Q)
 						}
 					}
 				}
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		var c = {
 			ended: a.api.events.state.IDLE,
 			playing: a.api.events.state.PLAYING,
 			pause: a.api.events.state.PAUSED,
 			buffering: a.api.events.state.BUFFERING
 		};
 		var b = a.utils.css;
 		a.html5.mediayoutube = function (j, e) {
 			var f = new a.html5.eventdispatcher();
 			a.utils.extend(this, f);
 			var l = j;
 			var h = document.getElementById(e.id);
 			var g = a.api.events.state.IDLE;
 			var n, m;

 			function k(p) {
 				if (g != p) {
 					var q = g;
 					l.state = p;
 					g = p;
 					f.sendEvent(a.api.events.JWPLAYER_PLAYER_STATE, {
 						oldstate: q,
 						newstate: p
 					})
 				}
 			}
 			this.getDisplayElement = this.detachMedia = function () {
 				return h
 			};
 			this.attachMedia = function () {};
 			this.play = function () {
 				if (g == a.api.events.state.IDLE) {
 					f.sendEvent(a.api.events.JWPLAYER_MEDIA_BUFFER, {
 						bufferPercent: 100
 					});
 					f.sendEvent(a.api.events.JWPLAYER_MEDIA_BUFFER_FULL);
 					k(a.api.events.state.PLAYING)
 				} else {
 					if (g == a.api.events.state.PAUSED) {
 						k(a.api.events.state.PLAYING)
 					}
 				}
 			};
 			this.pause = function () {
 				k(a.api.events.state.PAUSED)
 			};
 			this.seek = function (p) {};
 			this.stop = function (p) {
 				if (!_utils.exists(p)) {
 					p = true
 				}
 				l.position = 0;
 				k(a.api.events.state.IDLE);
 				if (p) {
 					b(h, {
 						display: "none"
 					})
 				}
 			};
 			this.volume = function (p) {
 				l.volume = p;
 				f.sendEvent(a.api.events.JWPLAYER_MEDIA_VOLUME, {
 					volume: Math.round(p)
 				})
 			};
 			this.mute = function (p) {
 				h.muted = p;
 				l.mute = p;
 				f.sendEvent(a.api.events.JWPLAYER_MEDIA_MUTE, {
 					mute: p
 				})
 			};
 			this.resize = function (q, p) {
 				if (q * p > 0 && n) {
 					n.width = m.width = q;
 					n.height = m.height = p
 				}
 			};
 			this.fullscreen = function (p) {
 				if (p === true) {
 					this.resize("100%", "100%")
 				} else {
 					this.resize(l.config.width, l.config.height)
 				}
 			};
 			this.load = function (p) {
 				o(p);
 				b(n, {
 					display: "block"
 				});
 				k(a.api.events.state.BUFFERING);
 				f.sendEvent(a.api.events.JWPLAYER_MEDIA_BUFFER, {
 					bufferPercent: 0
 				});
 				f.sendEvent(a.api.events.JWPLAYER_MEDIA_LOADED);
 				this.play()
 			};
 			this.hasChrome = function () {
 				return (g != a.api.events.state.IDLE)
 			};

 			function o(v) {
 				var s = v.levels[0].file;
 				s = ["http://www.youtube.com/v/", d(s), "&amp;hl=en_US&amp;fs=1&autoplay=1"].join("");
 				n = document.createElement("object");
 				n.id = h.id;
 				n.style.position = "absolute";
 				var u = {
 					movie: s,
 					allowfullscreen: "true",
 					allowscriptaccess: "always"
 				};
 				for (var p in u) {
 					var t = document.createElement("param");
 					t.name = p;
 					t.value = u[p];
 					n.appendChild(t)
 				}
 				m = document.createElement("embed");
 				n.appendChild(m);
 				var q = {
 					src: s,
 					type: "application/x-shockwave-flash",
 					allowfullscreen: "true",
 					allowscriptaccess: "always",
 					width: n.width,
 					height: n.height
 				};
 				for (var r in q) {
 					m.setAttribute(r, q[r])
 				}
 				n.appendChild(m);
 				n.style.zIndex = 2147483000;
 				if (h != n && h.parentNode) {
 					h.parentNode.replaceChild(n, h)
 				}
 				h = n
 			}
 			function d(q) {
 				var p = q.split(/\?|\#\!/);
 				var s = "";
 				for (var r = 0; r < p.length; r++) {
 					if (p[r].substr(0, 2) == "v=") {
 						s = p[r].substr(2)
 					}
 				}
 				if (s == "") {
 					if (q.indexOf("/v/") >= 0) {
 						s = q.substr(q.indexOf("/v/") + 3)
 					} else {
 						if (q.indexOf("youtu.be") >= 0) {
 							s = q.substr(q.indexOf("youtu.be/") + 9)
 						} else {
 							s = q
 						}
 					}
 				}
 				if (s.indexOf("?") > -1) {
 					s = s.substr(0, s.indexOf("?"))
 				}
 				if (s.indexOf("&") > -1) {
 					s = s.substr(0, s.indexOf("&"))
 				}
 				return s
 			}
 			this.embed = m;
 			return this
 		}
 	})(jwplayer);
 	(function (jwplayer) {
 		var _configurableStateVariables = ["width", "height", "start", "duration", "volume", "mute", "fullscreen", "item", "plugins", "stretching"];
 		jwplayer.html5.model = function (api, container, options) {
 			var _api = api;
 			var _container = container;
 			var _model = {
 				id: _container.id,
 				playlist: [],
 				state: jwplayer.api.events.state.IDLE,
 				position: 0,
 				buffer: 0,
 				config: {
 					width: 480,
 					height: 320,
 					item: -1,
 					skin: undefined,
 					file: undefined,
 					image: undefined,
 					start: 0,
 					duration: 0,
 					bufferlength: 5,
 					volume: 90,
 					mute: false,
 					fullscreen: false,
 					repeat: "",
 					stretching: jwplayer.utils.stretching.UNIFORM,
 					autostart: false,
 					debug: undefined,
 					screencolor: undefined
 				}
 			};
 			var _media;
 			var _eventDispatcher = new jwplayer.html5.eventdispatcher();
 			var _components = ["display", "logo", "controlbar", "playlist", "dock"];
 			jwplayer.utils.extend(_model, _eventDispatcher);
 			for (var option in options) {
 				if (typeof options[option] == "string") {
 					var type = /color$/.test(option) ? "color" : null;
 					options[option] = jwplayer.utils.typechecker(options[option], type)
 				}
 				var config = _model.config;
 				var path = option.split(".");
 				for (var edge in path) {
 					if (edge == path.length - 1) {
 						config[path[edge]] = options[option]
 					} else {
 						if (!jwplayer.utils.exists(config[path[edge]])) {
 							config[path[edge]] = {}
 						}
 						config = config[path[edge]]
 					}
 				}
 			}
 			for (var index in _configurableStateVariables) {
 				var configurableStateVariable = _configurableStateVariables[index];
 				_model[configurableStateVariable] = _model.config[configurableStateVariable]
 			}
 			var pluginorder = _components.concat([]);
 			if (jwplayer.utils.exists(_model.plugins)) {
 				if (typeof _model.plugins == "string") {
 					var userplugins = _model.plugins.split(",");
 					for (var userplugin in userplugins) {
 						if (typeof userplugins[userplugin] == "string") {
 							pluginorder.push(userplugins[userplugin].replace(/^\s+|\s+$/g, ""))
 						}
 					}
 				}
 			}
 			if (jwplayer.utils.isMobile()) {
 				pluginorder = ["display", "logo", "dock", "playlist"];
 				if (!jwplayer.utils.exists(_model.config.repeat)) {
 					_model.config.repeat = "list"
 				}
 			} else {
 				if (_model.config.chromeless) {
 					pluginorder = ["logo", "dock", "playlist"];
 					if (!jwplayer.utils.exists(_model.config.repeat)) {
 						_model.config.repeat = "list"
 					}
 				}
 			}
 			_model.plugins = {
 				order: pluginorder,
 				config: {},
 				object: {}
 			};
 			if (typeof _model.config.components != "undefined") {
 				for (var component in _model.config.components) {
 					_model.plugins.config[component] = _model.config.components[component]
 				}
 			}
 			var playlistVisible = false;
 			for (var pluginIndex in _model.plugins.order) {
 				var pluginName = _model.plugins.order[pluginIndex];
 				var pluginConfig = !jwplayer.utils.exists(_model.plugins.config[pluginName]) ? {} : _model.plugins.config[pluginName];
 				_model.plugins.config[pluginName] = !jwplayer.utils.exists(_model.plugins.config[pluginName]) ? pluginConfig : jwplayer.utils.extend(_model.plugins.config[pluginName], pluginConfig);
 				if (!jwplayer.utils.exists(_model.plugins.config[pluginName].position)) {
 					if (pluginName == "playlist") {
 						_model.plugins.config[pluginName].position = jwplayer.html5.view.positions.NONE
 					} else {
 						_model.plugins.config[pluginName].position = jwplayer.html5.view.positions.OVER
 					}
 				} else {
 					if (pluginName == "playlist") {
 						playlistVisible = true
 					}
 					_model.plugins.config[pluginName].position = _model.plugins.config[pluginName].position.toString().toUpperCase()
 				}
 			}
 			if (_model.plugins.config.controlbar && playlistVisible) {
 				_model.plugins.config.controlbar.hideplaylistcontrols = true
 			}
 			if (typeof _model.plugins.config.dock != "undefined") {
 				if (typeof _model.plugins.config.dock != "object") {
 					var position = _model.plugins.config.dock.toString().toUpperCase();
 					_model.plugins.config.dock = {
 						position: position
 					}
 				}
 				if (typeof _model.plugins.config.dock.position != "undefined") {
 					_model.plugins.config.dock.align = _model.plugins.config.dock.position;
 					_model.plugins.config.dock.position = jwplayer.html5.view.positions.OVER
 				}
 				if (typeof _model.plugins.config.dock.idlehide == "undefined") {
 					try {
 						_model.plugins.config.dock.idlehide = _model.plugins.config.controlbar.idlehide
 					} catch (e) {}
 				}
 			}
 			function _loadExternal(playlistfile) {
 				var loader = new jwplayer.html5.playlistloader();
 				loader.addEventListener(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED, function (evt) {
 					_model.playlist = new jwplayer.html5.playlist(evt);
 					_loadComplete(true)
 				});
 				loader.addEventListener(jwplayer.api.events.JWPLAYER_ERROR, function (evt) {
 					_model.playlist = new jwplayer.html5.playlist({
 						playlist: []
 					});
 					_loadComplete(false)
 				});
 				loader.load(playlistfile)
 			}
 			function _loadComplete() {
 				if (_model.config.shuffle) {
 					_model.item = _getShuffleItem()
 				} else {
 					if (_model.config.item >= _model.playlist.length) {
 						_model.config.item = _model.playlist.length - 1
 					} else {
 						if (_model.config.item < 0) {
 							_model.config.item = 0
 						}
 					}
 					_model.item = _model.config.item
 				}
 				_model.position = 0;
 				_model.duration = _model.playlist.length > 0 ? _model.playlist[_model.item].duration : 0;
 				_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED, {
 					playlist: _model.playlist
 				});
 				_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_ITEM, {
 					index: _model.item
 				})
 			}
 			_model.loadPlaylist = function (arg) {
 				var input;
 				if (typeof arg == "string") {
 					if (arg.indexOf("[") == 0 || arg.indexOf("{") == "0") {
 						try {
 							input = eval(arg)
 						} catch (err) {
 							input = arg
 						}
 					} else {
 						input = arg
 					}
 				} else {
 					input = arg
 				}
 				var config;
 				switch (jwplayer.utils.typeOf(input)) {
 					case "object":
 					config = input;
 					break;
 					case "array":
 					config = {
 						playlist: input
 					};
 					break;
 					default:
 					config = {
 						file: input
 					};
 					break
 				}
 				_model.playlist = new jwplayer.html5.playlist(config);
 				_model.item = _model.config.item >= 0 ? _model.config.item : 0;
 				if (!_model.playlist[_model.item].provider) {
 					_loadExternal(_model.playlist[_model.item].file)
 				} else {
 					_loadComplete()
 				}
 			};

 			function _getShuffleItem() {
 				var result = null;
 				if (_model.playlist.length > 1) {
 					while (!jwplayer.utils.exists(result)) {
 						result = Math.floor(Math.random() * _model.playlist.length);
 						if (result == _model.item) {
 							result = null
 						}
 					}
 				} else {
 					result = 0
 				}
 				return result
 			}
 			function forward(evt) {
 				if (evt.type == jwplayer.api.events.JWPLAYER_MEDIA_LOADED) {
 					_container = _media.getDisplayElement()
 				}
 				_eventDispatcher.sendEvent(evt.type, evt)
 			}
 			var _mediaProviders = {};
 			_model.setActiveMediaProvider = function (playlistItem) {
 				if (playlistItem.provider == "audio") {
 					playlistItem.provider = "sound"
 				}
 				var provider = playlistItem.provider;
 				var current = _media ? _media.getDisplayElement() : null;
 				if (provider == "sound" || provider == "http" || provider == "") {
 					provider = "video"
 				}
 				if (!jwplayer.utils.exists(_mediaProviders[provider])) {
 					switch (provider) {
 						case "video":
 						_media = new jwplayer.html5.mediavideo(_model, current ? current : _container);
 						break;
 						case "youtube":
 						_media = new jwplayer.html5.mediayoutube(_model, current ? current : _container);
 						break
 					}
 					if (!jwplayer.utils.exists(_media)) {
 						return false
 					}
 					_media.addGlobalListener(forward);
 					_mediaProviders[provider] = _media
 				} else {
 					if (_media != _mediaProviders[provider]) {
 						if (_media) {
 							_media.stop()
 						}
 						_media = _mediaProviders[provider]
 					}
 				}
 				return true
 			};
 			_model.getMedia = function () {
 				return _media
 			};
 			_model.seek = function (pos) {
 				_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_MEDIA_SEEK, {
 					position: _model.position,
 					offset: pos
 				});
 				return _media.seek(pos)
 			};
 			_model.setupPlugins = function () {
 				if (!jwplayer.utils.exists(_model.plugins) || !jwplayer.utils.exists(_model.plugins.order) || _model.plugins.order.length == 0) {
 					jwplayer.utils.log("No plugins to set up");
 					return _model
 				}
 				for (var i = 0; i < _model.plugins.order.length; i++) {
 					try {
 						var pluginName = _model.plugins.order[i];
 						if (jwplayer.utils.exists(jwplayer.html5[pluginName])) {
 							if (pluginName == "playlist") {
 								_model.plugins.object[pluginName] = new jwplayer.html5.playlistcomponent(_api, _model.plugins.config[pluginName])
 							} else {
 								_model.plugins.object[pluginName] = new jwplayer.html5[pluginName](_api, _model.plugins.config[pluginName])
 							}
 						} else {
 							_model.plugins.order.splice(plugin, plugin + 1)
 						}
 						if (typeof _model.plugins.object[pluginName].addGlobalListener == "function") {
 							_model.plugins.object[pluginName].addGlobalListener(forward)
 						}
 					} catch (err) {
 						jwplayer.utils.log("Could not setup " + pluginName)
 					}
 				}
 			};
 			return _model
 		}
 	})(jwplayer);
 	(function (a) {
 		a.html5.playlist = function (b) {
 			var d = [];
 			if (b.playlist && b.playlist instanceof Array && b.playlist.length > 0) {
 				for (var c in b.playlist) {
 					if (!isNaN(parseInt(c))) {
 						d.push(new a.html5.playlistitem(b.playlist[c]))
 					}
 				}
 			} else {
 				d.push(new a.html5.playlistitem(b))
 			}
 			return d
 		}
 	})(jwplayer);
 	(function (a) {
 		var c = {
 			size: 180,
 			position: a.html5.view.positions.NONE,
 			itemheight: 60,
 			thumbs: true,
 			fontcolor: "#000000",
 			overcolor: "",
 			activecolor: "",
 			backgroundcolor: "#f8f8f8",
 			font: "_sans",
 			fontsize: "",
 			fontstyle: "",
 			fontweight: ""
 		};
 		var b = {
 			_sans: "Arial, Helvetica, sans-serif",
 			_serif: "Times, Times New Roman, serif",
 			_typewriter: "Courier New, Courier, monospace"
 		};
 		_utils = a.utils;
 		_css = _utils.css;
 		_hide = function (d) {
 			_css(d, {
 				display: "none"
 			})
 		};
 		_show = function (d) {
 			_css(d, {
 				display: "block"
 			})
 		};
 		a.html5.playlistcomponent = function (r, B) {
 			var w = r;
 			var e = a.utils.extend({}, c, w.skin.getComponentSettings("playlist"), B);
 			if (e.position == a.html5.view.positions.NONE || typeof a.html5.view.positions[e.position] == "undefined") {
 				return
 			}
 			var x;
 			var l;
 			var C;
 			var d;
 			var g;
 			var f;
 			var k = -1;
 			var h = {
 				background: undefined,
 				item: undefined,
 				itemOver: undefined,
 				itemImage: undefined,
 				itemActive: undefined
 			};
 			this.getDisplayElement = function () {
 				return x
 			};
 			this.resize = function (F, D) {
 				l = F;
 				C = D;
 				if (w.jwGetFullscreen()) {
 					_hide(x)
 				} else {
 					var E = {
 						display: "block",
 						width: l,
 						height: C
 					};
 					_css(x, E)
 				}
 			};
 			this.show = function () {
 				_show(x)
 			};
 			this.hide = function () {
 				_hide(x)
 			};

 			function j() {
 				x = document.createElement("div");
 				x.id = w.id + "_jwplayer_playlistcomponent";
 				x.style.overflow = "hidden";
 				switch (e.position) {
 					case a.html5.view.positions.RIGHT:
 					case a.html5.view.positions.LEFT:
 					x.style.width = e.size + "px";
 					break;
 					case a.html5.view.positions.TOP:
 					case a.html5.view.positions.BOTTOM:
 					x.style.height = e.size + "px";
 					break
 				}
 				A();
 				if (h.item) {
 					e.itemheight = h.item.height
 				}
 				x.style.backgroundColor = "#C6C6C6";
 				w.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED, s);
 				w.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_ITEM, u);
 				w.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE, m)
 			}
 			function p() {
 				var D = document.createElement("ul");
 				_css(D, {
 					width: x.style.width,
 					minWidth: x.style.width,
 					height: x.style.height,
 					backgroundColor: e.backgroundcolor,
 					backgroundImage: h.background ? "url(" + h.background.src + ")" : "",
 					color: e.fontcolor,
 					listStyle: "none",
 					margin: 0,
 					padding: 0,
 					fontFamily: b[e.font] ? b[e.font] : b._sans,
 					fontSize: (e.fontsize ? e.fontsize : 11) + "px",
 					fontStyle: e.fontstyle,
 					fontWeight: e.fontweight,
 					overflowY: "auto"
 				});
 				return D
 			}
 			function y(D) {
 				return function () {
 					var E = f.getElementsByClassName("item")[D];
 					var F = e.fontcolor;
 					var G = h.item ? "url(" + h.item.src + ")" : "";
 					if (D == w.jwGetPlaylistIndex()) {
 						if (e.activecolor !== "") {
 							F = e.activecolor
 						}
 						if (h.itemActive) {
 							G = "url(" + h.itemActive.src + ")"
 						}
 					}
 					_css(E, {
 						color: e.overcolor !== "" ? e.overcolor : F,
 						backgroundImage: h.itemOver ? "url(" + h.itemOver.src + ")" : G
 					})
 				}
 			}
 			function o(D) {
 				return function () {
 					var E = f.getElementsByClassName("item")[D];
 					var F = e.fontcolor;
 					var G = h.item ? "url(" + h.item.src + ")" : "";
 					if (D == w.jwGetPlaylistIndex()) {
 						if (e.activecolor !== "") {
 							F = e.activecolor
 						}
 						if (h.itemActive) {
 							G = "url(" + h.itemActive.src + ")"
 						}
 					}
 					_css(E, {
 						color: F,
 						backgroundImage: G
 					})
 				}
 			}
 			function q(I) {
 				var P = d[I];
 				var O = document.createElement("li");
 				O.className = "item";
 				_css(O, {
 					height: e.itemheight,
 					display: "block",
 					cursor: "pointer",
 					backgroundImage: h.item ? "url(" + h.item.src + ")" : "",
 					backgroundSize: "100% " + e.itemheight + "px"
 				});
 				O.onmouseover = y(I);
 				O.onmouseout = o(I);
 				var J = document.createElement("div");
 				var F = new Image();
 				var K = 0;
 				var L = 0;
 				var M = 0;
 				if (v() && (P.image || P["playlist.image"] || h.itemImage)) {
 					F.className = "image";
 					if (h.itemImage) {
 						K = (e.itemheight - h.itemImage.height) / 2;
 						L = h.itemImage.width;
 						M = h.itemImage.height
 					} else {
 						L = e.itemheight * 4 / 3;
 						M = e.itemheight
 					}
 					_css(J, {
 						height: M,
 						width: L,
 						"float": "left",
 						styleFloat: "left",
 						cssFloat: "left",
 						margin: "0 5px 0 0",
 						background: "black",
 						overflow: "hidden",
 						margin: K + "px",
 						position: "relative"
 					});
 					_css(F, {
 						position: "relative"
 					});
 					J.appendChild(F);
 					F.onload = function () {
 						a.utils.stretch(a.utils.stretching.FILL, F, L, M, this.naturalWidth, this.naturalHeight)
 					};
 					if (P["playlist.image"]) {
 						F.src = P["playlist.image"]
 					} else {
 						if (P.image) {
 							F.src = P.image
 						} else {
 							if (h.itemImage) {
 								F.src = h.itemImage.src
 							}
 						}
 					}
 					O.appendChild(J)
 				}
 				var E = l - L - K * 2;
 				if (C < e.itemheight * d.length) {
 					E -= 15
 				}
 				var D = document.createElement("div");
 				_css(D, {
 					position: "relative",
 					height: "100%",
 					overflow: "hidden"
 				});
 				var G = document.createElement("span");
 				if (P.duration > 0) {
 					G.className = "duration";
 					_css(G, {
 						fontSize: (e.fontsize ? e.fontsize : 11) + "px",
 						fontWeight: (e.fontweight ? e.fontweight : "bold"),
 						width: "40px",
 						height: e.fontsize ? e.fontsize + 10 : 20,
 						lineHeight: 24,
 						"float": "right",
 						styleFloat: "right",
 						cssFloat: "right"
 					});
 					G.innerHTML = _utils.timeFormat(P.duration);
 					D.appendChild(G)
 				}
 				var N = document.createElement("span");
 				N.className = "title";
 				_css(N, {
 					padding: "5px 5px 0 " + (K ? 0 : "5px"),
 					height: e.fontsize ? e.fontsize + 10 : 20,
 					lineHeight: e.fontsize ? e.fontsize + 10 : 20,
 					overflow: "hidden",
 					"float": "left",
 					styleFloat: "left",
 					cssFloat: "left",
 					width: ((P.duration > 0) ? E - 50 : E) - 10 + "px",
 					fontSize: (e.fontsize ? e.fontsize : 13) + "px",
 					fontWeight: (e.fontweight ? e.fontweight : "bold")
 				});
 				N.innerHTML = P ? P.title : "";
 				D.appendChild(N);
 				if (P.description) {
 					var H = document.createElement("span");
 					H.className = "description";
 					_css(H, {
 						display: "block",
 						"float": "left",
 						styleFloat: "left",
 						cssFloat: "left",
 						margin: 0,
 						paddingLeft: N.style.paddingLeft,
 						paddingRight: N.style.paddingRight,
 						lineHeight: (e.fontsize ? e.fontsize + 4 : 16) + "px",
 						overflow: "hidden",
 						position: "relative"
 					});
 					H.innerHTML = P.description;
 					D.appendChild(H)
 				}
 				O.appendChild(D);
 				return O
 			}
 			function s(E) {
 				x.innerHTML = "";
 				d = w.jwGetPlaylist();
 				if (!d) {
 					return
 				}
 				items = [];
 				f = p();
 				for (var F = 0; F < d.length; F++) {
 					var D = q(F);
 					D.onclick = z(F);
 					f.appendChild(D);
 					items.push(D)
 				}
 				k = w.jwGetPlaylistIndex();
 				o(k)();
 				x.appendChild(f);
 				if (_utils.isIOS() && window.iScroll) {
 					f.style.height = e.itemheight * d.length + "px";
 					var G = new iScroll(x.id)
 				}
 			}
 			function z(D) {
 				return function () {
 					w.jwPlaylistItem(D);
 					w.jwPlay(true)
 				}
 			}
 			function n() {
 				f.scrollTop = w.jwGetPlaylistIndex() * e.itemheight
 			}
 			function v() {
 				return e.thumbs.toString().toLowerCase() == "true"
 			}
 			function u(D) {
 				if (k >= 0) {
 					o(k)();
 					k = D.index
 				}
 				o(D.index)();
 				n()
 			}
 			function m() {
 				if (e.position == a.html5.view.positions.OVER) {
 					switch (w.jwGetState()) {
 						case a.api.events.state.IDLE:
 						_show(x);
 						break;
 						default:
 						_hide(x);
 						break
 					}
 				}
 			}
 			function A() {
 				for (var D in h) {
 					h[D] = t(D)
 				}
 			}
 			function t(D) {
 				return w.skin.getSkinElement("playlist", D)
 			}
 			j();
 			return this
 		}
 	})(jwplayer);
 	(function (b) {
 		b.html5.playlistitem = function (d) {
 			var e = {
 				author: "",
 				date: "",
 				description: "",
 				image: "",
 				link: "",
 				mediaid: "",
 				tags: "",
 				title: "",
 				provider: "",
 				file: "",
 				streamer: "",
 				duration: -1,
 				start: 0,
 				currentLevel: -1,
 				levels: []
 			};
 			var c = b.utils.extend({}, e, d);
 			if (c.type) {
 				c.provider = c.type;
 				delete c.type
 			}
 			if (c.levels.length === 0) {
 				c.levels[0] = new b.html5.playlistitemlevel(c)
 			}
 			if (!c.provider) {
 				c.provider = a(c.levels[0])
 			} else {
 				c.provider = c.provider.toLowerCase()
 			}
 			return c
 		};

 		function a(e) {
 			if (b.utils.isYouTube(e.file)) {
 				return "youtube"
 			} else {
 				var f = b.utils.extension(e.file);
 				var c;
 				if (f && b.utils.extensionmap[f]) {
 					if (f == "m3u8") {
 						return "video"
 					}
 					c = b.utils.extensionmap[f].html5
 				} else {
 					if (e.type) {
 						c = e.type
 					}
 				}
 				if (c) {
 					var d = c.split("/")[0];
 					if (d == "audio") {
 						return "sound"
 					} else {
 						if (d == "video") {
 							return d
 						}
 					}
 				}
 			}
 			return ""
 		}
 	})(jwplayer);
 	(function (a) {
 		a.html5.playlistitemlevel = function (b) {
 			var d = {
 				file: "",
 				streamer: "",
 				bitrate: 0,
 				width: 0
 			};
 			for (var c in d) {
 				if (a.utils.exists(b[c])) {
 					d[c] = b[c]
 				}
 			}
 			return d
 		}
 	})(jwplayer);
 	(function (a) {
 		a.html5.playlistloader = function () {
 			var c = new a.html5.eventdispatcher();
 			a.utils.extend(this, c);
 			this.load = function (e) {
 				a.utils.ajax(e, d, b)
 			};

 			function d(g) {
 				var f = [];
 				try {
 					var f = a.utils.parsers.rssparser.parse(g.responseXML.firstChild);
 					c.sendEvent(a.api.events.JWPLAYER_PLAYLIST_LOADED, {
 						playlist: new a.html5.playlist({
 							playlist: f
 						})
 					})
 				} catch (h) {
 					b("Could not parse the playlist")
 				}
 			}
 			function b(e) {
 				c.sendEvent(a.api.events.JWPLAYER_ERROR, {
 					message: e ? e : "Could not load playlist an unknown reason."
 				})
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		a.html5.skin = function () {
 			var b = {};
 			var c = false;
 			this.load = function (d, e) {
 				new a.html5.skinloader(d, function (f) {
 					c = true;
 					b = f;
 					e()
 				}, function () {
 					new a.html5.skinloader("", function (f) {
 						c = true;
 						b = f;
 						e()
 					})
 				})
 			};
 			this.getSkinElement = function (d, e) {
 				if (c) {
 					try {
 						return b[d].elements[e]
 					} catch (f) {
 						a.utils.log("No such skin component / element: ", [d, e])
 					}
 				}
 				return null
 			};
 			this.getComponentSettings = function (d) {
 				if (c) {
 					return b[d].settings
 				}
 				return null
 			};
 			this.getComponentLayout = function (d) {
 				if (c) {
 					return b[d].layout
 				}
 				return null
 			}
 		}
 	})(jwplayer);
 	(function (a) {
 		a.html5.skinloader = function (f, p, k) {
 			var o = {};
 			var c = p;
 			var l = k;
 			var e = true;
 			var j;
 			var n = f;
 			var s = false;

 			function m() {
 				if (typeof n != "string" || n === "") {
 					d(a.html5.defaultSkin().xml)
 				} else {
 					a.utils.ajax(a.utils.getAbsolutePath(n), function (t) {
 						try {
 							if (a.utils.exists(t.responseXML)) {
 								d(t.responseXML);
 								return
 							}
 						} catch (u) {
 							h()
 						}
 						d(a.html5.defaultSkin().xml)
 					}, function (t) {
 						d(a.html5.defaultSkin().xml)
 					})
 				}
 			}
 			function d(y) {
 				var E = y.getElementsByTagName("component");
 				if (E.length === 0) {
 					return
 				}
 				for (var H = 0; H < E.length; H++) {
 					var C = E[H].getAttribute("name");
 					var B = {
 						settings: {},
 						elements: {},
 						layout: {}
 					};
 					o[C] = B;
 					var G = E[H].getElementsByTagName("elements")[0].getElementsByTagName("element");
 					for (var F = 0; F < G.length; F++) {
 						b(G[F], C)
 					}
 					var z = E[H].getElementsByTagName("settings")[0];
 					if (z && z.childNodes.length > 0) {
 						var K = z.getElementsByTagName("setting");
 						for (var P = 0; P < K.length; P++) {
 							var Q = K[P].getAttribute("name");
 							var I = K[P].getAttribute("value");
 							var x = /color$/.test(Q) ? "color" : null;
 							o[C].settings[Q] = a.utils.typechecker(I, x)
 						}
 					}
 					var L = E[H].getElementsByTagName("layout")[0];
 					if (L && L.childNodes.length > 0) {
 						var M = L.getElementsByTagName("group");
 						for (var w = 0; w < M.length; w++) {
 							var A = M[w];
 							o[C].layout[A.getAttribute("position")] = {
 								elements: []
 							};
 							for (var O = 0; O < A.attributes.length; O++) {
 								var D = A.attributes[O];
 								o[C].layout[A.getAttribute("position")][D.name] = D.value
 							}
 							var N = A.getElementsByTagName("*");
 							for (var v = 0; v < N.length; v++) {
 								var t = N[v];
 								o[C].layout[A.getAttribute("position")].elements.push({
 									type: t.tagName
 								});
 								for (var u = 0; u < t.attributes.length; u++) {
 									var J = t.attributes[u];
 									o[C].layout[A.getAttribute("position")].elements[v][J.name] = J.value
 								}
 								if (!a.utils.exists(o[C].layout[A.getAttribute("position")].elements[v].name)) {
 									o[C].layout[A.getAttribute("position")].elements[v].name = t.tagName
 								}
 							}
 						}
 					}
 					e = false;
 					r()
 				}
 			}
 			function r() {
 				clearInterval(j);
 				if (!s) {
 					j = setInterval(function () {
 						q()
 					}, 100)
 				}
 			}
 			function b(y, x) {
 				var w = new Image();
 				var t = y.getAttribute("name");
 				var v = y.getAttribute("src");
 				var A;
 				if (v.indexOf("data:image/png;base64,") === 0) {
 					A = v
 				} else {
 					var u = a.utils.getAbsolutePath(n);
 					var z = u.substr(0, u.lastIndexOf("/"));
 					A = [z, x, v].join("/")
 				}
 				o[x].elements[t] = {
 					height: 0,
 					width: 0,
 					src: "",
 					ready: false,
 					image: w
 				};
 				w.onload = function (B) {
 					g(w, t, x)
 				};
 				w.onerror = function (B) {
 					s = true;
 					r();
 					l()
 				};
 				w.src = A
 			}
 			function h() {
 				for (var u in o) {
 					var w = o[u];
 					for (var t in w.elements) {
 						var x = w.elements[t];
 						var v = x.image;
 						v.onload = null;
 						v.onerror = null;
 						delete x.image;
 						delete w.elements[t]
 					}
 					delete o[u]
 				}
 			}
 			function q() {
 				for (var t in o) {
 					if (t != "properties") {
 						for (var u in o[t].elements) {
 							if (!o[t].elements[u].ready) {
 								return
 							}
 						}
 					}
 				}
 				if (e === false) {
 					clearInterval(j);
 					c(o)
 				}
 			}
 			function g(t, v, u) {
 				if (o[u] && o[u].elements[v]) {
 					o[u].elements[v].height = t.height;
 					o[u].elements[v].width = t.width;
 					o[u].elements[v].src = t.src;
 					o[u].elements[v].ready = true;
 					r()
 				} else {
 					a.utils.log("Loaded an image for a missing element: " + u + "." + v)
 				}
 			}
 			m()
 		}
 	})(jwplayer);
 	(function (a) {
 		a.html5.api = function (c, n) {
 			var m = {};
 			var f = document.createElement("div");
 			c.parentNode.replaceChild(f, c);
 			f.id = c.id;
 			m.version = a.version;
 			m.id = f.id;
 			var l = new a.html5.model(m, f, n);
 			var j = new a.html5.view(m, f, l);
 			var k = new a.html5.controller(m, f, l, j);
 			m.skin = new a.html5.skin();
 			m.jwPlay = function (o) {
 				if (typeof o == "undefined") {
 					e()
 				} else {
 					if (o.toString().toLowerCase() == "true") {
 						k.play()
 					} else {
 						k.pause()
 					}
 				}
 			};
 			m.jwPause = function (o) {
 				if (typeof o == "undefined") {
 					e()
 				} else {
 					if (o.toString().toLowerCase() == "true") {
 						k.pause()
 					} else {
 						k.play()
 					}
 				}
 			};

 			function e() {
 				if (l.state == a.api.events.state.PLAYING || l.state == a.api.events.state.BUFFERING) {
 					k.pause()
 				} else {
 					k.play()
 				}
 			}
 			m.jwStop = k.stop;
 			m.jwSeek = k.seek;
 			m.jwPlaylistItem = k.item;
 			m.jwPlaylistNext = k.next;
 			m.jwPlaylistPrev = k.prev;
 			m.jwResize = k.resize;
 			m.jwLoad = k.load;
 			m.jwDetachMedia = k.detachMedia;
 			m.jwAttachMedia = k.attachMedia;

 			function h(o) {
 				return function () {
 					return l[o]
 				}
 			}
 			function d(o, q, p) {
 				return function () {
 					var r = l.plugins.object[o];
 					if (r && r[q] && typeof r[q] == "function") {
 						r[q].apply(r, p)
 					}
 				}
 			}
 			m.jwGetItem = h("item");
 			m.jwGetPosition = h("position");
 			m.jwGetDuration = h("duration");
 			m.jwGetBuffer = h("buffer");
 			m.jwGetWidth = h("width");
 			m.jwGetHeight = h("height");
 			m.jwGetFullscreen = h("fullscreen");
 			m.jwSetFullscreen = k.setFullscreen;
 			m.jwGetVolume = h("volume");
 			m.jwSetVolume = k.setVolume;
 			m.jwGetMute = h("mute");
 			m.jwSetMute = k.setMute;
 			m.jwGetStretching = function () {
 				return l.stretching.toUpperCase()
 			};
 			m.jwGetState = h("state");
 			m.jwGetVersion = function () {
 				return m.version
 			};
 			m.jwGetPlaylist = function () {
 				return l.playlist
 			};
 			m.jwGetPlaylistIndex = m.jwGetItem;
 			m.jwAddEventListener = k.addEventListener;
 			m.jwRemoveEventListener = k.removeEventListener;
 			m.jwSendEvent = k.sendEvent;
 			m.jwDockSetButton = function (r, o, p, q) {
 				if (l.plugins.object.dock && l.plugins.object.dock.setButton) {
 					l.plugins.object.dock.setButton(r, o, p, q)
 				}
 			};
 			m.jwControlbarShow = d("controlbar", "show");
 			m.jwControlbarHide = d("controlbar", "hide");
 			m.jwDockShow = d("dock", "show");
 			m.jwDockHide = d("dock", "hide");
 			m.jwDisplayShow = d("display", "show");
 			m.jwDisplayHide = d("display", "hide");
 			m.jwGetLevel = function () {};
 			m.jwGetBandwidth = function () {};
 			m.jwGetLockState = function () {};
 			m.jwLock = function () {};
 			m.jwUnlock = function () {};

 			function b() {
 				if (l.config.playlistfile) {
 					l.addEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED, g);
 					l.loadPlaylist(l.config.playlistfile)
 				} else {
 					if (typeof l.config.playlist == "string") {
 						l.addEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED, g);
 						l.loadPlaylist(l.config.playlist)
 					} else {
 						l.loadPlaylist(l.config);
 						setTimeout(g, 25)
 					}
 				}
 			}
 			function g(o) {
 				l.removeEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED, g);
 				l.setupPlugins();
 				j.setup();
 				var o = {
 					id: m.id,
 					version: m.version
 				};
 				k.playerReady(o)
 			}
 			if (l.config.chromeless && !a.utils.isIOS()) {
 				b()
 			} else {
 				m.skin.load(l.config.skin, b)
 			}
 			return m
 		}
 	})(jwplayer)
 };
//ENd JWPLAYER

 (function (a) {
 	window.elFinder = function (b, c) {
 		this.time("load");
 		var d = this,
 		b = a(b),
 		e = a("<div/>").append(b.contents()),
 		f = b.attr("style"),
 		g = b.attr("id") || "",
 		h = "elfinder-" + (g || Math.random().toString().substr(2, 7)),
 		i = "mousedown." + h,
 		j = "keydown." + h,
 		k = "keypress." + h,
 		l = !0,
 		m = !0,
 		n = ["enable", "disable", "load", "open", "reload", "select", "add", "remove", "change", "dblclick", "getfile", "lockfiles", "unlockfiles", "dragstart", "dragstop"],
 		o = {},
 		p = "",
 		q = {
 			path: "",
 			url: "",
 			tmbUrl: "",
 			disabled: [],
 			separator: "/",
 			archives: [],
 			extract: [],
 			copyOverwrite: !0,
 			tmb: !1
 		},
 		r = {},
 		s = [],
 		t = {},
 		u = {},
 		v = [],
 		w = [],
 		x = [],
 		y = new d.command(d),
 		z = "auto",
 		A = 400,
 		B = a(document.createElement("audio")).hide().appendTo("body")[0],
 		C, D = function (b) {
 			if (b.init) r = {};
 			else for (var c in r) r.hasOwnProperty(c) && r[c].mime != "directory" && r[c].phash == p && a.inArray(c, w) === -1 && delete r[c];
 			p = b.cwd.hash,
 			E(b.files),
 			r[p] || E([b.cwd]),
 			d.lastDir(p)
 		},
 		E = function (a) {
 			var b = a.length,
 			c;
 			while (b--) c = a[b],
 				c.name && c.hash && c.mime && (r[c.hash] = c)
 		},
 		F = function (b) {
 			var c = b.keyCode,
 			e = !! b.ctrlKey || !! b.metaKey;
 			l && (a.each(u, function (a, f) {
 				f.type == b.type && f.keyCode == c && f.shiftKey == b.shiftKey && f.ctrlKey == e && f.altKey == b.altKey && (b.preventDefault(), b.stopPropagation(), f.callback(b, d), d.debug("shortcut-exec", a + " : " + f.description))
 			}), c == 9 && b.preventDefault())
 		},
 		G = new Date,
 		H, I;
 		this.api = null,
 		this.newAPI = !1,
 		this.oldAPI = !1,
 		this.OS = navigator.userAgent.indexOf("Mac") !== -1 ? "mac" : navigator.userAgent.indexOf("Win") !== -1 ? "win" : "other",
 		this.options = a.extend(!0, {}, this._options, c || {}),
 		c.ui && (this.options.ui = c.ui),
 		c.commands && (this.options.commands = c.commands),
 		c.uiOptions && c.uiOptions.toolbar && (this.options.uiOptions.toolbar = c.uiOptions.toolbar),
 		a.extend(this.options.contextmenu, c.contextmenu),
 		this.requestType = /^(get|post)$/i.test(this.options.requestType) ? this.options.requestType.toLowerCase() : "get",
 		this.customData = a.isPlainObject(this.options.customData) ? this.options.customData : {},
 		this.id = g,
 		this.uploadURL = c.urlUpload || c.url,
 		this.namespace = h,
 		this.lang = this.i18[this.options.lang] && this.i18[this.options.lang].messages ? this.options.lang : "en",
 		I = this.lang == "en" ? this.i18.en : a.extend(!0, {}, this.i18.en, this.i18[this.lang]),
 		this.direction = I.direction,
 		this.messages = I.messages,
 		this.dateFormat = this.options.dateFormat || I.dateFormat,
 		this.fancyFormat = this.options.fancyDateFormat || I.fancyDateFormat,
 		this.today = (new Date(G.getFullYear(), G.getMonth(), G.getDate())).getTime() / 1e3,
 		this.yesterday = this.today - 86400,
 		H = this.options.UTCDate ? "UTC" : "",
 		this.getHours = "get" + H + "Hours",
 		this.getMinutes = "get" + H + "Minutes",
 		this.getSeconds = "get" + H + "Seconds",
 		this.getDate = "get" + H + "Date",
 		this.getDay = "get" + H + "Day",
 		this.getMonth = "get" + H + "Month",
 		this.getFullYear = "get" + H + "FullYear",
 		this.cssClass = "ui-helper-reset ui-helper-clearfix ui-widget ui-widget-content ui-corner-all elfinder elfinder-" + (this.direction == "rtl" ? "rtl" : "ltr") + " " + this.options.cssClass,
 		this.storage = function () {
 			try {
 				return "localStorage" in window && window.localStorage !== null ? d.localStorage : d.cookie
 			} catch (a) {
 				return d.cookie
 			}
 		}(),
 		this.notifyDelay = this.options.notifyDelay > 0 ? parseInt(this.options.notifyDelay) : 500,
 		this.draggable = {
 			appendTo: "body",
 			addClasses: !0,
 			delay: 30,
 			revert: !0,
 			refreshPositions: !0,
 			cursor: "move",
 			cursorAt: {
 				left: 50,
 				top: 47
 			},
 			drag: function (a, b) {
 				b.helper.toggleClass("elfinder-drag-helper-plus", a.shiftKey || a.ctrlKey || a.metaKey)
 			},
 			stop: function () {
 				d.trigger("focus").trigger("dragstop")
 			},
 			helper: function (b, c) {
 				var e = this.id ? a(this) : a(this).parents("[id]:first"),
 				f = a('<div class="elfinder-drag-helper"><span class="elfinder-drag-helper-icon-plus"/></div>'),
 				g = function (a) {
 					return '<div class="elfinder-cwd-icon ' + d.mime2class(a) + ' ui-corner-all"/>'
 				},
 				h, i;
 				return d.trigger("dragstart", {
 					target: e[0],
 					originalEvent: b
 				}),
 				h = e.is("." + d.res("class", "cwdfile")) ? d.selected() : [d.navId2Hash(e.attr("id"))],
 				f.append(g(r[h[0]].mime)).data("files", h),
 				(i = h.length) > 1 && f.append(g(r[h[i - 1]].mime) + '<span class="elfinder-drag-num">' + i + "</span>"),
 				f
 			}
 		},
 		this.droppable = {
 			tolerance: "pointer",
 			accept: ".elfinder-cwd-file-wrapper,.elfinder-navbar-dir,.elfinder-cwd-file",
 			hoverClass: this.res("class", "adroppable"),
 			drop: function (b, c) {
 				var e = a(this),
 				f = a.map(c.helper.data("files") || [], function (a) {
 					return a || null
 				}),
 				g = [],
 				h = "class",
 				i, j, k, l;
 				e.is("." + d.res(h, "cwd")) ? j = p : e.is("." + d.res(h, "cwdfile")) ? j = e.attr("id") : e.is("." + d.res(h, "navdir")) && (j = d.navId2Hash(e.attr("id"))),
 				i = f.length;
 				while (i--) l = f[i],
 					l != j && r[l].phash != j && g.push(l);
 				g.length && (c.helper.hide(), d.clipboard(g, !(b.ctrlKey || b.shiftKey || b.metaKey)), d.exec("paste", j).always(function () {
 					d.clipboard([])
 				}), d.trigger("drop", {
 					files: f
 				}))
 			}
 		},
 		this.enabled = function () {
 			return b.is(":visible") && l
 		},
 		this.visible = function () {
 			return b.is(":visible")
 		},
 		this.root = function (a) {
 			var b = r[a || p],
 			c;
 			while (b && b.phash) b = r[b.phash];
 			if (b) return b.hash;
 			while (c in r && r.hasOwnProperty(c)) {
 				b = r[c];
 				if (!b.phash && !b.mime == "directory" && b.read) return b.hash
 			}
 		return ""
 	},
 	this.cwd = function () {
 		return r[p] || {}
 	},
 	this.option = function (a) {
 		return q[a] || ""
 	},
 	this.file = function (a) {
 		return r[a]
 	},
 	this.files = function () {
 		return a.extend(!0, {}, r)
 	},
 	this.parents = function (a) {
 		var b = [],
 		c;
 		while (c = this.file(a)) b.unshift(c.hash),
 			a = c.phash;
 		return b
 	},
 	this.path2array = function (a) {
 		var b, c = [];
 		while (a && (b = r[a]) && b.hash) c.unshift(b.name),
 			a = b.phash;
 		return c
 	},
 	this.path = function (a) {
 		return r[a] && r[a].path ? r[a].path : this.path2array(a).join(q.separator)
 	},
 	this.url = function (b) {
 		var c = r[b];
 		if (!c || !c.read) return "";
 		if (c.url) return c.url;
 		if (q.url) return q.url + a.map(this.path2array(b), function (a) {
 			return encodeURIComponent(a)
 		}).slice(1).join("/");
 			var d = a.extend({}, this.customData, {
 				cmd: "file",
 				target: c.hash
 			});
 			return this.oldAPI && (d.cmd = "open", d.current = c.phash),
 			this.options.url + (this.options.url.indexOf("?") === -1 ? "?" : "&") + a.param(d, !0)
 		},
 		this.tmb = function (b) {
 			var c = r[b],
 			d = c && c.tmb && c.tmb != 1 ? q.tmbUrl + c.tmb : "";
 			return d && (a.browser.opera || a.browser.msie) && (d += "?_=" + (new Date).getTime()),
 			d
 		},
 		this.selected = function () {
 			return s.slice(0)
 		},
 		this.selectedFiles = function () {
 			return a.map(s, function (a) {
 				return r[a] || null
 			})
 		},
 		this.fileByName = function (a, b) {
 			var c;
 			for (c in r) if (r.hasOwnProperty(c) && r[c].phash == b && r[c].name == a) return r[c]
 		},
 	this.validResponse = function (a, b) {
 		return b.error || this.rules[this.rules[a] ? a : "defaults"](b)
 	},
 	this.request = function (b) {
 		var c = this,
 		d = this.options,
 		e = a.Deferred(),
 		f = a.extend({}, d.customData, {
 			mimes: d.onlyMimes
 		}, b.data || b),
 		g = f.cmd,
 		h = !b.preventDefault && !b.preventFail,
 		i = !b.preventDefault && !b.preventDone,
 		j = a.extend({}, b.notify),
 		k = !! b.raw,
 		l = b.syncOnFail,
 		m, b = a.extend({
 			url: d.url,
 			async: !0,
 			type: this.requestType,
 			dataType: "json",
 			cache: !1,
 			data: f
 		}, b.options || {}),
 		n = function (b) {
 			b.warning && c.error(b.warning),
 			g == "open" && D(a.extend(!0, {}, b)),
 			b.removed && b.removed.length && c.remove(b),
 			b.added && b.added.length && c.add(b),
 			b.changed && b.changed.length && c.change(b),
 			c.trigger(g, b),
 			b.sync && c.sync()
 		},
 		o = function (a, b) {
 			var c;
 			switch (b) {
 				case "abort":
 				c = a.quiet ? "" : ["errConnect", "errAbort"];
 				break;
 				case "timeout":
 				c = ["errConnect", "errTimeout"];
 				break;
 				case "parsererror":
 				c = ["errResponse", "errDataNotJSON"];
 				break;
 				default:
 				a.status == 403 ? c = ["errConnect", "errAccess"] : a.status == 404 ? c = ["errConnect", "errNotFound"] : c = "errConnect"
 			}
 			e.reject(c, a, b)
 		},
 		p = function (b) {
 			if (k) return e.resolve(b);
 			if (!b) return e.reject(["errResponse", "errDataEmpty"], r);
 			if (!a.isPlainObject(b)) return e.reject(["errResponse", "errDataNotJSON"], r);
 			if (b.error) return e.reject(b.error, r);
 			if (!c.validResponse(g, b)) return e.reject("errResponse", r);
 			b = c.normalize(b),
 			c.api || (c.api = b.api || 1, c.newAPI = c.api >= 2, c.oldAPI = !c.newAPI),
 			b.options && (q = a.extend({}, q, b.options)),
 			e.resolve(b),
 			b.debug && c.debug("backend-debug", b.debug)
 		},
 		r, s;
 		i && e.done(n),
 		e.fail(function (a) {
 			a && (h ? c.error(a) : c.debug("error", c.i18n(a)))
 		});
 		if (!g) return e.reject("errCmdReq");
 		l && e.fail(function (a) {
 			a && c.sync()
 		}),
 		j.type && j.cnt && (m = setTimeout(function () {
 			c.notify(j),
 			e.always(function () {
 				j.cnt = -(parseInt(j.cnt) || 0),
 				c.notify(j)
 			})
 		}, c.notifyDelay), e.always(function () {
 			clearTimeout(m)
 		}));
 		if (g == "open") while (s = x.pop())!s.isRejected() && !s.isResolved() && (s.quiet = !0, s.abort());
 		return delete b.preventFail,
 		r = this.transport.send(b).fail(o).done(p),
 		g == "open" && (x.unshift(r), e.always(function () {
 			var b = a.inArray(r, x);
 			b !== -1 && x.splice(b, 1)
 		})),
 		e
 	},
 	this.diff = function (b) {
 		var c = {},
 		d = [],
 		e = [],
 		f = [],
 		g = function (a) {
 			var b = f.length;
 			while (b--) if (f[b].hash == a) return !0
 		};
 	return a.each(b, function (a, b) {
 		c[b.hash] = b
 	}),
 	a.each(r, function (a, b) {
 		!c[a] && e.push(a)
 	}),
 	a.each(c, function (b, c) {
 		var e = r[b];
 		e ? a.each(c, function (a) {
 			if (c[a] != e[a]) return f.push(c),
 				!1
 		}) : d.push(c)
 	}),
 	a.each(e, function (b, d) {
 		var h = r[d],
 		i = h.phash;
 		i && h.mime == "directory" && a.inArray(i, e) === -1 && c[i] && !g(i) && f.push(c[i])
 	}),
 	{
 		added: d,
 		removed: e,
 		changed: f
 	}
 },
 this.sync = function () {
 	var b = this,
 	c = a.Deferred().done(function () {
 		b.trigger("sync")
 	}),
 	d = {
 		data: {
 			cmd: "open",
 			init: 1,
 			target: p,
 			tree: this.ui.tree ? 1 : 0
 		},
 		preventDefault: !0
 	},
 	e = {
 		data: {
 			cmd: "parents",
 			target: p
 		},
 		preventDefault: !0
 	};
 	return a.when(this.request(d), this.request(e)).fail(function (a) {
 		c.reject(a),
 		a && b.request({
 			data: {
 				cmd: "open",
 				target: b.lastDir(""),
 				tree: 1,
 				init: 1
 			},
 			notify: {
 				type: "open",
 				cnt: 1,
 				hideCnt: !0
 			}
 		})
 	}).done(function (a, d) {
 		var e = b.diff(a.files.concat(d && d.tree ? d.tree : []));
 		return e.removed.length && b.remove(e),
 		e.added.length && b.add(e),
 		e.changed.length && b.change(e),
 		c.resolve(e)
 	}),
 	c
 },
 this.upload = function (a) {
 	return this.transport.upload(a, this)
 },
 this.bind = function (a, b) {
 	var c;
 	if (typeof b == "function") {
 		a = ("" + a).toLowerCase().split(/\s+/);
 		for (c = 0; c < a.length; c++) t[a[c]] === void 0 && (t[a[c]] = []),
 			t[a[c]].push(b)
 	}
 	return this
 },
 this.unbind = function (a, b) {
 	var c = t[("" + a).toLowerCase()] || [],
 	d = c.indexOf(b);
 	return d > -1 && c.splice(d, 1),
 	b = null,
 	this
 },
 this.trigger = function (b, c) {
 	var b = b.toLowerCase(),
 	d = t[b] || [],
 	e, f;
 	this.debug("event-" + b, c);
 	if (d.length) {
 		b = a.Event(b);
 		for (e = 0; e < d.length; e++) {
 			b.data = a.extend(!0, {}, c);
 			try {
 				if (d[e](b, this) === !1 || b.isDefaultPrevented()) {
 					this.debug("event-stoped", b.type);
 					break
 				}
 			} catch (g) {
 				window.console && window.console.log && window.console.log(g)
 			}
 		}
 	}
 	return this
 },
 this.shortcut = function (b) {
 	var c, d, e, f, g;
 	if (this.options.allowShortcuts && b.pattern && a.isFunction(b.callback)) {
 		c = b.pattern.toUpperCase().split(/\s+/);
 		for (f = 0; f < c.length; f++) d = c[f],
 			g = d.split("+"),
 		e = (e = g.pop()).length == 1 ? e > 0 ? e : e.charCodeAt(0) : a.ui.keyCode[e],
 		e && !u[d] && (u[d] = {
 			keyCode: e,
 			altKey: a.inArray("ALT", g) != -1,
 			ctrlKey: a.inArray("CTRL", g) != -1,
 			shiftKey: a.inArray("SHIFT", g) != -1,
 			type: b.type || "keydown",
 			callback: b.callback,
 			description: b.description,
 			pattern: d
 		})
 	}
 	return this
 },
 this.shortcuts = function () {
 	var b = [];
 	return a.each(u, function (a, c) {
 		b.push([c.pattern, d.i18n(c.description)])
 	}),
 	b
 },
 this.clipboard = function (b, c) {
 	var d = function () {
 		return a.map(v, function (a) {
 			return a.hash
 		})
 	};
 	return b !== void 0 && (v.length && this.trigger("unlockfiles", {
 		files: d()
 	}), w = [], v = a.map(b || [], function (a) {
 		var b = r[a];
 		return b ? (w.push(a), {
 			hash: a,
 			phash: b.phash,
 			name: b.name,
 			mime: b.mime,
 			read: b.read,
 			locked: b.locked,
 			cut: !! c
 		}) : null
 	}), this.trigger("changeclipboard", {
 		clipboard: v.slice(0, v.length)
 	}), c && this.trigger("lockfiles", {
 		files: d()
 	})),
 	v.slice(0, v.length)
 },
 this.isCommandEnabled = function (b) {
 	return this._commands[b] ? a.inArray(b, q.disabled) === -1 : !1
 },
 this.exec = function (b, c, d) {
 	return this._commands[b] && this.isCommandEnabled(b) ? this._commands[b].exec(c, d) : a.Deferred().reject("No such command")
 },
 this.dialog = function (c, d) {
 	return a("<div/>").append(c).appendTo(b).elfinderdialog(d)
 },
 this.getUI = function (a) {
 	return this.ui[a] || b
 },
 this.command = function (a) {
 	return a === void 0 ? this._commands : this._commands[a]
 },
 this.resize = function (a, c) {
 	b.css("width", a).height(c).trigger("resize"),
 	this.trigger("resize", {
 		width: b.width(),
 		height: b.height()
 	})
 },
 this.restoreSize = function () {
 	this.resize(z, A)
 },
 this.show = function () {
 	b.show(),
 	this.enable().trigger("show")
 },
 this.hide = function () {
 	this.disable().trigger("hide"),
 	b.hide()
 },
 this.destroy = function () {
 	b && b[0].elfinder && (this.trigger("destroy").disable(), t = {}, u = {}, a(document).add(b).unbind("." + this.namespace), d.trigger = function () {}, b.children().remove(), b.append(e.contents()).removeClass(this.cssClass).attr("style", f), b[0].elfinder = null, C && clearInterval(C))
 },
 this.setSort(this.options.sort, this.options.sortDirect);
 if (!(a.fn.selectable && a.fn.draggable && a.fn.droppable)) return alert(this.i18n("errJqui"));
 if (!b.length) return alert(this.i18n("errNode"));
 if (!this.options.url) return alert(this.i18n("errURL"));
 a.extend(a.ui.keyCode, {
 	F1: 112,
 	F2: 113,
 	F3: 114,
 	F4: 115,
 	F5: 116,
 	F6: 117,
 	F7: 118,
 	F8: 119,
 	F9: 120
 }),
 this.dragUpload = !1,
 this.xhrUpload = typeof XMLHttpRequestUpload != "undefined" && typeof File != "undefined" && typeof FormData != "undefined",
 this.transport = {},
 typeof this.options.transport == "object" && (this.transport = this.options.transport, typeof this.transport.init == "function" && this.transport.init(this)),
 typeof this.transport.send != "function" && (this.transport.send = function (b) {
 	return a.ajax(b)
 }),
 this.transport.upload == "iframe" ? this.transport.upload = a.proxy(this.uploads.iframe, this) : typeof this.transport.upload == "function" ? this.dragUpload = !! this.options.dragUploadAllow : this.xhrUpload ? (this.transport.upload = a.proxy(this.uploads.xhr, this), this.dragUpload = !0) : this.transport.upload = a.proxy(this.uploads.iframe, this),
 this.error = function () {
 	var a = arguments[0];
 	return arguments.length == 1 && typeof a == "function" ? d.bind("error", a) : d.trigger("error", {
 		error: a
 	})
 },
 a.each(["enable", "disable", "load", "open", "reload", "select", "add", "remove", "change", "dblclick", "getfile", "lockfiles", "unlockfiles", "dragstart", "dragstop", "search", "searchend", "viewchange"], function (b, c) {
 	d[c] = function () {
 		var b = arguments[0];
 		return arguments.length == 1 && typeof b == "function" ? d.bind(c, b) : d.trigger(c, a.isPlainObject(b) ? b : {})
 	}
 }),
 this.enable(function () {
 	!l && d.visible() && d.ui.overlay.is(":hidden") && (l = !0, a("texarea:focus,input:focus,button").blur(), b.removeClass("elfinder-disabled"))
 }).disable(function () {
 	m = l,
 	l = !1,
 	b.addClass("elfinder-disabled")
 }).open(function () {
 	s = []
 }).select(function (b) {
 	s = a.map(b.data.selected || b.data.value || [], function (a) {
 		return r[a] ? a : null
 	})
 }).error(function (b) {
 	var c = {
 		cssClass: "elfinder-dialog-error",
 		title: d.i18n(d.i18n("error")),
 		resizable: !1,
 		destroyOnClose: !0,
 		buttons: {}
 	};
 	c.buttons[d.i18n(d.i18n("btnClose"))] = function () {
 		a(this).elfinderdialog("close")
 	},
 	d.dialog('<span class="elfinder-dialog-icon elfinder-dialog-icon-error"/>' + d.i18n(b.data.error), c)
 }).bind("tree parents", function (a) {
 	E(a.data.tree || [])
 }).bind("tmb", function (b) {
 	a.each(b.data.images || [], function (a, b) {
 		r[a] && (r[a].tmb = b)
 	})
 }).add(function (a) {
 	E(a.data.added || [])
 }).change(function (b) {
 	a.each(b.data.changed || [], function (b, c) {
 		var d = c.hash;
 		r[d] = r[d] ? a.extend(r[d], c) : c
 	})
 }).remove(function (b) {
 	var c = b.data.removed || [],
 	d = c.length,
 	e = function (b) {
 		var c = r[b];
 		c && (c.mime == "directory" && c.dirs && a.each(r, function (a, c) {
 			c.phash == b && e(a)
 		}), delete r[b])
 	};
 	while (d--) e(c[d])
 }).bind("search", function (a) {
 	E(a.data.files)
 }).bind("rm", function (b) {
 	var c = B.canPlayType && B.canPlayType('audio/wav; codecs="1"');
 	c && c != "" && c != "no" && a(B).html('<source src="./sounds/rm.wav" type="audio/wav">')[0].play()
 }),
 a.each(this.options.handlers, function (a, b) {
 	d.bind(a, b)
 }),
 this.history = new this.history(this),
 typeof this.options.getFileCallback == "function" && this.commands.getfile && (this.bind("dblclick", function (a) {
 	a.preventDefault(),
 	d.exec("getfile").fail(function () {
 		d.exec("open")
 	})
 }), this.shortcut({
 	pattern: "enter",
 	description: this.i18n("cmdgetfile"),
 	callback: function () {
 		d.exec("getfile").fail(function () {
 			d.exec(d.OS == "mac" ? "rename" : "open")
 		})
 	}
 }).shortcut({
 	pattern: "ctrl+enter",
 	description: this.i18n(this.OS == "mac" ? "cmdrename" : "cmdopen"),
 	callback: function () {
 		d.exec(d.OS == "mac" ? "rename" : "open")
 	}
 })),
 this._commands = {},
 a.isArray(this.options.commands) || (this.options.commands = []),
 a.each(["open", "reload", "back", "forward", "up", "home", "info", "quicklook", "getfile", "help"], function (b, c) {
 	a.inArray(c, d.options.commands) === -1 && d.options.commands.push(c)
 }),
 a.each(this.options.commands, function (b, c) {
 	var e = d.commands[c];
 	a.isFunction(e) && !d._commands[c] && (e.prototype = y, d._commands[c] = new e, d._commands[c].setup(c, d.options.commandsOptions[c] || {}))
 }),
 b.addClass(this.cssClass).bind(i, function () {
 	!l && d.enable()
 }),
 this.ui = {
 	workzone: a("<div/>").appendTo(b).elfinderworkzone(this),
 	navbar: a("<div/>").appendTo(b).elfindernavbar(this, this.options.uiOptions.navbar || {}),
 	contextmenu: a("<div/>").appendTo(b).elfindercontextmenu(this),
 	overlay: a("<div/>").appendTo(b).elfinderoverlay({
 		show: function () {
 			d.disable()
 		},
 		hide: function () {
 			m && d.enable()
 		}
 	}),
 	cwd: a("<div/>").appendTo(b).elfindercwd(this),
 	notify: this.dialog("", {
 		cssClass: "elfinder-dialog-notify",
 		position: {
 			top: "12px",
 			right: "12px"
 		},
 		resizable: !1,
 		autoOpen: !1,
 		title: "&nbsp;",
 		width: 280
 	}),
 	statusbar: a('<div class="ui-widget-header ui-helper-clearfix ui-corner-bottom elfinder-statusbar"/>').hide().appendTo(b)
 },
 a.each(this.options.ui || [], function (c, e) {
 	var f = "elfinder" + e,
 	g = d.options.uiOptions[e] || {};
 	!d.ui[e] && a.fn[f] && (d.ui[e] = a("<" + (g.tag || "div") + "/>").appendTo(b)[f](d, g))
 }),
 b[0].elfinder = this,
 this.options.resizable && a.fn.resizable && b.resizable({
 	handles: "se",
 	minWidth: 300,
 	minHeight: 200
 }),
 this.options.width && (z = this.options.width),
 this.options.height && (A = parseInt(this.options.height)),
 d.resize(z, A),
 a(document).bind("click." + this.namespace, function (c) {
 	l && !a(c.target).closest(b).length && d.disable()
 }).bind(j + " " + k, F),
 this.trigger("init").request({
 	data: {
 		cmd: "open",
 		target: d.lastDir(),
 		init: 1,
 		tree: this.ui.tree ? 1 : 0
 	},
 	preventDone: !0,
 	notify: {
 		type: "open",
 		cnt: 1,
 		hideCnt: !0
 	},
 	freeze: !0
 }).fail(function () {
 	d.trigger("fail").disable().lastDir(""),
 	t = {},
 	u = {},
 	a(document).add(b).unbind("." + this.namespace),
 	d.trigger = function () {}
 }).done(function (b) {
 	d.load().debug("api", d.api),
 	b = a.extend(!0, {}, b),
 	D(b),
 	d.trigger("open", b)
 }),
 this.one("load", function () {
 	b.trigger("resize"),
 	d.options.sync > 1e3 && (C = setInterval(function () {
 		d.sync()
 	}, d.options.sync))
 })
},
elFinder.prototype = {
	res: function (a, b) {
		return this.resources[a] && this.resources[a][b]
	},
	i18: {
		en: {
			translator: "",
			language: "English",
			direction: "ltr",
			dateFormat: "d.m.Y H:i",
			fancyDateFormat: "$1 H:i",
			messages: {}
		},
		months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
		monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
		days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
		daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
	},
	kinds: {
		unknown: "Unknown",
		directory: "Folder",
		symlink: "Alias",
		"symlink-broken": "AliasBroken",
		"application/x-empty": "TextPlain",
		"application/postscript": "Postscript",
		"application/vnd.ms-office": "MsOffice",
		"application/vnd.ms-word": "MsWord",
		"application/vnd.ms-excel": "MsExcel",
		"application/vnd.ms-powerpoint": "MsPP",
		"application/pdf": "PDF",
		"application/xml": "XML",
		"application/vnd.oasis.opendocument.text": "OO",
		"application/x-shockwave-flash": "AppFlash",
		"application/flash-video": "Flash video",
		"application/x-bittorrent": "Torrent",
		"application/javascript": "JS",
		"application/rtf": "RTF",
		"application/rtfd": "RTF",
		"application/x-font-ttf": "TTF",
		"application/x-font-otf": "OTF",
		"application/x-rpm": "RPM",
		"application/x-web-config": "TextPlain",
		"application/xhtml+xml": "HTML",
		"application/docbook+xml": "DOCBOOK",
		"application/x-awk": "AWK",
		"application/x-gzip": "GZIP",
		"application/x-bzip2": "BZIP",
		"application/zip": "ZIP",
		"application/x-zip": "ZIP",
		"application/x-rar": "RAR",
		"application/x-tar": "TAR",
		"application/x-7z-compressed": "7z",
		"application/x-jar": "JAR",
		"text/plain": "TextPlain",
		"text/x-php": "PHP",
		"text/html": "HTML",
		"text/javascript": "JS",
		"text/css": "CSS",
		"text/rtf": "RTF",
		"text/rtfd": "RTF",
		"text/x-c": "C",
		"text/x-csrc": "C",
		"text/x-chdr": "CHeader",
		"text/x-c++": "CPP",
		"text/x-c++src": "CPP",
		"text/x-c++hdr": "CPPHeader",
		"text/x-shellscript": "Shell",
		"application/x-csh": "Shell",
		"text/x-python": "Python",
		"text/x-java": "Java",
		"text/x-java-source": "Java",
		"text/x-ruby": "Ruby",
		"text/x-perl": "Perl",
		"text/x-sql": "SQL",
		"text/xml": "XML",
		"text/x-comma-separated-values": "CSV",
		"image/x-ms-bmp": "BMP",
		"image/jpeg": "JPEG",
		"image/gif": "GIF",
		"image/png": "PNG",
		"image/tiff": "TIFF",
		"image/x-targa": "TGA",
		"image/vnd.adobe.photoshop": "PSD",
		"image/xbm": "XBITMAP",
		"image/pxm": "PXM",
		"audio/mpeg": "AudioMPEG",
		"audio/midi": "AudioMIDI",
		"audio/ogg": "AudioOGG",
		"audio/mp4": "AudioMPEG4",
		"audio/x-m4a": "AudioMPEG4",
		"audio/wav": "AudioWAV",
		"audio/x-mp3-playlist": "AudioPlaylist",
		"video/x-dv": "VideoDV",
		"video/mp4": "VideoMPEG4",
		"video/mpeg": "VideoMPEG",
		"video/x-msvideo": "VideoAVI",
		"video/quicktime": "VideoMOV",
		"video/x-ms-wmv": "VideoWM",
		"video/x-flv": "VideoFlash",
		"video/x-matroska": "VideoMKV",
		"video/ogg": "VideoOGG"
	},
	rules: {
		defaults: function (b) {
			return !b || b.added && !a.isArray(b.added) || b.removed && !a.isArray(b.removed) || b.changed && !a.isArray(b.changed) ? !1 : !0
		},
		open: function (b) {
			return b && b.cwd && b.files && a.isPlainObject(b.cwd) && a.isArray(b.files)
		},
		tree: function (b) {
			return b && b.tree && a.isArray(b.tree)
		},
		parents: function (b) {
			return b && b.tree && a.isArray(b.tree)
		},
		tmb: function (b) {
			return b && b.images && (a.isPlainObject(b.images) || a.isArray(b.images))
		},
		upload: function (b) {
			return b && (a.isPlainObject(b.added) || a.isArray(b.added))
		},
		search: function (b) {
			return b && b.files && a.isArray(b.files)
		}
	},
	sorts: {
		nameDirsFirst: 1,
		kindDirsFirst: 2,
		sizeDirsFirst: 3,
		dateDirsFirst: 4,
		name: 5,
		kind: 6,
		size: 7,
		date: 8
	},
	setSort: function (a, b) {
		this.sort = this.sorts[a] || 1,
		this.sortDirect = b == "asc" || b == "desc" ? b : "asc",
		this.trigger("sortchange")
	},
	commands: {},
	parseUploadData: function (b) {
		var c;
		if (!a.trim(b)) return {
			error: ["errResponse", "errDataEmpty"]
		};
		try {
			c = a.parseJSON(b)
		} catch (d) {
			return {
				error: ["errResponse", "errDataNotJSON"]
			}
		}
		return this.validResponse("upload", c) ? (c = this.normalize(c), c.removed = a.map(c.added || [], function (a) {
			return a.hash
		}), c) : {
			error: ["errResponse"]
		}
	},
	iframeCnt: 0,
	uploads: {
		iframe: function (b, c) {
			var d = c ? c : this,
			e = b.input,
			f = a.Deferred().fail(function (a) {
				a && d.error(a)
			}).done(function (a) {
				a.warning && d.error(a.warning),
				a.removed && d.remove(a),
				a.added && d.add(a),
				a.changed && d.change(a),
				d.trigger("upload", a),
				a.sync && d.sync()
			}),
			g = "iframe-" + d.namespace + ++d.iframeCnt,
			h = a('<form action="' + d.uploadURL + '" method="post" enctype="multipart/form-data" encoding="multipart/form-data" target="' + g + '" style="display:none"><input type="hidden" name="cmd" value="upload" /></form>'),
			i = a.browser.msie,
			j = function () {
				o && clearTimeout(o),
				n && clearTimeout(n),
				m && d.notify({
					type: "upload",
					cnt: -l
				}),
				setTimeout(function () {
					i && a('<iframe src="javascript:false;"/>').appendTo(h),
					h.remove(),
					k.remove()
				}, 100)
			},
			k = a('<iframe src="' + (i ? "javascript:false;" : "about:blank") + '" name="' + g + '" style="position:absolute;left:-1000px;top:-1000px" />').bind("load", function () {
				k.unbind("load").bind("load", function () {
					var a = d.parseUploadData(k.contents().text());
					j(),
					a.error ? f.reject(a.error) : f.resolve(a)
				}),
				n = setTimeout(function () {
					m = !0,
					d.notify({
						type: "upload",
						cnt: l
					})
				}, d.options.notifyDelay),
				d.options.iframeTimeout > 0 && (o = setTimeout(function () {
					j(),
					f.reject([errors.connect, errors.timeout])
				}, d.options.iframeTimeout)),
				h.submit()
			}),
			l, m, n, o;
			return e && a(e).is(":file") && a(e).val() ? (h.append(e), l = e.files ? e.files.length : 1, h.append('<input type="hidden" name="' + (d.newAPI ? "target" : "current") + '" value="' + d.cwd().hash + '"/>').append('<input type="hidden" name="html" value="1"/>').append(a(e).attr("name", "upload[]")), a.each(d.options.onlyMimes || [], function (a, b) {
				h.append('<input type="hidden" name="mimes[]" value="' + b + '"/>')
			}), a.each(d.options.customData, function (a, b) {
				h.append('<input type="hidden" name="' + a + '" value="' + b + '"/>')
			}), h.appendTo("body"), k.appendTo("body"), f) : f.reject()
		},
		xhr: function (b, c) {
			var d = c ? c : this,
			e = a.Deferred().fail(function (a) {
				a && d.error(a)
			}).done(function (a) {
				a.warning && d.error(a.warning),
				a.removed && d.remove(a),
				a.added && d.add(a),
				a.changed && d.change(a),
				d.trigger("upload", a),
				a.sync && d.sync()
			}).always(function () {
				m && clearTimeout(m),
				k && d.notify({
					type: "upload",
					cnt: -i,
					progress: 100 * i
				})
			}),
			f = new XMLHttpRequest,
			g = new FormData,
			h = b.input ? b.input.files : b.files,
			i = h.length,
			j = 5,
			k = !1,
			l = function () {
				return setTimeout(function () {
					k = !0,
					d.notify({
						type: "upload",
						cnt: i,
						progress: j * i
					})
				}, d.options.notifyDelay)
			},
			m;
			if (!i) return e.reject();
			f.addEventListener("error", function () {
				e.reject("errConnect")
			}, !1),
			f.addEventListener("abort", function () {
				e.reject(["errConnect", "errAbort"])
			}, !1),
			f.addEventListener("load", function () {
				var a = f.status,
				b;
				if (a > 500) return e.reject("errResponse");
				if (a != 200) return e.reject("errConnect");
				if (f.readyState != 4) return e.reject(["errConnect", "errTimeout"]);
				if (!f.responseText) return e.reject(["errResponse", "errDataEmpty"]);
				b = d.parseUploadData(f.responseText),
				b.error ? e.reject(b.error) : e.resolve(b)
			}, !1),
			f.upload.addEventListener("progress", function (a) {
				var b = j,
				c;
				a.lengthComputable && (c = parseInt(a.loaded * 100 / a.total), c > 0 && !m && (m = l()), c - b > 4 && (j = c, k && d.notify({
					type: "upload",
					cnt: 0,
					progress: (j - b) * i
				})))
			}, !1),
			f.open("POST", d.uploadURL, !0),
			g.append("cmd", "upload"),
			g.append(d.newAPI ? "target" : "current", d.cwd().hash),
			a.each(d.options.customData, function (a, b) {
				g.append(a, b)
			}),
			a.each(d.options.onlyMimes, function (a, b) {
				g.append("mimes[" + a + "]", b)
			}),
			a.each(h, function (a, b) {
				g.append("upload[]", b)
			}),
			f.onreadystatechange = function () {
				f.readyState == 4 && f.status == 0 && e.reject(["errConnect", "errAbort"])
			},
			f.send(g);
			if (!a.browser.safari || !b.files) m = l();
			return e
		}
	},
	one: function (b, c) {
		var d = this,
		e = a.proxy(c, function (a) {
			return setTimeout(function () {
				d.unbind(a.type, e)
			}, 3),
			c.apply(this, arguments)
		});
		return this.bind(b, e)
	},
	localStorage: function (a, b) {
		var c = window.localStorage;
		return a = "elfinder-" + a + this.id,
		b !== void 0 && c.setItem(a, b),
		c.getItem(a) || ""
	},
	cookie: function (b, c) {
		var d, e, f, g;
		b = "elfinder-" + b + this.id;
		if (c === void 0) {
			if (document.cookie && document.cookie != "") {
				f = document.cookie.split(";"),
				b += "=";
				for (g = 0; g < f.length; g++) {
					f[g] = a.trim(f[g]);
					if (f[g].substring(0, b.length) == b) return decodeURIComponent(f[g].substring(b.length))
				}
		}
		return ""
	}
	return e = a.extend({}, this.options.cookie),
	c === null && (c = "", e.expires = -1),
	typeof e.expires == "number" && (d = new Date, d.setTime(d.getTime() + e.expires * 864e5), e.expires = d),
	document.cookie = b + "=" + encodeURIComponent(c) + "; expires=" + e.expires.toUTCString() + (e.path ? "; path=" + e.path : "") + (e.domain ? "; domain=" + e.domain : "") + (e.secure ? "; secure" : ""),
	c
},
lastDir: function (a) {
	return this.options.rememberLastDir ? this.storage("lastdir", a) : ""
},
_node: a("<span/>"),
escape: function (a) {
	return this._node.text(a).html()
},
normalize: function (b) {
	var c = function (a) {
		return a && a.hash && a.name && a.mime ? (a.mime == "application/x-empty" && (a.mime = "text/plain"), a) : null
	};
	return b.files && (b.files = a.map(b.files, c)),
	b.tree && (b.tree = a.map(b.tree, c)),
	b.added && (b.added = a.map(b.added, c)),
	b.changed && (b.changed = a.map(b.changed, c)),
	b.api && (b.init = !0),
	b
},
compare: function (a, b) {
	var c = this.sort,
	d = this.sortDirect == "asc",
	e = d ? a : b,
	f = d ? b : a,
	g = this.mime2kind(e.mime).toLowerCase(),
	h = this.mime2kind(f.mime).toLowerCase(),
	i = a.mime == "directory",
	j = b.mime == "directory",
	k = e.name.toLowerCase(),
	l = f.name.toLowerCase(),
	m = i ? 0 : parseInt(e.size) || 0,
	n = j ? 0 : parseInt(f.size) || 0,
	o = e.ts || e.date || "",
	p = f.ts || f.date || "";
	if (c <= 4) {
		if (i && !j) return -1;
		if (!i && j) return 1
	}
return c != 2 && c != 6 || g == h ? c != 3 && c != 7 || m == n ? c != 4 && c != 8 || o == p ? e.name.localeCompare(f.name) : o > p ? 1 : -1 : m > n ? 1 : -1 : g.localeCompare(h)
},
sortFiles: function (b) {
	return b.sort(a.proxy(this.compare, this))
},
notify: function (b) {
	var c = b.type,
	d = this.messages["ntf" + c] ? this.i18n("ntf" + c) : this.i18n("ntfsmth"),
	e = this.ui.notify,
	f = e.children(".elfinder-notify-" + c),
	g = '<div class="elfinder-notify elfinder-notify-{type}"><span class="elfinder-dialog-icon elfinder-dialog-icon-{type}"/><span class="elfinder-notify-msg">{msg}</span> <span class="elfinder-notify-cnt"/><div class="elfinder-notify-progressbar"><div class="elfinder-notify-progress"/></div></div>',
	h = b.cnt,
	i = b.progress >= 0 && b.progress <= 100 ? b.progress : 0,
	j, k, l;
	return c ? (f.length || (f = a(g.replace(/\{type\}/g, c).replace(/\{msg\}/g, d)).appendTo(e).data("cnt", 0), i && f.data({
		progress: 0,
		total: 0
	})), j = h + parseInt(f.data("cnt")), j > 0 ? (!b.hideCnt && f.children(".elfinder-notify-cnt").text("(" + j + ")"), e.is(":hidden") && e.elfinderdialog("open"), f.data("cnt", j), i < 100 && (k = f.data("total")) >= 0 && (l = f.data("progress")) >= 0 && (k = h + parseInt(f.data("total")), l = i + l, i = parseInt(l / k), f.data({
		progress: l,
		total: k
	}), e.find(".elfinder-notify-progress").animate({
		width: (i < 100 ? i : 100) + "%"
	}, 20))) : (f.remove(), !e.children().length && e.elfinderdialog("close")), this) : this
},
confirm: function (b) {
	var c = !1,
	d = {
		cssClass: "elfinder-dialog-confirm",
		modal: !0,
		resizable: !1,
		title: this.i18n(b.title || "confirmReq"),
		buttons: {},
		close: function () {
			!c && b.cancel.callback(),
			a(this).elfinderdialog("destroy")
		}
	},
	e = this.i18n("apllyAll"),
	f, g;
	return b.reject && (d.buttons[this.i18n(b.reject.label)] = function () {
		b.reject.callback( !! g && !! g.prop("checked")),
		c = !0,
		a(this).elfinderdialog("close")
	}),
	d.buttons[this.i18n(b.accept.label)] = function () {
		b.accept.callback( !! g && !! g.prop("checked")),
		c = !0,
		a(this).elfinderdialog("close")
	},
	d.buttons[this.i18n(b.cancel.label)] = function () {
		a(this).elfinderdialog("close")
	},
	b.all && (b.reject && (d.width = 370), d.create = function () {
		g = a('<input type="checkbox" />'),
		a(this).next().children().before(a("<label>" + e + "</label>").prepend(g))
	}, d.open = function () {
		var b = a(this).next(),
		c = parseInt(b.children(":first").outerWidth() + b.children(":last").outerWidth());
		c > parseInt(b.width()) && a(this).closest(".elfinder-dialog").width(c + 30)
	}),
	this.dialog('<span class="elfinder-dialog-icon elfinder-dialog-icon-confirm"/>' + this.i18n(b.text), d)
},
uniqueName: function (a, b) {
	var c = 0,
	d = "",
	e, f;
	a = this.i18n(a),
	b = b || this.cwd().hash,
	(e = a.indexOf(".txt")) != -1 && (d = ".txt", a = a.substr(0, e)),
	f = a + d;
	if (!this.fileByName(f, b)) return f;
	while (c < 1e4) {
		f = a + " " + ++c + d;
		if (!this.fileByName(f, b)) return f
	}
return a + Math.random() + d
},
i18n: function () {
	var b = this,
	c = this.messages,
	d = [],
	e = [],
	f = function (a) {
		var c;
		if (a.indexOf("#") === 0) if (c = b.file(a.substr(1))) return c.name;
		return a
	},
	g, h, i;
	for (g = 0; g < arguments.length; g++) {
		i = arguments[g];
		if (typeof i == "string") d.push(f(i));
		else if (a.isArray(i)) for (h = 0; h < i.length; h++) typeof i[h] == "string" && d.push(f(i[h]))
	}
	for (g = 0; g < d.length; g++) {
		if (a.inArray(g, e) !== -1) continue;
		i = d[g],
		i = c[i] || i,
		i = i.replace(/\$(\d+)/g, function (a, b) {
			return b = g + parseInt(b),
			b > 0 && d[b] && e.push(b),
			d[b] || ""
		}),
		d[g] = i
	}
	return a.map(d, function (b, c) {
		return a.inArray(c, e) === -1 ? b : null
	}).join("<br>")
},
mime2class: function (a) {
	var b = "elfinder-cwd-icon-";
	return a = a.split("/"),
	b + a[0] + (a[0] != "image" && a[1] ? " " + b + a[1].replace(/(\.|\+)/g, "-") : "")
},
mime2kind: function (a) {
	var b = typeof a == "object" ? a.mime : a,
	c;
	a.alias ? c = "Alias" : this.kinds[b] ? c = this.kinds[b] : b.indexOf("text") === 0 ? c = "Text" : b.indexOf("image") === 0 ? c = "Image" : b.indexOf("audio") === 0 ? c = "Audio" : b.indexOf("video") === 0 ? c = "Video" : b.indexOf("application") === 0 ? c = "App" : c = b;
	return this.messages["kind" + c] ? this.i18n("kind" + c) : b;
	var b, c
},
formatDate: function (a, b) {
	var c = this,
	b = b || a.ts,
	d = c.i18,
	e, f, g, h, i, j, k, l, m, n, o;
	return c.options.clientFormatDate && b > 0 ? (e = new Date(b * 1e3), l = e[c.getHours](), m = l > 12 ? l - 12 : l, n = e[c.getMinutes](), o = e[c.getSeconds](), h = e[c.getDate](), i = e[c.getDay](), j = e[c.getMonth]() + 1, k = e[c.getFullYear](), f = b >= this.yesterday ? this.fancyFormat : this.dateFormat, g = f.replace(/[a-z]/gi, function (a) {
		switch (a) {
			case "d":
			return h > 9 ? h : "0" + h;
			case "j":
			return h;
			case "D":
			return c.i18n(d.daysShort[i]);
			case "l":
			return c.i18n(d.days[i]);
			case "m":
			return j > 9 ? j : "0" + j;
			case "n":
			return j;
			case "M":
			return c.i18n(d.monthsShort[j - 1]);
			case "F":
			return c.i18n(d.months[j - 1]);
			case "Y":
			return k;
			case "y":
			return ("" + k).substr(2);
			case "H":
			return l > 9 ? l : "0" + l;
			case "G":
			return l;
			case "g":
			return m;
			case "h":
			return m > 9 ? m : "0" + m;
			case "a":
			return l > 12 ? "pm" : "am";
			case "A":
			return l > 12 ? "PM" : "AM";
			case "i":
			return n > 9 ? n : "0" + n;
			case "s":
			return o > 9 ? o : "0" + o
		}
		return a
	}), b >= this.yesterday ? g.replace("$1", this.i18n(b >= this.today ? "Today" : "Yesterday")) : g) : a.date ? a.date.replace(/([a-z]+)\s/i, function (a, b) {
	return c.i18n(b) + " "
}) : c.i18n("dateUnknown")
},
perms2class: function (a) {
	var b = "";
	return !a.read && !a.write ? b = "elfinder-na" : a.read ? a.write || (b = "elfinder-ro") : b = "elfinder-wo",
	b
},
formatPermissions: function (a) {
	var b = [];
	return a.read && b.push(this.i18n("read")),
	a.write && b.push(this.i18n("write")),
	b.length ? b.join(" " + this.i18n("and") + " ") : this.i18n("noaccess")
},
formatSize: function (a) {
	var b = 1,
	c = "b";
	return a == "unknown" ? this.i18n("unknown") : (a > 1073741824 ? (b = 1073741824, c = "GB") : a > 1048576 ? (b = 1048576, c = "MB") : a > 1024 && (b = 1024, c = "KB"), (a > 0 ? Math.round(a / b) : 0) + " " + c)
},
navHash2Id: function (a) {
	return "nav-" + a
},
navId2Hash: function (a) {
	return typeof a == "string" ? a.substr(4) : !1
},
log: function (a) {
	return window.console && window.console.log && window.console.log(a),
	this
},
debug: function (b, c) {
	var d = this.options.debug;
	return (d == "all" || d === !0 || a.isArray(d) && a.inArray(b, d) != -1) && window.console && window.console.log && window.console.log("elfinder debug: [" + b + "] [" + this.id + "]", c),
	this
},
time: function (a) {
	window.console && window.console.time && window.console.time(a)
},
timeEnd: function (a) {
	window.console && window.console.timeEnd && window.console.timeEnd(a)
}
},
elFinder.prototype.version = "2.0 rc1",
a.fn.elfinder = function (a) {
	return a == "instance" ? this.getElFinder() : this.each(function () {
		var b = typeof a == "string" ? a : "";
		this.elfinder || new elFinder(this, typeof a == "object" ? a : {});
		switch (b) {
			case "close":
			case "hide":
			this.elfinder.hide();
			break;
			case "open":
			case "show":
			this.elfinder.show();
			break;
			case "destroy":
			this.elfinder.destroy()
		}
	})
},
a.fn.getElFinder = function () {
	var a;
	return this.each(function () {
		if (this.elfinder) return a = this.elfinder,
			!1
	}),
	a
},
elFinder.prototype._options = {
	swfPlayer:"",
	url: "",
	requestType: "get",
	transport: {},
	urlUpload: "",
	dragUploadAllow: "auto",
	iframeTimeout: 0,
	customData: {},
	handlers: {},
	lang: "en",
	cssClass: "",
	commands: ["open", "reload", "home", "up", "back", "forward", "getfile", "quicklook", "download", "rm", "duplicate", "rename", "mkdir", "mkfile", "upload", "copy", "cut", "paste", "edit", "extract", "archive", "search", "info", "view", "help", "resize", "sort"],
	commandsOptions: {
		getfile: {
			onlyURL: !0,
			multiple: !1,
			folders: !1,
			oncomplete: ""
		},
		upload: {
			ui: "uploadbutton"
		},
		quicklook: {
			autoplay: !0,
			jplayer: "extensions/jplayer"
		},
		edit: {
			mimes: [],
			editors: []
		},
		help: {
			view: ["about", "shortcuts", "help"]
		}
	},
	getFileCallback: null,
	ui: ["toolbar", "tree", "path", "stat"],
	uiOptions: {
		toolbar: [
		["back", "forward"],
		["mkdir", "mkfile", "upload"],
		["open", "download", "getfile"],
		["info"],
		["quicklook"],
		["copy", "cut", "paste"],
		["rm"],
		["duplicate", "rename", "edit", "resize"],
		["extract", "archive"],
		["search"],
		["view", "sort"],
		["help"]
		],
		tree: {
			openRootOnLoad: !0,
			syncTree: !0
		},
		navbar: {
			minWidth: 150,
			maxWidth: 500
		}
	},
	path :'xin chao',
	onlyMimes: [],
	sort: "nameDirsFirst",
	sortDirect: "asc",
	clientFormatDate: !0,
	UTCDate: !1,
	dateFormat: "",
	fancyDateFormat: "",
	width: "auto",
	height: 400,
	resizable: !0,
	notifyDelay: 500,
	allowShortcuts: !0,
	rememberLastDir: !0,
	showFiles: 30,
	showThreshold: 50,
	validName: !1,
	sync: 0,
	loadTmbs: 5,
	cookie: {
		expires: 30,
		domain: "",
		path: "/",
		secure: !1
	},
	contextmenu: {
		navbar: ["open", "|", "copy", "cut", "paste", "duplicate", "|", "rm", "|", "info"],
		cwd: ["reload", "back", "|", "upload", "mkdir", "mkfile", "paste", "|", "sort", "|", "info"],
		files: ["getfile", "|", "open", "quicklook", "|", "download", "|", "copy", "cut", "paste", "duplicate", "|", "rm", "|", "edit", "rename", "resize", "|", "archive", "extract", "|", "info"]
	},
	debug: ["error", "warning", "event-destroy"]
},
elFinder.prototype.history = function (b) {
	var c = this,
	d = !0,
	e = [],
	f, g = function () {
		e = [b.cwd().hash],
		f = 0,
		d = !0
	},
	h = function (h) {
		return h && c.canForward() || !h && c.canBack() ? (d = !1, b.exec("open", e[h ? ++f : --f]).fail(g)) : a.Deferred().reject()
	};
	this.canBack = function () {
		return f > 0
	},
	this.canForward = function () {
		return f < e.length - 1
	},
	this.back = h,
	this.forward = function () {
		return h(!0)
	},
	b.open(function (a) {
		var c = e.length,
		g = b.cwd().hash;
		d && (f >= 0 && c > f + 1 && e.splice(f + 1), e[e.length - 1] != g && e.push(g), f = e.length - 1),
		d = !0
	}).reload(g)
},
elFinder.prototype.command = function (b) {
	this.fm = b,
	this.name = "",
	this.title = "",
	this.state = -1,
	this.alwaysEnabled = !1,
	this._disabled = !1,
	this.disableOnSearch = !1,
	this.updateOnSelect = !0,
	this._handlers = {
		enable: function () {
			this.update(void 0, this.value)
		},
		disable: function () {
			this.update(-1, this.value)
		},
		"open reload load": function (a) {
			this._disabled = !this.alwaysEnabled && !this.fm.isCommandEnabled(this.name),
			this.update(void 0, this.value),
			this.change()
		}
	},
	this.handlers = {},
	this.shortcuts = [],
	this.options = {
		ui: "button"
	},
	this.setup = function (b, c) {
		var d = this,
		e = this.fm,
		f, g;
		this.name = b,
		this.title = e.messages["cmd" + b] ? e.i18n("cmd" + b) : b,
		this.options = a.extend({}, this.options, c),
		this.listeners = [],
		this.updateOnSelect && (this._handlers.select = function () {
			this.update(void 0, this.value)
		}),
		a.each(a.extend({}, d._handlers, d.handlers), function (b, c) {
			e.bind(b, a.proxy(c, d))
		});
		for (f = 0; f < this.shortcuts.length; f++) g = this.shortcuts[f],
			g.callback = a.proxy(g.callback ||
				function () {
					this.exec()
				}, this),
		!g.description && (g.description = this.title),
		e.shortcut(g);
		this.disableOnSearch && e.bind("search searchend", function (a) {
			d._disabled = a.type == "search",
			d.update(void 0, d.value)
		}),
		this.init()
	},
	this.init = function () {},
	this.exec = function (b, c) {
		return a.Deferred().reject()
	},
	this.disabled = function () {
		return this.state < 0
	},
	this.enabled = function () {
		return this.state > -1
	},
	this.active = function () {
		return this.state > 0
	},
	this.getstate = function () {
		return -1
	},
	this.update = function (a, b) {
		var c = this.state,
		d = this.value;
		this._disabled ? this.state = -1 : this.state = a !== void 0 ? a : this.getstate(),
		this.value = b,
		(c != this.state || d != this.value) && this.change()
	},
	this.change = function (a) {
		var b, c;
		if (typeof a == "function") this.listeners.push(a);
		else for (c = 0; c < this.listeners.length; c++) {
			b = this.listeners[c];
			try {
				b(this.state, this.value)
			} catch (d) {
				this.fm.debug("error", d)
			}
		}
		return this
	},
	this.hashes = function (c) {
		return c ? a.map(a.isArray(c) ? c : [c], function (a) {
			return b.file(a) ? a : null
		}) : b.selected()
	},
	this.files = function (b) {
		var c = this.fm;
		return b ? a.map(a.isArray(b) ? b : [b], function (a) {
			return c.file(a) || null
		}) : c.selectedFiles()
	}
},
elFinder.prototype.resources = {
	"class": {
		hover: "ui-state-hover",
		active: "ui-state-active",
		disabled: "ui-state-disabled",
		draggable: "ui-draggable",
		droppable: "ui-droppable",
		adroppable: "elfinder-droppable-active",
		cwdfile: "elfinder-cwd-file",
		cwd: "elfinder-cwd",
		tree: "elfinder-tree",
		treeroot: "elfinder-navbar-root",
		navdir: "elfinder-navbar-dir",
		navdirwrap: "elfinder-navbar-dir-wrapper",
		navarrow: "elfinder-navbar-arrow",
		navsubtree: "elfinder-navbar-subtree",
		navcollapse: "elfinder-navbar-collapsed",
		navexpand: "elfinder-navbar-expanded",
		treedir: "elfinder-tree-dir",
		placedir: "elfinder-place-dir",
		searchbtn: "elfinder-button-search"
	},
	tpl: {
		perms: '<span class="elfinder-perms"/>',
		symlink: '<span class="elfinder-symlink"/>',
		navicon: '<span class="elfinder-nav-icon"/>',
		navspinner: '<span class="elfinder-navbar-spinner"/>',
		navdir: '<div class="elfinder-navbar-wrapper"><span id="{id}" class="ui-corner-all elfinder-navbar-dir {cssclass}"><span class="elfinder-navbar-arrow"/><span class="elfinder-navbar-icon"/>{symlink}{permissions}{name}</span><div class="elfinder-navbar-subtree"/></div>'
	},
	mimes: {
		text: ["application/x-empty", "application/javascript", "application/xhtml+xml", "audio/x-mp3-playlist", "application/x-web-config", "application/docbook+xml", "application/x-php", "application/x-perl", "application/x-awk", "application/x-config", "application/x-csh", "application/xml"]
	},
	mixin: {
		make: function () {
			var b = this.fm,
			c = this.name,
			d = b.getUI("cwd"),
			e = a.Deferred().fail(function (a) {
				a && b.error(a)
			}).always(function () {
				k.remove(),
				j.remove(),
				b.enable()
			}),
			f = "tmp_" + parseInt(Math.random() * 1e5),
			g = b.cwd().hash,
			h = new Date,
			i = {
				hash: f,
				name: b.uniqueName(this.prefix),
				mime: this.mime,
				read: !0,
				write: !0,
				date: "Today " + h.getHours() + ":" + h.getMinutes()
			},
			j = d.trigger("create." + b.namespace, i).find("#" + f),
			k = a('<input type="text"/>').keydown(function (b) {
				b.stopImmediatePropagation(),
				b.keyCode == a.ui.keyCode.ESCAPE ? e.reject() : b.keyCode == a.ui.keyCode.ENTER && k.blur()
			}).mousedown(function (a) {
				a.stopPropagation()
			}).blur(function () {
				var d = a.trim(k.val()),
				h = k.parent();
				if (h.length) {
					if (!d) return e.reject("errInvName");
					if (b.fileByName(d, g)) return e.reject(["errExists", d]);
					h.html(b.escape(d)),
					b.lockfiles({
						files: [f]
					}),
					b.request({
						data: {
							cmd: c,
							name: d,
							target: g
						},
						notify: {
							type: c,
							cnt: 1
						},
						preventFail: !0,
						syncOnFail: !0
					}).fail(function (a) {
						e.reject(a)
					}).done(function (a) {
						e.resolve(a)
					})
				}
			});
			return this.disabled() || !j.length ? e.reject() : (b.disable(), j.find(".elfinder-cwd-filename").empty("").append(k.val(i.name)), k.select().focus(), e)
		}
	}
},
a.fn.dialogelfinder = function (b) {
	var c = "elfinderPosition",
	d = "elfinderDestroyOnClose";
	this.not(".elfinder").each(function () {
		var e = a(document),
		f = a('<div class="ui-widget-header dialogelfinder-drag ui-corner-top">' + (b.title || "Files") + "</div>"),
		g = a('<a href="#" class="dialogelfinder-drag-close ui-corner-all"><span class="ui-icon ui-icon-closethick"/></a>').appendTo(f).click(function (a) {
			a.preventDefault(),
			h.dialogelfinder("close")
		}),
		h = a(this).addClass("dialogelfinder").css("position", "absolute").hide().appendTo("body").draggable({
			handle: ".dialogelfinder-drag",
			containment: "parent"
		}).elfinder(b).prepend(f),
		i = h.elfinder("instance");
		h.width(parseInt(h.width()) || 840).data(d, !! b.destroyOnClose).find(".elfinder-toolbar").removeClass("ui-corner-top"),
		b.position && h.data(c, b.position),
		b.autoOpen !== !1 && a(this).dialogelfinder("open")
	});
	if (b == "open") {
		var e = a(this),
		f = e.data(c) || {
			top: parseInt(a(document).scrollTop() + (a(window).height() < e.height() ? 2 : (a(window).height() - e.height()) / 2)),
			left: parseInt(a(document).scrollLeft() + (a(window).width() < e.width() ? 2 : (a(window).width() - e.width()) / 2))
		},
		g = 100;
		e.is(":hidden") && (a("body").find(":visible").each(function () {
			var b = a(this),
			c;
			this !== e[0] && b.css("position") == "absolute" && (c = parseInt(b.zIndex())) > g && (g = c + 1)
		}), e.zIndex(g).css(f).show().trigger("resize"), setTimeout(function () {
			e.trigger("resize").mousedown()
		}, 200))
	} else if (b == "close") {
		var e = a(this);
		e.is(":visible") && (e.data(d) ? e.elfinder("destroy").remove() : e.elfinder("close"))
	} else if (b == "instance") return a(this).getElFinder();
	return this
},
elFinder && elFinder.prototype && typeof elFinder.prototype.i18 == "object" && (elFinder.prototype.i18.en = {
	translator: "Troex Nevelin &lt;troex@fury.scancode.ru&gt;",
	language: "English",
	direction: "ltr",
	dateFormat: "M d, Y h:i A",
	fancyDateFormat: "$1 h:i A",
	messages: {
		error: "Error",
		errUnknown: "Unknown error.",
		errUnknownCmd: "Unknown command.",
		errJqui: "Invalid jQuery UI configuration. Selectable, draggable and droppable components must be included.",
		errNode: "elFinder requires DOM Element to be created.",
		errURL: "Invalid elFinder configuration! URL option is not set.",
		errAccess: "Access denied.",
		errConnect: "Unable to connect to backend.",
		errAbort: "Connection aborted.",
		errTimeout: "Connection timeout.",
		errNotFound: "Backend not found.",
		errResponse: "Invalid backend response.",
		errConf: "Invalid backend configuration.",
		errJSON: "PHP JSON module not installed.",
		errNoVolumes: "Readable volumes not available.",
		errCmdParams: 'Invalid parameters for command "$1".',
		errDataNotJSON: "Data is not JSON.",
		errDataEmpty: "Data is empty.",
		errCmdReq: "Backend request requires command name.",
		errOpen: 'Unable to open "$1".',
		errNotFolder: "Object is not a folder.",
		errNotFile: "Object is not a file.",
		errRead: 'Unable to read "$1".',
		errWrite: 'Unable to write into "$1".',
		errPerm: "Permission denied.",
		errLocked: '"$1" is locked and can not be renamed, moved or removed.',
		errExists: 'File named "$1" already exists.',
		errInvName: "Invalid file name.",
		errFolderNotFound: "Folder not found.",
		errFileNotFound: "File not found.",
		errTrgFolderNotFound: 'Target folder "$1" not found.',
		errPopup: "Browser prevented opening popup window. To open file enable it in browser options.",
		errMkdir: 'Unable to create folder "$1".',
		errMkfile: 'Unable to create file "$1".',
		errRename: 'Unable to rename "$1".',
		errCopyFrom: 'Copying files from volume "$1" not allowed.',
		errCopyTo: 'Copying files to volume "$1" not allowed.',
		errUpload: "Upload error.",
		errUploadFile: 'Unable to upload "$1".',
		errUploadNoFiles: "No files found for upload.",
		errUploadTotalSize: "Data exceeds the maximum allowed size.",
		errUploadFileSize: "File exceeds maximum allowed size.",
		errUploadMime: "File type not allowed.",
		errUploadTransfer: '"$1" transfer error.',
		errNotReplace: 'Object "$1" already exists at this location and can not be replaced by object with another type.',
		errReplace: 'Unable to replace "$1".',
		errSave: 'Unable to save "$1".',
		errCopy: 'Unable to copy "$1".',
		errMove: 'Unable to move "$1".',
		errCopyInItself: 'Unable to copy "$1" into itself.',
		errRm: 'Unable to remove "$1".',
		errRmSrc: "Unable remove source file(s).",
		errExtract: 'Unable to extract files from "$1".',
		errArchive: "Unable to create archive.",
		errArcType: "Unsupported archive type.",
		errNoArchive: "File is not archive or has unsupported archive type.",
		errCmdNoSupport: "Backend does not support this command.",
		errReplByChild: "The folder “$1” can’t be replaced by an item it contains.",
		errArcSymlinks: "For security reason denied to unpack archives contains symlinks.",
		errArcMaxSize: "Archive files exceeds maximum allowed size.",
		errResize: 'Unable to resize "$1".',
		errUsupportType: "Unsupported file type.",
		errNotUTF8Content: 'File "$1" is not in UTF-8 and cannot be edited.',
		cmdarchive: "Create archive",
		cmdback: "Back",
		cmdcopy: "Copy",
		cmdcut: "Cut",
		cmddownload: "Download",
		cmdduplicate: "Duplicate",
		cmdedit: "Edit file",
		cmdextract: "Extract files from archive",
		cmdforward: "Forward",
		cmdgetfile: "Select files",
		cmdhelp: "About this software",
		cmdhome: "Home",
		cmdinfo: "Get info",
		cmdmkdir: "New folder",
		cmdmkfile: "New text file",
		cmdopen: "Open",
		cmdpaste: "Paste",
		cmdquicklook: "Preview",
		cmdreload: "Reload",
		cmdrename: "Rename",
		cmdrm: "Delete",
		cmdsearch: "Find files",
		cmdup: "Go to parent directory",
		cmdupload: "Upload files",
		cmdview: "View",
		cmdresize: "Resize & Rotate",
		cmdsort: "Sort",
		btnClose: "Close",
		btnSave: "Save",
		btnRm: "Remove",
		btnApply: "Apply",
		btnCancel: "Cancel",
		btnNo: "No",
		btnYes: "Yes",
		ntfopen: "Open folder",
		ntffile: "Open file",
		ntfreload: "Reload folder content",
		ntfmkdir: "Creating directory",
		ntfmkfile: "Creating files",
		ntfrm: "Delete files",
		ntfcopy: "Copy files",
		ntfmove: "Move files",
		ntfprepare: "Prepare to copy files",
		ntfrename: "Rename files",
		ntfupload: "Uploading files",
		ntfdownload: "Downloading files",
		ntfsave: "Save files",
		ntfarchive: "Creating archive",
		ntfextract: "Extracting files from archive",
		ntfsearch: "Searching files",
		ntfresize: "Resizing images",
		ntfsmth: "Doing something >_<",
		ntfloadimg: "Loading image",
		dateUnknown: "unknown",
		Today: "Today",
		Yesterday: "Yesterday",
		Jan: "Jan",
		Feb: "Feb",
		Mar: "Mar",
		Apr: "Apr",
		May: "May",
		Jun: "Jun",
		Jul: "Jul",
		Aug: "Aug",
		Sep: "Sep",
		Oct: "Oct",
		Nov: "Nov",
		Dec: "Dec",
		sortnameDirsFirst: "by name (folders first)",
		sortkindDirsFirst: "by kind (folders first)",
		sortsizeDirsFirst: "by size (folders first)",
		sortdateDirsFirst: "by date (folders first)",
		sortname: "by name",
		sortkind: "by kind",
		sortsize: "by size",
		sortdate: "by date",
		confirmReq: "Confirmation required",
		confirmRm: "Are you sure you want to remove files?<br/>This cannot be undone!",
		confirmRepl: "Replace old file with new one?",
		apllyAll: "Apply to all",
		name: "Name",
		size: "Size",
		perms: "Permissions",
		modify: "Modified",
		kind: "Kind",
		read: "read",
		write: "write",
		noaccess: "no access",
		and: "and",
		unknown: "unknown",
		selectall: "Select all files",
		selectfiles: "Select file(s)",
		selectffile: "Select first file",
		selectlfile: "Select last file",
		viewlist: "List view",
		viewicons: "Icons view",
		places: "Places",
		calc: "Calculate",
		path: "Path",
		aliasfor: "Alias for",
		locked: "Locked",
		dim: "Dimensions",
		files: "Files",
		folders: "Folders",
		items: "Items",
		yes: "yes",
		no: "no",
		link: "Link",
		searcresult: "Search results",
		selected: "selected items",
		about: "About",
		shortcuts: "Shortcuts",
		help: "Help",
		webfm: "Web file manager",
		ver: "Version",
		protocol: "protocol version",
		homepage: "Project home",
		docs: "Documentation",
		github: "Fork us on Github",
		twitter: "Follow us on twitter",
		facebook: "Join us on facebook",
		team: "Team",
		chiefdev: "chief developer",
		developer: "developer",
		contributor: "contributor",
		maintainer: "maintainer",
		translator: "translator",
		icons: "Icons",
		dontforget: "and don't forget to take your towel",
		shortcutsof: "Shortcuts disabled",
		dropFiles: "Drop files here",
		or: "or",
		selectForUpload: "Select files to upload",
		moveFiles: "Move files",
		copyFiles: "Copy files",
		rmFromPlaces: "Remove from places",
		aspectRatio: "Aspect ratio",
		scale: "Scale",
		width: "Width",
		height: "Height",
		resize: "Resize",
		crop: "Crop",
		rotate: "Rotate",
		"rotate-cw": "Rotate 90 degrees CW",
		"rotate-ccw": "Rotate 90 degrees CCW",
		degree: "°",
		kindUnknown: "Unknown",
		kindFolder: "Folder",
		kindAlias: "Alias",
		kindAliasBroken: "Broken alias",
		kindApp: "Application",
		kindPostscript: "Postscript document",
		kindMsOffice: "Microsoft Office document",
		kindMsWord: "Microsoft Word document",
		kindMsExcel: "Microsoft Excel document",
		kindMsPP: "Microsoft Powerpoint presentation",
		kindOO: "Open Office document",
		kindAppFlash: "Flash application",
		kindPDF: "Portable Document Format (PDF)",
		kindTorrent: "Bittorrent file",
		kind7z: "7z archive",
		kindTAR: "TAR archive",
		kindGZIP: "GZIP archive",
		kindBZIP: "BZIP archive",
		kindZIP: "ZIP archive",
		kindRAR: "RAR archive",
		kindJAR: "Java JAR file",
		kindTTF: "True Type font",
		kindOTF: "Open Type font",
		kindRPM: "RPM package",
		kindText: "Text document",
		kindTextPlain: "Plain text",
		kindPHP: "PHP source",
		kindCSS: "Cascading style sheet",
		kindHTML: "HTML document",
		kindJS: "Javascript source",
		kindRTF: "Rich Text Format",
		kindC: "C source",
		kindCHeader: "C header source",
		kindCPP: "C++ source",
		kindCPPHeader: "C++ header source",
		kindShell: "Unix shell script",
		kindPython: "Python source",
		kindJava: "Java source",
		kindRuby: "Ruby source",
		kindPerl: "Perl script",
		kindSQL: "SQL source",
		kindXML: "XML document",
		kindAWK: "AWK source",
		kindCSV: "Comma separated values",
		kindDOCBOOK: "Docbook XML document",
		kindImage: "Image",
		kindBMP: "BMP image",
		kindJPEG: "JPEG image",
		kindGIF: "GIF Image",
		kindPNG: "PNG Image",
		kindTIFF: "TIFF image",
		kindTGA: "TGA image",
		kindPSD: "Adobe Photoshop image",
		kindXBITMAP: "X bitmap image",
		kindPXM: "Pixelmator image",
		kindAudio: "Audio media",
		kindAudioMPEG: "MPEG audio",
		kindAudioMPEG4: "MPEG-4 audio",
		kindAudioMIDI: "MIDI audio",
		kindAudioOGG: "Ogg Vorbis audio",
		kindAudioWAV: "WAV audio",
		AudioPlaylist: "MP3 playlist",
		kindVideo: "Video media",
		kindVideoDV: "DV movie",
		kindVideoMPEG: "MPEG movie",
		kindVideoMPEG4: "MPEG-4 movie",
		kindVideoAVI: "AVI movie",
		kindVideoMOV: "Quick Time movie",
		kindVideoWM: "Windows Media movie",
		kindVideoFlash: "Flash movie",
		kindVideoMKV: "Matroska movie",
		kindVideoOGG: "Ogg movie"
	}
}),
a.fn.elfinderbutton =

function (b) {
	return this.each(function () {
		var c = "class",
		d = b.fm,
		e = d.res(c, "disabled"),
		f = d.res(c, "active"),
		g = d.res(c, "hover"),
		h = "elfinder-button-menu-item",
		i = "elfinder-button-menu-item-selected",
		j, k = a(this).addClass("ui-state-default elfinder-button").attr("title", b.title).append('<span class="elfinder-button-icon elfinder-button-icon-' + b.name + '"/>').hover(function (a) {
			!k.is("." + e) && k[a.type == "mouseleave" ? "removeClass" : "addClass"](g)
		}).click(function (a) {
			k.is("." + e) || (j && b.variants.length > 1 ? (j.is(":hidden") && b.fm.getUI().click(), a.stopPropagation(), j.slideToggle(100)) : b.exec())
		}),
		l = function () {
			j.hide()
		};
		a.isArray(b.variants) && (k.addClass("elfinder-menubutton"), j = a('<div class="ui-widget ui-widget-content elfinder-button-menu ui-corner-all"/>').hide().appendTo(k).zIndex(10 + k.zIndex()).delegate("." + h, "hover", function () {
			a(this).toggleClass(g)
		}).delegate("." + h, "click", function (c) {
			c.preventDefault(),
			c.stopPropagation(),
			k.removeClass(g),
			b.exec(b.fm.selected(), a(this).data("value"))
		}), b.fm.bind("disable select", l).getUI().click(l), b.change(function () {
			j.html(""),
			a.each(b.variants, function (c, d) {
				j.append(a('<div class="' + h + '">' + d[1] + "</div>").data("value", d[0]).addClass(d[0] == b.value ? i : ""))
			})
		})),
		b.change(function () {
			b.disabled() ? k.removeClass(f + " " + g).addClass(e) : (k.removeClass(e), k[b.active() ? "addClass" : "removeClass"](f))
		}).change()
	})
},
a.fn.elfindercontextmenu = function (b) {
	return this.each(function () {
		var c = a(this).addClass("ui-helper-reset ui-widget ui-state-default ui-corner-all elfinder-contextmenu elfinder-contextmenu-" + b.direction).hide().appendTo("body").delegate(".elfinder-contextmenu-item", "hover", function () {
			a(this).toggleClass("ui-state-hover")
		}),
		d = b.direction == "ltr" ? "left" : "right",
		e = a.extend({}, b.options.contextmenu),
		f = '<div class="elfinder-contextmenu-item"><span class="elfinder-button-icon {icon} elfinder-contextmenu-icon"/><span>{label}</span></div>',
		g = function (b, c, d) {
			return a(f.replace("{icon}", c ? "elfinder-button-icon-" + c : "").replace("{label}", b)).click(function (a) {
				a.stopPropagation(),
				a.stopPropagation(),
				d()
			})
		},
		h = function (e, f) {
			var g = a(window),
			h = c.outerWidth(),
			i = c.outerHeight(),
			j = g.width(),
			k = g.height(),
			l = g.scrollTop(),
			m = g.scrollLeft(),
			n = {
				top: (f + i < k ? f : f - i > 0 ? f - i : f) + l,
				left: (e + h < j ? e : e - h) + m,
				"z-index": 100 + b.getUI("workzone").zIndex()
			};
			c.css(n).show(),
			n = {
				"z-index": n["z-index"] + 10
			},
			n[d] = parseInt(c.width()),
			c.find(".elfinder-contextmenu-sub").css(n)
		},
		i = function () {
			c.hide().empty()
		},
		j = function (d, f) {
			var h = !1;
			a.each(e[d] || [], function (d, e) {
				var j, k, l;
				if (e == "|" && h) {
					c.append('<div class="elfinder-contextmenu-separator"/>'),
					h = !1;
					return
				}
				j = b.command(e);
				if (j && j.getstate(f) != -1) {
					if (j.variants) {
						if (!j.variants.length) return;
						k = g(j.title, j.name, function () {}),
						l = a('<div class="ui-corner-all elfinder-contextmenu-sub"/>').appendTo(k.append('<span class="elfinder-contextmenu-arrow"/>')),
						k.addClass("elfinder-contextmenu-group").hover(function () {
							l.toggle()
						}),
						a.each(j.variants, function (b, c) {
							l.append(a('<div class="elfinder-contextmenu-item"><span>' + c[1] + "</span></div>").click(function (a) {
								a.stopPropagation(),
								i(),
								j.exec(f, c[0])
							}))
						})
					} else k = g(j.title, j.name, function () {
						i(),
						j.exec(f)
					});
					c.append(k),
					h = !0
				}
			})
		},
		k = function (b) {
			a.each(b, function (a, b) {
				var d;
				b.label && typeof b.callback == "function" && (d = g(b.label, b.icon, function () {
					i(),
					b.callback()
				}), c.append(d))
			})
		};
		b.one("load", function () {
			b.bind("contextmenu", function (a) {
				var b = a.data;
				i(),
				b.type && b.targets ? j(b.type, b.targets) : b.raw && k(b.raw),
				c.children().length && h(b.x, b.y)
			}).one("destroy", function () {
				c.remove()
			}).bind("disable select", i).getUI().click(i)
		})
	})
},
a.fn.elfindercwd = function (b) {
	return this.not(".elfinder-cwd").each(function () {
		var c = b.storage("view") == "list",
		d = "undefined",
		e = "select." + b.namespace,
		f = "unselect." + b.namespace,
		g = "disable." + b.namespace,
		h = "enable." + b.namespace,
		i = "class",
		j = b.res(i, "cwdfile"),
		k = "." + j,
		l = "ui-selected",
		m = b.res(i, "disabled"),
		n = b.res(i, "draggable"),
		o = b.res(i, "droppable"),
		p = b.res(i, "hover"),
		q = b.res(i, "adroppable"),
		r = j + "-tmp",
		s = b.options.loadTmbs > 0 ? b.options.loadTmbs : 5,
		t = "",
		u = {
			icon: '<div id="{hash}" class="' + j + ' {permsclass} {dirclass} ui-corner-all"><div class="elfinder-cwd-file-wrapper ui-corner-all"><div class="elfinder-cwd-icon {mime} ui-corner-all" unselectable="on" {style}/>{marker}</div><div class="elfinder-cwd-filename" title="{name}">{name}</div></div>',
			row: '<tr id="{hash}" class="' + j + ' {permsclass} {dirclass}"><td><div class="elfinder-cwd-file-wrapper"><span class="elfinder-cwd-icon {mime}"/>{marker}<span class="elfinder-cwd-filename">{name}</span></div></td><td>{perms}</td><td>{date}</td><td>{size}</td><td>{kind}</td></tr>'
		},
		v = b.res("tpl", "perms"),
		w = b.res("tpl", "symlink"),
		x = {
			permsclass: function (a) {
				return b.perms2class(a)
			},
			perms: function (a) {
				return b.formatPermissions(a)
			},
			dirclass: function (a) {
				return a.mime == "directory" ? "directory" : ""
			},
			mime: function (a) {
				return b.mime2class(a.mime)
			},
			size: function (a) {
				return b.formatSize(a.size)
			},
			date: function (a) {
				return b.formatDate(a)
			},
			kind: function (a) {
				return b.mime2kind(a)
			},
			marker: function (a) {
				return (a.alias || a.mime == "symlink-broken" ? w : "") + (!a.read || !a.write ? v : "")
			}
		},
		y = function (a) {
			return a.name = b.escape(a.name),
			u[c ? "row" : "icon"].replace(/\{([a-z]+)\}/g, function (b, c) {
				return x[c] ? x[c](a) : a[c] ? a[c] : ""
			})
		},
		z = !1,
		A = function (b, d) {
			function r(a, b) {
				return a[b + "All"]("[id]:not(." + m + "):first")
			}
			var g = a.ui.keyCode,
			h = b == g.LEFT || b == g.UP,
			i = S.find("[id]." + l),
			j = h ? "first" : "last",
			k, n, o, p, q;
			if (i.length) {
				k = i.filter(h ? ":first" : ":last"),
				o = r(k, h ? "prev" : "next");
				if (!o.length) n = k;
				else if (c || b == g.LEFT || b == g.RIGHT) n = o;
				else {
					p = k.position().top,
					q = k.position().left,
					n = k;
					if (h) {
						do n = n.prev("[id]");
						while (n.length && !(n.position().top < p && n.position().left <= q));
						n.is("." + m) && (n = r(n, "next"))
					} else {
						do n = n.next("[id]");
						while (n.length && !(n.position().top > p && n.position().left >= q));
						n.is("." + m) && (n = r(n, "prev")),
						n.length || (o = S.find("[id]:not(." + m + "):last"), o.position().top > p && (n = o))
					}
				}
			} else n = S.find("[id]:not(." + m + "):" + (h ? "last" : "first"));
			n && n.length && (d ? n = k.add(k[h ? "prevUntil" : "nextUntil"]("#" + n.attr("id"))).add(n) : i.trigger(f), n.trigger(e), F(n.filter(h ? ":first" : ":last")), E())
		},
		B = function (a) {
			S.find("#" + a).trigger(e)
		},
		C = function () {
			S.find("[id]." + l).trigger(f)
		},
		D = function () {
			return a.map(S.find("[id]." + l), function (b) {
				return b = a(b),
				b.is("." + m) ? null : a(b).attr("id")
			})
		},
		E = function () {
			b.trigger("select", {
				selected: D()
			})
		},
		F = function (a) {
			var b = a.position().top,
			c = a.outerHeight(!0),
			d = T.scrollTop(),
			e = T.innerHeight();
			b + c > d + e ? T.scrollTop(parseInt(b + c - e)) : b < d && T.scrollTop(b)
		},
		G = [],
		H = function (a) {
			var b = G.length;
			while (b--) if (G[b].hash == a) return b;
			return -1
		},
		I = "scroll." + b.namespace,
		J = function () {
			var d = [],
			e = !1,
			f = [],
			g = {},
			h = S.find("[id]:last"),
			i = !h.length,
			j = c ? S.children("table").children("tbody") : S,
			k;
			if (!G.length) return T.unbind(I);
			while ((!h.length || h.position().top <= T.height() + T.scrollTop() + b.options.showThreshold) && (k = G.splice(0, b.options.showFiles)).length) d = a.map(k, function (a) {
				return a.hash && a.name ? (a.mime == "directory" && (e = !0), a.tmb && (a.tmb === 1 ? f.push(a.hash) : g[a.hash] = a.tmb), y(a)) : null
			}),
				j.append(d.join("")),
				h = S.find("[id]:last"),
				i && S.scrollTop(0);
				M(g),
				f.length && N(f),
				e && L()
			},
			K = a.extend({}, b.droppable, {
				over: function (c, d) {
					var e = b.cwd().hash;
					a.each(d.helper.data("files"), function (a, c) {
						if (b.file(c).phash == e) return S.removeClass(q),
							!1
					})
				}
			}),
			L = function () {
				setTimeout(function () {
					S.find(".directory:not(." + o + ",.elfinder-na,.elfinder-ro)").droppable(b.droppable)
				}, 20)
			},
			M = function (c) {
				var d = b.option("tmbUrl"),
				e = !0,
				f;
				return a.each(c, function (b, c) {
					var g = S.find("#" + b);
					g.length ?
					function (b, c) {
						a("<img/>").load(function () {
							b.find(".elfinder-cwd-icon").css("background", "url('" + c + "') center center no-repeat")
						}).attr("src", c)
					}(g, d + c) : (e = !1, (f = H(b)) != -1 && (G[f].tmb = c))
				}),
				e
			},
			N = function (a) {
				var c = [];
				if (b.oldAPI) {
					b.request({
						data: {
							cmd: "tmb",
							current: b.cwd().hash
						},
						preventFail: !0
					}).done(function (a) {
						M(a.images || []) && a.tmb && N()
					});
					return
				}
				c = c = a.splice(0, s),
				c.length && b.request({
					data: {
						cmd: "tmb",
						targets: c
					},
					preventFail: !0
				}).done(function (b) {
					M(b.images || []) && N(a)
				})
			},
			O = function (a) {
				var d = c ? S.find("tbody") : S,
				e = a.length,
				f = [],
				g = {},
				h = !1,
				i = function (a) {
					var c = S.find("[id]:first"),
					d;
					while (c.length) {
						d = b.file(c.attr("id"));
						if (d && b.compare(a, d) < 0) return c;
						c = c.next("[id]")
					}
				},
				j = function (a) {
					var c = G.length,
					d;
					for (d = 0; d < c; d++) if (b.compare(a, G[d]) < 0) return d;
						return c || -1
				},
				k, l, m, n;
				while (e--) {
					k = a[e],
					l = k.hash;
					if (S.find("#" + l).length) continue;
					(m = i(k)) && m.length ? m.before(y(k)) : (n = j(k)) >= 0 ? G.splice(n, 0, k) : d.append(y(k)),
					S.find("#" + l).length && (k.mime == "directory" ? h = !0 : k.tmb && (k.tmb === 1 ? f.push(l) : g[l] = k.tmb))
				}
				M(g),
				f.length && N(f),
				h && L()
			},
			P = function (a) {
				var c = a.length,
				d, e, f;
				while (c--) {
					d = a[c];
					if ((e = S.find("#" + d)).length) try {
						e.detach()
					} catch (g) {
						b.debug("error", g)
					} else(f = H(d)) != -1 && G.splice(f, 1)
				}
			},
			Q = {
				name: b.i18n("name"),
				perm: b.i18n("perms"),
				mod: b.i18n("modify"),
				size: b.i18n("size"),
				kind: b.i18n("kind")
			},
			R = function (d, e) {
				var f = b.cwd().hash;
				try {
					S.children("table," + k).remove().end()
				} catch (g) {
					S.html("")
				}
				S.removeClass("elfinder-cwd-view-icons elfinder-cwd-view-list").addClass("elfinder-cwd-view-" + (c ? "list" : "icons")),
				T[c ? "addClass" : "removeClass"]("elfinder-cwd-wrapper-list"),
				c && S.html('<table><thead><tr class="ui-state-default"><td >' + Q.name + "</td><td>" + Q.perm + "</td><td>" + Q.mod + "</td><td>" + Q.size + "</td><td>" + Q.kind + "</td></tr></thead><tbody/></table>"),
				G = a.map(d, function (a) {
					return e || a.phash == f ? a : null
				}),
				G = b.sortFiles(G),
				T.bind(I, J).trigger(I),
				E()
			},
			S = a(this).addClass("ui-helper-clearfix elfinder-cwd").attr("unselectable", "on").delegate(k, "click." + b.namespace, function (b) {
				var c = this.id ? a(this) : a(this).parents("[id]:first"),
				d = c.prevAll("." + l + ":first"),
				g = c.nextAll("." + l + ":first"),
				h = d.length,
				i = g.length,
				j;
				b.stopImmediatePropagation(),
				b.shiftKey && (h || i) ? (j = h ? c.prevUntil("#" + d.attr("id")) : c.nextUntil("#" + g.attr("id")), j.add(c).trigger(e)) : b.ctrlKey || b.metaKey ? c.trigger(c.is("." + l) ? f : e) : (S.find("[id]." + l).trigger(f), c.trigger(e)),
				E()
			}).delegate(k, "dblclick." + b.namespace, function (a) {
				b.dblclick({
					file: this.id
				})
			}).delegate(k, "mouseenter." + b.namespace, function (d) {
				var e = a(this),
				f = c ? e : e.children();
				!e.is("." + r) && !f.is("." + n + ",." + m) && f.draggable(b.draggable)
			}).delegate(k, e, function (b) {
				var c = a(this);
				!z && !c.is("." + m) && c.addClass(l).children().addClass(p)
			}).delegate(k, f, function (b) {
				!z && a(this).removeClass(l).children().removeClass(p)
			}).delegate(k, g, function () {
				var b = a(this).removeClass(l).addClass(m),
				d = (c ? b : b.children()).removeClass(p);
				b.is("." + o) && b.droppable("disable"),
				d.is("." + n) && d.draggable("disable"),
				!c && d.removeClass(m)
			}).delegate(k, h, function () {
				var b = a(this).removeClass(m),
				d = c ? b : b.children();
				b.is("." + o) && b.droppable("enable"),
				d.is("." + n) && d.draggable("enable")
			}).delegate(k, "scrolltoview", function () {
				F(a(this))
			}).delegate(k, "hover", function (c) {
				b.trigger("hover", {
					hash: a(this).attr("id"),
					type: c.type
				})
			}).bind("contextmenu." + b.namespace, function (c) {
				var d = a(c.target).closest("." + j);
				d.length && (c.stopPropagation(), c.preventDefault(), d.is("." + m) || (d.is("." + l) || (S.trigger("unselectall"), d.trigger(e), E()), b.trigger("contextmenu", {
					type: "files",
					targets: b.selected(),
					x: c.clientX,
					y: c.clientY
				})))
			}).selectable({
				filter: k,
				stop: E,
				selected: function (b, c) {
					a(c.selected).trigger(e)
				},
				unselected: function (b, c) {
					a(c.unselected).trigger(f)
				}
			}).droppable(K).bind("create." + b.namespace, function (b, d) {
				var e = c ? S.find("tbody") : S;
				S.trigger("unselectall"),
				e.prepend(a(y(d)).addClass(r)),
				S.scrollTop(0)
			}).bind("unselectall", function () {
				S.find("[id]." + l + "").trigger(f),
				E()
			}).bind("selectfile", function (a, b) {
				S.find("#" + b).trigger(e),
				E()
			}),
			T = a('<div class="elfinder-cwd-wrapper"/>').bind("contextmenu", function (a) {
				a.preventDefault(),
				b.trigger("contextmenu", {
					type: "cwd",
					targets: [b.cwd().hash],
					x: a.clientX,
					y: a.clientY
				})
			}),
			U = function () {
				var b = 0;
				T.siblings(".elfinder-panel:visible").each(function () {
					b += a(this).outerHeight(!0)
				}),
				T.height(W.height() - b)
			},
			V = a(this).parent().resize(U),
			W = V.children(".elfinder-workzone").append(T.append(this));
			b.dragUpload && (T[0].addEventListener("dragenter", function (a) {
				a.preventDefault(),
				a.stopPropagation(),
				T.addClass(q)
			}, !1), T[0].addEventListener("dragleave", function (a) {
				a.preventDefault(),
				a.stopPropagation(),
				a.target == S[0] && T.removeClass(q)
			}, !1), T[0].addEventListener("dragover", function (a) {
				a.preventDefault(),
				a.stopPropagation()
			}, !1), T[0].addEventListener("drop", function (a) {
				a.preventDefault(),
				T.removeClass(q),
				a.dataTransfer && a.dataTransfer.files && a.dataTransfer.files.length && b.exec("upload", {
					files: a.dataTransfer.files
				})
			}, !1)),
			b.bind("open search", function (a) {
				R(a.data.files, a.type == "search")
			}).bind("searchend sortchange", function () {
				t && R(b.files())
			}).bind("searchstart", function (a) {
				t = a.data.query
			}).bind("searchend", function () {
				t = ""
			}).bind("viewchange", function () {
				var d = b.selected(),
				e = b.storage("view") == "list";
				e != c && (c = e, R(b.files()), a.each(d, function (a, b) {
					B(b)
				}), E()),
				U()
			}).add(function (c) {
				var d = b.cwd().hash,
				e = t ? a.map(c.data.added || [], function (a) {
					return a.name.indexOf(t) === -1 ? null : a
				}) : a.map(c.data.added || [], function (a) {
					return a.phash == d ? a : null
				});
				O(e)
			}).change(function (c) {
				var d = b.cwd().hash,
				e = b.selected(),
				f;
				t ? a.each(c.data.changed || [], function (b, c) {
					P([c.hash]),
					c.name.indexOf(t) !== -1 && (O([c]), a.inArray(c.hash, e) !== -1 && B(c.hash))
				}) : a.each(a.map(c.data.changed || [], function (a) {
					return a.phash == d ? a : null
				}), function (b, c) {
					P([c.hash]),
					O([c]),
					a.inArray(c.hash, e) !== -1 && B(c.hash)
				}),
				E()
			}).remove(function (a) {
				P(a.data.removed || []),
				E()
			}).bind("open add search searchend", function () {
				S.css("height", "auto"),
				S.outerHeight(!0) < T.height() && S.height(T.height() - (S.outerHeight(!0) - S.height()) - 2)
			}).dragstart(function (b) {
				var c = a(b.data.target),
				d = b.data.originalEvent;
				c.is(k) && (c.is("." + l) || (!(d.ctrlKey || d.metaKey || d.shiftKey) && C(), c.trigger(e), E()), S.droppable("disable")),
				S.selectable("disable").removeClass(m),
				z = !0
			}).dragstop(function () {
				S.selectable("enable"),
				z = !1
			}).bind("lockfiles unlockfiles", function (a) {
				var b = a.type == "lockfiles" ? g : h,
				c = a.data.files || [],
				d = c.length;
				while (d--) S.find("#" + c[d]).trigger(b);
				E()
			}).bind("mkdir mkfile duplicate upload rename archive extract", function (c) {
				var d = b.cwd().hash,
				e;
				S.trigger("unselectall"),
				a.each(c.data.added || [], function (a, b) {
					b && b.phash == d && B(b.hash)
				}),
				E()
			}).shortcut({
				pattern: "ctrl+a",
				description: "selectall",
				callback: function () {
					var c = [],
					d;
					S.find("[id]:not(." + l + ")").trigger(e),
					G.length ? (d = b.cwd().hash, b.select({
						selected: a.map(b.files(), function (a) {
							return a.phash == d ? a.hash : null
						})
					})) : E()
				}
			}).shortcut({
				pattern: "left right up down shift+left shift+right shift+up shift+down",
				description: "selectfiles",
				type: "keydown",
				callback: function (a) {
					A(a.keyCode, a.shiftKey)
				}
			}).shortcut({
				pattern: "home",
				description: "selectffile",
				callback: function (a) {
					C(),
					F(S.find("[id]:first").trigger(e)),
					E()
				}
			}).shortcut({
				pattern: "end",
				description: "selectlfile",
				callback: function (a) {
					C(),
					F(S.find("[id]:last").trigger(e)),
					E()
				}
			})
		}),
this
},
a.fn.elfinderdialog = function (b) {
	var c;
	return typeof b == "string" && (c = this.closest(".ui-dialog")).length && (b == "open" && c.is(":hidden") ? c.fadeIn(120, function () {
		c.trigger("open")
	}) : b == "close" && c.is(":visible") ? c.hide().trigger("close") : b == "destroy" ? c.hide().remove() : b == "toTop" && c.trigger("totop")),
	b = a.extend({}, a.fn.elfinderdialog.defaults, b),
	this.filter(":not(.ui-dialog-content)").each(function () {
		var c = a(this).addClass("ui-dialog-content ui-widget-content"),
		d = c.parent(),
		e = "elfinder-dialog-active",
		f = "elfinder-dialog",
		g = "elfinder-dialog-notify",
		h = "ui-state-hover",
		i = parseInt(Math.random() * 1e6),
		j = d.children(".elfinder-overlay"),
		k = a('<div class="ui-dialog-buttonset"/>'),
		l = a('<div class=" ui-helper-clearfix ui-dialog-buttonpane ui-widget-content"/>').append(k),
		m = a('<div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable std42-dialog  ' + f + " " + b.cssClass + '"/>').hide().append(c).appendTo(d).draggable({
			handle: ".ui-dialog-titlebar",
			containment: a("body")
		}).css({
			width: b.width,
			height: b.height
		}).mousedown(function (b) {
			b.stopPropagation(),
			a(document).mousedown(),
			m.is("." + e) || (d.find("." + f + ":visible").removeClass(e), m.addClass(e).zIndex(n() + 1))
		}).bind("open", function () {
			b.modal && j.elfinderoverlay("show"),
			m.trigger("totop"),
			typeof b.open == "function" && a.proxy(b.open, c[0])(),
			m.is("." + g) || d.find("." + f + ":visible").not("." + g).each(function () {
				var b = a(this),
				c = parseInt(b.css("top")),
				d = parseInt(b.css("left")),
				e = parseInt(m.css("top")),
				f = parseInt(m.css("left"));
				b[0] != m[0] && (c == e || d == f) && m.css({
					top: c + 10 + "px",
					left: d + 10 + "px"
				})
			})
		}).bind("close", function () {
			var e = d.find(".elfinder-dialog:visible"),
			f = n();
			b.modal && j.elfinderoverlay("hide"),
			e.length ? e.each(function () {
				var b = a(this);
				if (b.zIndex() >= f) return b.trigger("totop"),
					!1
			}) : setTimeout(function () {
				d.mousedown().click()
			}, 10),
			typeof b.close == "function" ? a.proxy(b.close, c[0])() : b.destroyOnClose && m.hide().remove()
		}).bind("totop", function () {
			a(this).mousedown().find(".ui-button:first").focus().end().find(":text:first").focus()
		}),
		n = function () {
			var b = d.zIndex() + 10;
			return d.find("." + f + ":visible").each(function () {
				var c;
				this != m[0] && (c = a(this).zIndex(), c > b && (b = c))
			}),
			b
		},
		o;
		b.position || (o = parseInt((d.height() - m.outerHeight()) / 2 - 42), b.position = {
			top: (o > 0 ? o : 0) + "px",
			left: parseInt((d.width() - m.outerWidth()) / 2) + "px"
		}),
		m.css(b.position),
		b.closeOnEscape && a(document).bind("keyup." + i, function (b) {
			b.keyCode == a.ui.keyCode.ESCAPE && m.is("." + e) && (c.elfinderdialog("close"), a(document).unbind("keyup." + i))
		}),
		m.prepend(a('<div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix">' + b.title + "</div>").prepend(a('<a href="#" class="ui-dialog-titlebar-close ui-corner-all"><span class="ui-icon ui-icon-closethick"/></a>').mousedown(function (a) {
			a.preventDefault(),
			c.elfinderdialog("close")
		}))),
		a.each(b.buttons, function (b, d) {
			var e = a('<button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only"><span class="ui-button-text">' + b + "</span></button>").click(a.proxy(d, c[0])).hover(function (b) {
				a(this)[b.type == "mouseenter" ? "focus" : "blur"]()
			}).focus(function () {
				a(this).addClass(h)
			}).blur(function () {
				a(this).removeClass(h)
			}).keydown(function (b) {
				var c;
				b.keyCode == a.ui.keyCode.ENTER ? a(this).click() : b.keyCode == a.ui.keyCode.TAB && (c = a(this).next(".ui-button"), c.length ? c.focus() : a(this).parent().children(".ui-button:first").focus())
			});
			k.append(e)
		}),
		k.children().length && m.append(l),
		b.resizable && a.fn.resizable && m.resizable({
			minWidth: b.minWidth,
			minHeight: b.minHeight,
			alsoResize: this
		}),
		typeof b.create == "function" && a.proxy(b.create, this)(),
		b.autoOpen && c.elfinderdialog("open")
	}),
this
},
a.fn.elfinderdialog.defaults = {
	cssClass: "",
	title: "",
	modal: !1,
	resizable: !0,
	autoOpen: !0,
	closeOnEscape: !0,
	destroyOnClose: !1,
	buttons: {},
	position: null,
	width: 320,
	height: "auto",
	minWidth: 200,
	minHeight: 110
},
a.fn.elfindernavbar = function (b, c) {
	return this.not(".elfinder-navbar").each(function () {
		var d = a(this).addClass("ui-state-default elfinder-navbar"),
		e = d.parent().resize(function () {
			d.height(f.height() - g)
		}),
		f = e.children(".elfinder-workzone").append(d),
		g = d.outerHeight() - d.height(),
		h = b.direction == "ltr",
		i;
		a.fn.resizable && (i = d.resizable({
			handles: h ? "e" : "w",
			minWidth: c.minWidth || 150,
			maxWidth: c.maxWidth || 500
		}).bind("resize scroll", function () {
			i.css({
				top: parseInt(d.scrollTop()) + "px",
				left: parseInt(h ? d.width() + d.scrollLeft() - i.width() - 2 : d.scrollLeft() + 2)
			})
		}).find(".ui-resizable-handle").zIndex(d.zIndex() + 10), h || d.resize(function () {
			d.css("left", null).css("right", 0)
		}), b.one("open", function () {
			setTimeout(function () {
				d.trigger("resize")
			}, 150)
		}))
	}),
	this
},
a.fn.elfinderoverlay = function (b) {
	this.filter(":not(.elfinder-overlay)").each(function () {
		b = a.extend({}, b),
		a(this).addClass("ui-widget-overlay elfinder-overlay").hide().mousedown(function (a) {
			a.preventDefault(),
			a.stopPropagation()
		}).data({
			cnt: 0,
			show: typeof b.show == "function" ? b.show : function () {},
			hide: typeof b.hide == "function" ? b.hide : function () {}
		})
	});
	if (b == "show") {
		var c = this.eq(0),
		d = c.data("cnt") + 1,
		e = c.data("show");
		c.data("cnt", d),
		c.is(":hidden") && (c.zIndex(c.parent().zIndex() + 1), c.show(), e())
	}
	if (b == "hide") {
		var c = this.eq(0),
		d = c.data("cnt") - 1,
		f = c.data("hide");
		c.data("cnt", d),
		d == 0 && c.is(":visible") && (c.hide(), f())
	}
	return this
},
a.fn.elfinderpanel = function (b) {
	return this.each(function () {
		var c = a(this).addClass("elfinder-panel ui-state-default ui-corner-all"),
		d = "margin-" + (b.direction == "ltr" ? "left" : "right");
		b.one("load", function (a) {
			var e = b.getUI("navbar");
			c.css(d, parseInt(e.outerWidth(!0))),
			e.bind("resize", function () {
				c.is(":visible") && c.css(d, parseInt(e.outerWidth(!0)))
			})
		})
	})
},
a.fn.elfinderpath = function (b) {
	return this.each(function () {
		var c = a(this).addClass("elfinder-path").html("&nbsp;").delegate("a", "click", function (c) {
			var d = a(this).attr("href").substr(1);
			c.preventDefault(),
			d != b.cwd().hash && b.exec("open", d)
		}).prependTo(b.getUI("statusbar").show());
		b.bind("open searchend", function () {
			var d = [];
			a.each(b.parents(b.cwd().hash), function (a, c) {
				d.push('<a href="#' + c + '">' + b.escape(b.file(c).name) + "</a>")
			}),
			c.html(d.join(b.option("separator")))
		}).bind("search", function () {
			c.html(b.i18n("searcresult"))
		})
	})
},
a.fn.elfinderplaces = function (b, c) {
	return this.each(function () {
		var d = [],
		e = "class",
		f = b.res(e, "navdir"),
		g = b.res(e, "navcollapse"),
		h = b.res(e, "navexpand"),
		i = b.res(e, "hover"),
		j = b.res(e, "treeroot"),
		k = b.res("tpl", "navdir"),
		l = b.res("tpl", "perms"),
		m = a(b.res("tpl", "navspinner")),
		n = function (a) {
			return a.substr(6)
		},
		o = function (a) {
			return "place-" + a
		},
		p = function () {
			b.storage("places", d.join(","))
		},
		q = function (c) {
			return a(k.replace(/\{id\}/, o(c.hash)).replace(/\{name\}/, b.escape(c.name)).replace(/\{cssclass\}/, b.perms2class(c)).replace(/\{permissions\}/, !c.read || !c.write ? l : "").replace(/\{symlink\}/, ""))
		},
		r = function (c) {
			var e = q(c);
			w.children().length && a.each(w.children(), function () {
				var b = a(this);
				if (c.name.localeCompare(b.children("." + f).text()) < 0) return !e.insertBefore(b)
			}),
			d.push(c.hash),
			!e.parent().length && w.append(e),
			v.addClass(g),
			e.draggable({
				appendTo: "body",
				revert: !1,
				helper: function () {
					var c = a(this);
					return c.children().removeClass("ui-state-hover"),
					a('<div class="elfinder-place-drag elfinder-' + b.direction + '"/>').append(c.clone()).data("hash", n(c.children(":first").attr("id")))
				},
				start: function () {
					a(this).hide()
				},
				stop: function (b, c) {
					var d = x.offset().top,
					e = x.offset().left,
					f = x.width(),
					g = x.height(),
					h = b.clientX,
					i = b.clientY;
					h > e && h < e + f && i > d && i < i + g ? a(this).show() : (s(c.helper.data("hash")), p())
				}
			})
		},
		s = function (b) {
			var c = a.inArray(b, d);
			c !== -1 && (d.splice(c, 1), w.find("#" + o(b)).parent().remove(), !w.children().length && v.removeClass(g + " " + h))
		},
		t = function () {
			w.empty(),
			v.removeClass(g + " " + h)
		},
		u = q({
			hash: "root-" + b.namespace,
			name: b.i18n(c.name, "places"),
			read: !0,
			write: !0
		}),
		v = u.children("." + f).addClass(j).click(function () {
			v.is("." + g) && (x.toggleClass(h), w.slideToggle(), b.storage("placesState", x.is("." + h) ? 1 : 0))
		}),
		w = u.children("." + b.res(e, "navsubtree")),
		x = a(this).addClass(b.res(e, "tree") + " elfinder-places ui-corner-all").hide().append(u).appendTo(b.getUI("navbar")).delegate("." + f, "hover", function () {
			a(this).toggleClass("ui-state-hover")
		}).delegate("." + f, "click", function (c) {
			b.exec("open", a(this).attr("id").substr(6))
		}).delegate("." + f + ":not(." + j + ")", "contextmenu", function (c) {
			var d = a(this).attr("id").substr(6);
			c.preventDefault(),
			b.trigger("contextmenu", {
				raw: [{
					label: b.i18n("rmFromPlaces"),
					icon: "rm",
					callback: function () {
						s(d),
						p()
					}
				}],
				x: c.clientX,
				y: c.clientY
			})
		}).droppable({
			tolerance: "pointer",
			accept: ".elfinder-cwd-file-wrapper,.elfinder-tree-dir,.elfinder-cwd-file",
			hoverClass: b.res("class", "adroppable"),
			drop: function (c, e) {
				var f = !0;
				a.each(e.helper.data("files"), function (c, e) {
					var g = b.file(e);
					g && g.mime == "directory" && a.inArray(g.hash, d) === -1 ? r(g) : f = !1
				}),
				p(),
				f && e.helper.hide()
			}
		});
		b.one("load", function () {
			if (b.oldAPI) return;
			x.show().parent().show(),
			d = a.map(b.storage("places").split(","), function (a) {
				return a || null
			}),
			d.length && (v.prepend(m), b.request({
				data: {
					cmd: "info",
					targets: d
				},
				preventDefault: !0
			}).done(function (c) {
				d = [],
				a.each(c.files, function (a, b) {
					b.mime == "directory" && r(b)
				}),
				p(),
				b.storage("placesState") > 0 && v.click()
			}).always(function () {
				m.remove()
			})),
			b.remove(function (b) {
				a.each(b.data.removed, function (a, b) {
					s(b)
				}),
				p()
			}).change(function (b) {
				a.each(b.data.changed, function (b, c) {
					a.inArray(c.hash, d) !== -1 && (s(c.hash), c.mime == "directory" && r(c))
				}),
				p()
			}).bind("sync", function () {
				d.length && (v.prepend(m), b.request({
					data: {
						cmd: "info",
						targets: d
					},
					preventDefault: !0
				}).done(function (b) {
					a.each(b.files || [], function (b, c) {
						a.inArray(c.hash, d) === -1 && s(c.hash)
					}),
					p()
				}).always(function () {
					m.remove()
				}))
			})
		})
})
},
a.fn.elfindersearchbutton = function (b) {
	return this.each(function () {
		var c = !1,
		d = a(this).hide().addClass("ui-widget-content elfinder-button " + b.fm.res("class", "searchbtn") + ""),
		e = function () {
			b.exec(a.trim(g.val())).done(function () {
				c = !0,
				g.focus()
			})
		},
		f = function () {
			g.val(""),
			c && (c = !1, b.fm.trigger("searchend"))
		},
		g = a('<input type="text" size="42"/>').appendTo(d).keypress(function (a) {
			a.stopPropagation()
		}).keydown(function (a) {
			a.stopPropagation(),
			a.keyCode == 13 && e(),
			a.keyCode == 27 && (a.preventDefault(), f())
		});
		a('<span class="ui-icon ui-icon-search" title="' + b.title + '"/>').appendTo(d).click(e),
		a('<span class="ui-icon ui-icon-close"/>').appendTo(d).click(f),
		setTimeout(function () {
			d.parent().
			detach(),
			b.fm.getUI("toolbar").prepend(d.show());
			if (a.browser.msie) {
				var c = d.children(b.fm.direction == "ltr" ? ".ui-icon-close" : ".ui-icon-search");
				c.css({
					right: "",
					left: parseInt(d.width()) - c.outerWidth(!0)
				})
			}
		}, 200),
		b.fm.error(function () {
			g.unbind("keydown")
		}).select(function () {
			g.blur()
		}).bind("searchend", function () {
			g.val("")
		}).viewchange(f).shortcut({
			pattern: "ctrl+f f3",
			description: b.title,
			callback: function () {
				g.select().focus()
			}
		})
	})
},
a.fn.elfindersortbutton = function (b) {
	return this.each(function () {
		var c = "class",
		d = b.fm,
		e = d.res(c, "disabled"),
		f = d.res(c, "active"),
		g = d.res(c, "hover"),
		h = "elfinder-button-menu-item",
		i = "elfinder-button-menu-item-selected",
		j, k = a(this).addClass("ui-state-default elfinder-button elfiner-button-" + b.name).attr("title", b.title).append('<span class="elfinder-button-icon elfinder-button-icon-' + b.name + '"/>').hover(function (a) {
			!k.is("." + e) && k.toggleClass(g)
		}).click(function (a) {
			k.is("." + e) || (j && b.variants.length > 1 ? (j.is(":hidden") && b.fm.getUI().click(), a.stopPropagation(), j.slideToggle(100)) : b.exec())
		}),
		l = function () {
			j.hide()
		};
		a.isArray(b.variants) && (k.addClass("elfinder-menubutton"), j = a('<div class="ui-widget ui-widget-content elfinder-button-menu ui-corner-all"/>').hide().appendTo(k).zIndex(10 + k.zIndex()).delegate("." + h, "hover", function () {
			a(this).toggleClass(g)
		}).delegate("." + h, "click", function (c) {
			c.preventDefault(),
			c.stopPropagation(),
			k.removeClass(g),
			b.exec(b.fm.selected(), a(this).data("value"))
		}), b.fm.bind("disable select", l).getUI().click(l), b.change(function () {
			j.html(""),
			a.each(b.variants, function (c, d) {
				j.append(a('<div class="' + h + " " + (d[0] == b.value ? i : "") + " elfinder-menu-item-sort-" + b.fm.sortDirect + '"><span class="elfinder-menu-item-sort-dir"/>' + d[1] + "</div>").data("value", d[0]))
			})
		})),
		b.change(function () {
			b.disabled() ? k.removeClass(f + " " + g).addClass(e) : (k.removeClass(e), k[b.active() ? "addClass" : "removeClass"](f))
		}).change()
	})
},
a.fn.elfinderstat = function (b) {
	return this.each(function () {
		var c = a(this).addClass("elfinder-stat-size"),
		d = a('<div class="elfinder-stat-selected"/>'),
		e = b.i18n("size").toLowerCase(),
		f = b.i18n("items").toLowerCase(),
		g = b.i18n("selected"),
		h = function (d, g) {
			var h = 0,
			i = 0;
			a.each(d, function (a, b) {
				if (!g || b.phash == g) h++,
					i += parseInt(b.size) || 0
			}),
			c.html(f + ": " + h + ", " + e + ": " + b.formatSize(i))
		};
		b.getUI("statusbar").prepend(c).append(d).show(),
		b.bind("open reload add remove change searchend", function () {
			h(b.files(), b.cwd().hash)
		}).search(function (a) {
			h(a.data.files)
		}).select(function () {
			var c = 0,
			f = 0,
			h = b.selectedFiles();
			if (h.length == 1) {
				c = h[0].size,
				d.html(b.escape(h[0].name) + (c > 0 ? ", " + b.formatSize(c) : ""));
				return
			}
			a.each(h, function (a, b) {
				f++,
				c += parseInt(b.size) || 0
			}),
			d.html(f ? g + ": " + f + ", " + e + ": " + b.formatSize(c) : "&nbsp;")
		})
	})
},
a.fn.elfindertoolbar = function (b, c) {
	return this.not(".elfinder-toolbar").each(function () {
		var d = b._commands,
		e = a(this).addClass("ui-helper-clearfix ui-widget-header ui-corner-top elfinder-toolbar"),
		f = c || [],
		g = f.length,
		h, i, j, k;
		e.prev().length && e.parent().prepend(this);
		while (g--) if (f[g]) {
			j = a('<div class="ui-widget-content ui-corner-all elfinder-buttonset"/>'),
			h = f[g].length;
			while (h--) if (i = d[f[g][h]]) k = "elfinder" + i.options.ui,
				a.fn[k] && j.prepend(a("<div/>")[k](i));
			j.children().length && e.prepend(j),
			j.children(":not(:last),:not(:first):not(:last)").after('<span class="ui-widget-content elfinder-toolbar-button-separator"/>')
		}
		e.children().length && e.show()
	}),
	this
},
a.fn.elfindertree = function (b, c) {
	var d = b.res("class", "tree");
	return this.not("." + d).each(function () {
		var e = "class",
		f = b.res(e, "treeroot"),
		g = c.openRootOnLoad,
		h = b.res(e, "navsubtree"),
		i = b.res(e, "treedir"),
		j = b.res(e, "navcollapse"),
		k = b.res(e, "navexpand"),
		l = "elfinder-subtree-loaded",
		m = b.res(e, "navarrow"),
		n = b.res(e, "active"),
		o = b.res(e, "adroppable"),
		p = b.res(e, "hover"),
		q = b.res(e, "disabled"),
		r = b.res(e, "draggable"),
		s = b.res(e, "droppable"),
		t = a.extend({}, b.droppable, {
			hoverClass: p + " " + o,
			over: function () {
				var b = a(this);
				b.is("." + j + ":not(." + k + ")") && setTimeout(function () {
					b.is("." + o) && b.children("." + m).click()
				}, 500)
			}
		}),
		u = a(b.res("tpl", "navspinner")),
		v = b.res("tpl", "navdir"),
		w = b.res("tpl", "perms"),
		x = b.res("tpl", "symlink"),
		y = {
			id: function (a) {
				return b.navHash2Id(a.hash)
			},
			cssclass: function (a) {
				return (a.phash ? "" : f) + " " + i + " " + b.perms2class(a) + " " + (a.dirs && !a.link ? j : "")
			},
			permissions: function (a) {
				return !a.read || !a.write ? w : ""
			},
			symlink: function (a) {
				return a.alias ? x : ""
			}
		},
		z = function (a) {
			return a.name = b.escape(a.name),
			v.replace(/(?:\{([a-z]+)\})/ig, function (b, c) {
				return a[c] || (y[c] ? y[c](a) : "")
			})
		},
		A = function (b) {
			return a.map(b || [], function (a) {
				return a.mime == "directory" ? a : null
			})
		},
		B = function (a) {
			return a ? H.find("#" + b.navHash2Id(a)).next("." + h) : H
		},
		C = function (c, d) {
			var e = c.children(":first"),
			f;
			while (e.length) {
				if ((f = b.file(b.navId2Hash(e.children("[id]").attr("id")))) && d.name.localeCompare(f.name) < 0) return e;
				e = e.next()
			}
			return a("")
		},
		D = function (a) {
			var c = a.length,
			d = [],
			e, f, g, h, i;
			for (e = 0; e < c; e++) {
				f = a[e];
				if (H.find("#" + b.navHash2Id(f.hash)).length) continue;
				(h = B(f.phash)).length ? (g = z(f), f.phash && (i = C(h, f)).length ? i.before(g) : h.append(g)) : d.push(f)
			}
			if (d.length && d.length < c) return D(d);
			F()
		},
		E = function () {
			var a = b.cwd().hash,
			d = H.find("#" + b.navHash2Id(a)),
			e;
			g && (e = H.find("#" + b.navHash2Id(b.root())), e.is("." + l) && e.addClass(k).next("." + h).show(), g = !1),
			d.is("." + n) || (H.find("." + i + "." + n).removeClass(n), d.addClass(n)),
			c.syncTree && (d.length ? d.parentsUntil("." + f).filter("." + h).show().prev("." + i).addClass(k) : b.newAPI && b.request({
				data: {
					cmd: "parents",
					target: a
				},
				preventFail: !0
			}).done(function (c) {
				var d = A(c.tree);
				D(d),
				G(d, l),
				a == b.cwd().hash && E()
			}))
		},
		F = function () {
			H.find("." + i + ":not(." + s + ",.elfinder-ro,.elfinder-na)").droppable(t)
		},
		G = function (c, d) {
			var e = d == l ? "." + j + ":not(." + l + ")" : ":not(." + j + ")";
			a.each(c, function (c, f) {
				H.find("#" + b.navHash2Id(f.phash) + e).filter(function () {
					return a(this).next("." + h).children().length > 0
				}).addClass(d)
			})
		},
		H = a(this).addClass(d).delegate("." + i, "hover", function (c) {
			var d = a(this),
			e = c.type == "mouseenter";
			d.is("." + o + " ,." + q) || (e && !d.is("." + f + ",." + r + ",.elfinder-na,.elfinder-wo") && d.draggable(b.draggable), d.toggleClass(p, e))
		}).delegate("." + i, "dropover dropout drop", function (b) {
			a(this)[b.type == "dropover" ? "addClass" : "removeClass"](o + " " + p)
		}).delegate("." + i, "click", function (c) {
			var d = a(this),
			e = b.navId2Hash(d.attr("id")),
			f = b.file(e);
			b.trigger("searchend"),
			e != b.cwd().hash && !d.is("." + q) ? b.exec("open", f.thash || e) : d.is("." + j) && d.children("." + m).click()
		}).delegate("." + i + "." + j + " ." + m, "click", function (c) {
			var d = a(this),
			e = d.parent("." + i),
			f = e.next("." + h);
			c.stopPropagation(),
			e.is("." + l) ? (e.toggleClass(k), f.slideToggle()) : (u.insertBefore(d), e.removeClass(j), b.request({
				cmd: "tree",
				target: b.navId2Hash(e.attr("id"))
			}).done(function (a) {
				D(A(a.tree)),
				f.children().length && (e.addClass(j + " " + k), f.slideDown()),
				E()
			}).always(function (a) {
				u.remove(),
				e.addClass(l)
			}))
		}).delegate("." + i, "contextmenu", function (c) {
			c.preventDefault(),
			b.trigger("contextmenu", {
				type: "navbar",
				targets: [b.navId2Hash(a(this).attr("id"))],
				x: c.clientX,
				y: c.clientY
			})
		});
		H.parent().find(".elfinder-navbar").append(H).show(),
		b.open(function (a) {
			var b = a.data,
			c = A(b.files);
			b.init && H.empty(),
			c.length && (D(c), G(c, l)),
			E()
		}).add(function (a) {
			var b = A(a.data.added);
			b.length && (D(b), G(b, j))
		}).change(function (c) {
			var d = A(c.data.changed),
			e = d.length,
			f, g, j, m, n, o, p, q, r;
			while (e--) {
				f = d[e];
				if ((g = H.find("#" + b.navHash2Id(f.hash))).length) {
					if (f.phash) {
						m = g.closest("." + h),
						n = B(f.phash),
						o = g.parent().next(),
						p = C(n, f);
						if (!n.length) continue;
						if (n[0] !== m[0] || o.get(0) !== p.get(0)) p.length ? p.before(g) : n.append(g)
					}
				q = g.is("." + k),
				r = g.is("." + l),
				j = a(z(f)),
				g.replaceWith(j.children("." + i)),
				f.dirs && (q || r) && (g = H.find("#" + b.navHash2Id(f.hash))) && g.next("." + h).children().length && (q && g.addClass(k), r && g.addClass(l))
			}
		}
		E(),
		F()
	}).remove(function (a) {
		var c = a.data.removed,
		d = c.length,
		e, f;
		while (d--)(e = H.find("#" + b.navHash2Id(c[d]))).length && (f = e.closest("." + h), e.parent().detach(), f.children().length || f.hide().prev("." + i).removeClass(j + " " + k + " " + l))
	}).bind("search searchend", function (a) {
		H.find("#" + b.navHash2Id(b.cwd().hash))[a.type == "search" ? "removeClass" : "addClass"](n)
	}).bind("lockfiles unlockfiles", function (c) {
		var d = c.type == "lockfiles",
		e = d ? "disable" : "enable",
		f = a.map(c.data.files || [], function (a) {
			var c = b.file(a);
			return c && c.mime == "directory" ? a : null
		});
		a.each(f, function (a, c) {
			var f = H.find("#" + b.navHash2Id(c));
			f.length && (f.is("." + r) && f.draggable(e), f.is("." + s) && f.droppable(n), f[d ? "addClass" : "removeClass"](q))
		})
	})
}),
this
},
a.fn.elfinderuploadbutton = function (b) {
	return this.each(function () {
		var c = a(this).elfinderbutton(b).unbind("click"),
		d = a("<form/>").appendTo(c),
		e = a('<input type="file" multiple="true"/>').change(function () {
			var c = a(this);
			c.val() && (b.exec({
				input: c.remove()[0]
			}), e.clone(!0).appendTo(d))
		});
		d.append(e.clone(!0)),
		b.change(function () {
			d[b.disabled() ? "hide" : "show"]()
		}).change()
	})
},
a.fn.elfinderviewbutton = function (b) {
	return this.each(function () {
		var c = a(this).elfinderbutton(b),
		d = c.children(".elfinder-button-icon");
		b.change(function () {
			var a = b.value == "icons";
			d.toggleClass("elfinder-button-icon-view-list", a),
			c.attr("title", b.fm.i18n(a ? "viewlist" : "viewicons"))
		})
	})
},
a.fn.elfinderworkzone = function (b) {
	var c = "elfinder-workzone";
	return this.not("." + c).each(function () {
		var b = a(this).addClass(c),
		d = b.outerHeight(!0) - b.height(),
		e = b.parent();
		e.add(window).bind("resize", function () {
			var f = e.height();
			e.children(":visible:not(." + c + ")").each(function () {
				var b = a(this);
				b.css("position") != "absolute" && (f -= b.outerHeight(!0))
			}),
			b.height(f - d)
		})
	}),
	this
},
elFinder.prototype.commands.archive = function () {
	var b = this,
	c = b.fm,
	d = [];
	this.variants = [],
	this.disableOnSearch = !0,
	c.bind("open reload", function () {
		b.variants = [],
		a.each(d = c.option("archivers").create || [], function (a, d) {
			b.variants.push([d, c.mime2kind(d)])
		}),
		b.change()
	}),
	this.getstate = function () {
		return !this._disabled && d.length && c.selected().length && c.cwd().write ? 0 : -1
	},
	this.exec = function (b, e) {
		var f = this.files(b),
		g = f.length,
		h = e || d[0],
		i = c.cwd(),
		j = ["errArchive", "errPerm"],
		k = a.Deferred().fail(function (a) {
			a && c.error(a)
		}),
		l;
		if (!(this.enabled() && g && d.length && a.inArray(h, d) !== -1)) return k.reject();
		if (!i.write) return k.reject(j);
		for (l = 0; l < g; l++) if (!f[l].read) return k.reject(j);
			return c.request({
				data: {
					cmd: "archive",
					targets: this.hashes(b),
					type: h
				},
				notify: {
					type: "archive",
					cnt: 1
				},
				syncOnFail: !0
			})
	}
},
elFinder.prototype.commands.back = function () {
	this.alwaysEnabled = !0,
	this.updateOnSelect = !1,
	this.shortcuts = [{
		pattern: "ctrl+left backspace"
	}],
	this.getstate = function () {
		return this.fm.history.canBack() ? 0 : -1
	},
	this.exec = function () {
		return this.fm.history.back()
	}
},
elFinder.prototype.commands.copy = function () {
	this.shortcuts = [{
		pattern: "ctrl+c ctrl+insert"
	}],
	this.getstate = function (b) {
		var b = this.files(b),
		c = b.length;
		return c && a.map(b, function (a) {
			return a.phash && a.read ? a : null
		}).length == c ? 0 : -1
	},
	this.exec = function (b) {
		var c = this.fm,
		d = a.Deferred().fail(function (a) {
			c.error(a)
		});
		return a.each(this.files(b), function (a, b) {
			if (!b.read || !b.phash) return !d.reject(["errCopy", b.name, "errPerm"])
		}),
		d.isRejected() ? d : d.resolve(c.clipboard(this.hashes(b)))
	}
},
elFinder.prototype.commands.cut = function () {
	this.shortcuts = [{
		pattern: "ctrl+x shift+insert"
	}],
	this.getstate = function (b) {
		var b = this.files(b),
		c = b.length;
		return c && a.map(b, function (a) {
			return a.phash && a.read && !a.locked ? a : null
		}).length == c ? 0 : -1
	},
	this.exec = function (b) {
		var c = this.fm,
		d = a.Deferred().fail(function (a) {
			c.error(a)
		});
		return a.each(this.files(b), function (a, b) {
			if (!b.read || !b.phash) return !d.reject(["errCopy", b.name, "errPerm"]);
			if (b.locked) return !d.reject(["errLocked", b.name])
		}),
		d.isRejected() ? d : d.resolve(c.clipboard(this.hashes(b), !0))
	}
},
elFinder.prototype.commands.download = function () {
	var b = this,
	c = this.fm,
	d = function (c) {
		return a.map(b.files(c), function (a) {
			return a.mime == "directory" ? null : a
		})
	};
	this.shortcuts = [{
		pattern: "shift+enter"
	}],
	this.getstate = function () {
		var b = this.fm.selected(),
		c = b.length;
		return !this._disabled && c && (!a.browser.msie || c == 1) && c == d(b).length ? 0 : -1
	},
	this.exec = function (b) {
		var c = this.fm,
		e = c.options.url,
		f = d(b),
		g = a.Deferred(),
		h = "",
		i = "",
		j, k;
		if (this.disabled()) return g.reject();
		if (c.oldAPI) return c.error("errCmdNoSupport"),
			g.reject();
		a.each(c.options.customData || {}, function (a, b) {
			i += "&" + a + "=" + b
		}),
		e += e.indexOf("?") === -1 ? "?" : "&";
		for (j = 0; j < f.length; j++) h += '<iframe class="downloader" id="downloader-' + f[j].hash + '" style="display:none" src="' + e + "cmd=file&target=" + f[j].hash + "&download=1" + i + '"/>';
			return a(h).appendTo("body").ready(function () {
				setTimeout(function () {
					a(h).each(function () {
						a("#" + a(this).attr("id")).remove()
					})
				}, a.browser.mozilla ? 2e4 + 1e4 * j : 1e3)
			}),
		c.trigger("download", {
			files: f
		}),
		g.resolve(b)
	}
},
elFinder.prototype.commands.duplicate = function () {
	var b = this.fm;
	this.getstate = function (c) {
		var c = this.files(c),
		d = c.length;
		return !this._disabled && d && b.cwd().write && a.map(c, function (a) {
			return a.phash && a.read ? a : null
		}).length == d ? 0 : -1
	},
	this.exec = function (b) {
		var c = this.fm,
		d = this.files(b),
		e = d.length,
		f = a.Deferred().fail(function (a) {
			a && c.error(a)
		}),
		g = [];
		return !e || this._disabled ? f.reject() : (a.each(d, function (a, b) {
			if (!b.read || !c.file(b.phash).write) return !f.reject(["errCopy", b.name, "errPerm"])
		}), f.isRejected() ? f : c.request({
			data: {
				cmd: "duplicate",
				targets: this.hashes(b)
			},
			notify: {
				type: "copy",
				cnt: e
			}
		}))
	}
},
elFinder.prototype.commands.edit = function () {
	var b = this,
	c = this.fm,
	d = c.res("mimes", "text") || [],
	e = function (c) {
		return a.map(c, function (c) {
			return (c.mime.indexOf("text/") === 0 || a.inArray(c.mime, d) !== -1) && c.mime.indexOf("text/rtf") && (!b.onlyMimes.length || a.inArray(c.mime, b.onlyMimes) !== -1) && c.read && c.write ? c : null
		})
	},
	f = function (d, e, f) {
		var g = a.Deferred(),
		h = a('<textarea class="elfinder-file-edit" rows="20" id="' + d + '-ta">' + c.escape(f) + "</textarea>"),
		i = function () {
			h.editor && h.editor.save(h[0], h.editor.instance),
			g.resolve(h.getContent()),
			h.elfinderdialog("close")
		},
		j = function () {
			g.reject(),
			h.elfinderdialog("close")
		},
		k = {
			title: e.name,
			width: b.options.dialogWidth || 450,
			buttons: {},
			close: function () {
				h.editor && h.editor.close(h[0], h.editor.instance),
				a(this).elfinderdialog("destroy")
			},
			open: function () {
				c.disable(),
				h.focus(),
				h[0].setSelectionRange && h[0].setSelectionRange(0, 0),
				h.editor && h.editor.load(h[0])
			}
		};
		return h.getContent = function () {
			return h.val()
		},
		a.each(b.options.editors || [], function (b, c) {
			if (a.inArray(e.mime, c.mimes || []) !== -1 && typeof c.load == "function" && typeof c.save == "function") return h.editor = {
				load: c.load,
				save: c.save,
				close: typeof c.close == "function" ? c.close : function () {},
				instance: null
			},
			!1
		}),
		h.editor || h.keydown(function (a) {
			var b = a.keyCode,
			c, d;
			a.stopPropagation(),
			b == 9 && (a.preventDefault(), this.setSelectionRange && (c = this.value, d = this.selectionStart, this.value = c.substr(0, d) + "	" + c.substr(this.selectionEnd), d += 1, this.setSelectionRange(d, d)));
			if (a.ctrlKey || a.metaKey) {
				if (b == 81 || b == 87) a.preventDefault(),
					j();
				b == 83 && (a.preventDefault(), i())
			}
		}),
		k.buttons[c.i18n("Save")] = i,
		k.buttons[c.i18n("Cancel")] = j,
		c.dialog(h, k).attr("id", d),
		g.promise()
	},
	g = function (b) {
		var d = b.hash,
		e = c.options,
		g = a.Deferred(),
		h = {
			cmd: "file",
			target: d
		},
		i = c.url(d) || c.options.url,
		j = "edit-" + c.namespace + "-" + b.hash,
		k = c.getUI().find("#" + j),
		l;
		return k.length ? (k.elfinderdialog("toTop"), g.resolve()) : !b.read || !b.write ? (l = ["errOpen", b.name, "errPerm"], c.error(l), g.reject(l)) : (c.request({
			data: {
				cmd: "get",
				target: d
			},
			notify: {
				type: "openfile",
				cnt: 1
			},
			syncOnFail: !0
		}).done(function (a) {
			f(j, b, a.content).done(function (a) {
				c.request({
					options: {
						type: "post"
					},
					data: {
						cmd: "put",
						target: d,
						content: a
					},
					notify: {
						type: "save",
						cnt: 1
					},
					syncOnFail: !0
				}).fail(function (a) {
					g.reject(a)
				}).done(function (a) {
					a.changed && a.changed.length && c.change(a),
					g.resolve(a)
				})
			})
		}).fail(function (a) {
			g.reject(a)
		}), g.promise())
	};
	this.shortcuts = [{
		pattern: "ctrl+e"
	}],
	this.init = function () {
		this.onlyMimes = this.options.mimes || []
	},
	this.getstate = function (a) {
		var a = this.files(a),
		b = a.length;
		return !this._disabled && b && e(a).length == b ? 0 : -1
	},
	this.exec = function (b) {
		var c = e(this.files(b)),
		d = [],
		f;
		if (this.disabled()) return a.Deferred().reject();
		while (f = c.shift()) d.push(g(f));
		return d.length ? a.when.apply(null, d) : a.Deferred().reject()
	}
},
elFinder.prototype.commands.extract = function () {
	var b = this,
	c = b.fm,
	d = [],
	e = function (b) {
		return a.map(b, function (b) {
			return b.read && a.inArray(b.mime, d) !== -1 ? b : null
		})
	};
	this.disableOnSearch = !0,
	c.bind("open reload", function () {
		d = c.option("archivers").extract || [],
		b.change()
	}),
	this.getstate = function (a) {
		var a = this.files(a),
		b = a.length;
		return !this._disabled && b && e(a).length == b ? 0 : -1
	},
	this.exec = function (b) {
		var e = this.files(b),
		f = a.Deferred(),
		g = e.length,
		h = g,
		i, j, k;
		if (!(this.enabled() && g && d.length)) return f.reject();
		for (i = 0; i < g; i++) {
			j = e[i];
			if (!j.read || !c.file(j.phash).write) return k = ["errExtract", j.name, "errPerm"],
				c.error(k),
			f.reject(k);
			if (a.inArray(j.mime, d) === -1) return k = ["errExtract", j.name, "errNoArchive"],
				c.error(k),
			f.reject(k);
			c.request({
				data: {
					cmd: "extract",
					target: j.hash
				},
				notify: {
					type: "extract",
					cnt: 1
				},
				syncOnFail: !0
			}).fail(function (a) {
				f.isRejected() || f.reject(a)
			}).done(function () {
				h--,
				h == 0 && f.resolve()
			})
		}
		return f
	}
},
elFinder.prototype.commands.forward = function () {
	this.alwaysEnabled = !0,
	this.updateOnSelect = !0,
	this.shortcuts = [{
		pattern: "ctrl+right"
	}],
	this.getstate = function () {
		return this.fm.history.canForward() ? 0 : -1
	},
	this.exec = function () {
		return this.fm.history.forward()
	}
},
elFinder.prototype.commands.getfile = function () {
	var b = this,
	c = this.fm,
	d = function (c) {
		var d = b.options;
		return c = a.map(c, function (a) {
			return a.mime != "directory" || d.folders ? a : null
		}),
		d.multiple || c.length == 1 ? c : []
	};
	this.alwaysEnabled = !0,
	this.callback = c.options.getFileCallback,
	this._disabled = typeof this.callback == "function",
	this.getstate = function (a) {
		var a = this.files(a),
		b = a.length;
		return this.callback && b && d(a).length == b ? 0 : -1
	},
	this.exec = function (c) {
		var d = this.fm,
		e = this.options,
		f = this.files(c),
		g = f.length,
		h = d.option("url"),
		i = d.option("tmbUrl"),
		j = a.Deferred().done(function (a) {
			d.trigger("getfile", {
				files: a
			}),
			b.callback(a, d),
			e.oncomplete == "close" ? d.hide() : e.oncomplete == "destroy" && d.destroy()
		}),
		k = function (b) {
			return e.onlyURL ? e.multiple ? a.map(f, function (a) {
				return a.url
			}) : f[0].url : e.multiple ? f : f[0]
		},
		l = [],
		m, n, o;
		if (this.getstate() == -1) return j.reject();
		for (m = 0; m < g; m++) {
			n = f[m];
			if (n.mime == "directory" && !e.folders) return j.reject();
			n.baseUrl = h,
			n.url = d.url(n.hash),
			n.path = d.path(n.hash),
			n.tmb && n.tmb != 1 && (n.tmb = i + n.tmb),
			!n.width && !n.height && (n.dim ? (o = n.dim.split("x"), n.width = o[0], n.height = o[1]) : n.mime.indexOf("image") !== -1 && l.push(d.request({
				data: {
					cmd: "dim",
					target: n.hash
				},
				preventDefault: !0
			}).done(a.proxy(function (a) {
				a.dim && (o = a.dim.split("x"), this.width = o[0], this.height = o[1]),
				this.dim = a.dim
			}, f[m]))))
		}
		return l.length ? (a.when.apply(null, l).always(function () {
			j.resolve(k(f))
		}), j) : j.resolve(k(f))
	}
},
elFinder.prototype.commands.help = function () {
	var b = this.fm,
	c = this,
	d = '<div class="elfinder-help-link"> <a href="{url}">{link}</a></div>',
	e = '<div class="elfinder-help-team"><div>{author}</div>{work}</div>',
	f = /\{url\}/,
	g = /\{link\}/,
	h = /\{author\}/,
	i = /\{work\}/,
	j = "replace",
	k = "ui-priority-primary",
	l = "ui-priority-secondary",
	m = "elfinder-help-license",
	n = '<li class="ui-state-default ui-corner-top"><a href="#{id}">{title}</a></li>',
	o = ['<div class="ui-tabs ui-widget ui-widget-content ui-corner-all elfinder-help">', '<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">'],
	p = '<div class="elfinder-help-shortcut"><div class="elfinder-help-shortcut-pattern">{pattern}</div> {descrip}</div>',
	q = '<div class="elfinder-help-separator"/>',
	r = function () {
		o.push('<div id="about" class="ui-tabs-panel ui-widget-content ui-corner-bottom"><div class="elfinder-help-logo"/>'),
		o.push("<h3>elFinder</h3>"),
		o.push('<div class="' + k + '">' + b.i18n("webfm") + "</div>"),
		o.push('<div class="' + l + '">' + b.i18n("ver") + ": " + b.version + ", " + b.i18n("protocol") + ": " + b.api + "</div>"),
		o.push('<div class="' + l + '">jQuery/jQuery UI: ' + a().jquery + "/" + a.ui.version + "</div>"),
		o.push(q),
		o.push(d[j](f, "http://elfinder.org/")[j](g, b.i18n("homepage"))),
		o.push(d[j](f, "https://github.com/Studio-42/elFinder/wiki")[j](g, b.i18n("docs"))),
		o.push(d[j](f, "https://github.com/Studio-42/elFinder")[j](g, b.i18n("github"))),
		o.push(d[j](f, "http://twitter.com/elrte_elfinder")[j](g, b.i18n("twitter"))),
		o.push(q),
		o.push('<div class="' + k + '">' + b.i18n("team") + "</div>"),
		o.push(e[j](h, 'Dmitry "dio" Levashov &lt;dio@std42.ru&gt;')[j](i, b.i18n("chiefdev"))),
		o.push(e[j](h, "Troex Nevelin &lt;troex@fury.scancode.ru&gt;")[j](i, b.i18n("maintainer"))),
		o.push(e[j](h, "Alexey Sukhotin &lt;strogg@yandex.ru&gt;")[j](i, b.i18n("contributor"))),
		o.push(e[j](h, "Naoki Sawada &lt;hypweb@gmail.com&gt;")[j](i, b.i18n("contributor"))),
		b.i18[b.lang].translator && o.push(e[j](h, b.i18[b.lang].translator)[j](i, b.i18n("translator") + " (" + b.i18[b.lang].language + ")")),
		o.push(q),
		o.push('<div class="' + m + '">' + b.i18n("icons") + ': <a href="http://pixelmixer.ru/" target="_blank">Pixelmixer</a>, <a href="http://p.yusukekamiyamane.com" target="_blank">Fugue</a></div>'),
		o.push(q),
		o.push('<div class="' + m + '">Licence: BSD Licence</div>'),
		o.push('<div class="' + m + '">Copyright © 2009-2011, Studio 42</div>'),
		o.push('<div class="' + m + '">„ …' + b.i18n("dontforget") + " ”</div>"),
		o.push("</div>")
	},
	s = function () {
		var c = b.shortcuts();
		o.push('<div id="shortcuts" class="ui-tabs-panel ui-widget-content ui-corner-bottom">'),
		c.length ? (o.push('<div class="ui-widget-content elfinder-help-shortcuts">'), a.each(c, function (a, b) {
			o.push(p.replace(/\{pattern\}/, b[0]).replace(/\{descrip\}/, b[1]))
		}), o.push("</div>")) : o.push('<div class="elfinder-help-disabled">' + b.i18n("shortcutsof") + "</div>"),
		o.push("</div>")
	},
	t = function () {
		o.push('<div id="help" class="ui-tabs-panel ui-widget-content ui-corner-bottom">'),
		o.push('<a href="http://elfinder.org/forum/" target="_blank" class="elfinder-dont-panic"><span>DON\'T PANIC</span></a>'),
		o.push("</div>")
	},
	u;
	this.alwaysEnabled = !0,
	this.updateOnSelect = !1,
	this.state = 0,
	this.shortcuts = [{
		pattern: "f1",
		description: this.title
	}],
	setTimeout(function () {
		var d = c.options.view || ["about", "shortcuts", "help"];
		a.each(d, function (a, c) {
			o.push(n[j](/\{id\}/, c)[j](/\{title\}/, b.i18n(c)))
		}),
		o.push("</ul>"),
		a.inArray("about", d) !== -1 && r(),
		a.inArray("shortcuts", d) !== -1 && s(),
		a.inArray("help", d) !== -1 && t(),
		o.push("</div>"),
		u = a(o.join("")),
		u.find(".ui-tabs-nav li").hover(function () {
			a(this).toggleClass("ui-state-hover")
		}).children().click(function (b) {
			var c = a(this);
			b.preventDefault(),
			b.stopPropagation(),
			c.is(".ui-tabs-selected") || (c.parent().addClass("ui-tabs-selected ui-state-active").siblings().removeClass("ui-tabs-selected").removeClass("ui-state-active"), u.find(".ui-tabs-panel").hide().filter(c.attr("href")).show())
		}).filter(":first").click()
	}, 200),
	this.getstate = function () {
		return 0
	},
	this.exec = function () {
		this.dialog || (this.dialog = this.fm.dialog(u, {
			title: this.title,
			width: 530,
			autoOpen: !1,
			destroyOnClose: !1
		})),
		this.dialog.elfinderdialog("open").find(".ui-tabs-nav li a:first").click()
	}
},
elFinder.prototype.commands.home = function () {
	this.title = "Home",
	this.alwaysEnabled = !0,
	this.updateOnSelect = !1,
	this.shortcuts = [{
		pattern: "ctrl+home ctrl+shift+up",
		description: "Home"
	}],
	this.getstate = function () {
		var a = this.fm.root(),
		b = this.fm.cwd().hash;
		return a && b && a != b ? 0 : -1
	},
	this.exec = function () {
		return this.fm.exec("open", this.fm.root())
	}
},
elFinder.prototype.commands.info = function () {
	var b = "msg",
	c = this.fm,
	d = "elfinder-info-spinner",
	e = {
		calc: c.i18n("calc"),
		size: c.i18n("size"),
		unknown: c.i18n("unknown"),
		path: c.i18n("path"),
		aliasfor: c.i18n("aliasfor"),
		modify: c.i18n("modify"),
		perms: c.i18n("perms"),
		locked: c.i18n("locked"),
		dim: c.i18n("dim"),
		kind: c.i18n("kind"),
		files: c.i18n("files"),
		folders: c.i18n("folders"),
		items: c.i18n("items"),
		yes: c.i18n("yes"),
		no: c.i18n("no"),
		link: c.i18n("link")
	};
	this.tpl = {
		main: '<div class="ui-helper-clearfix elfinder-info-title"><span class="elfinder-cwd-icon {class} ui-corner-all"/>{title}</div><table class="elfinder-info-tb">{content}</table>',
		itemTitle: '<strong>{name}</strong><span class="elfinder-info-kind">{kind}</span>',
		groupTitle: "<strong>{items}: {num}</strong>",
		row: "<tr><td>{label} : </td><td>{value}</td></tr>",
		spinner: '<span>{text}</span> <span class="' + d + '"/>'
	},
	this.alwaysEnabled = !0,
	this.updateOnSelect = !1,
	this.shortcuts = [{
		pattern: "ctrl+i"
	}],
	this.init = function () {
		a.each(e, function (a, b) {
			e[a] = c.i18n(b)
		})
	},
	this.getstate = function () {
		return 0
	},
	this.exec = function (b) {
		var c = this,
		f = this.fm,
		g = this.tpl,
		h = g.row,
		i = this.files(b),
		j = i.length,
		k = [],
		l = g.main,
		m = "{label}",
		n = "{value}",
		o = {
			title: this.title,
			width: "auto",
			close: function () {
				a(this).elfinderdialog("destroy")
			}
		},
		p = [],
		q = function (a) {
			s.find("." + d).parent().text(a)
		},
		r = f.namespace + "-info-" + a.map(i, function (a) {
			return a.hash
		}).join("-"),
		s = f.getUI().find("#" + r),
		t, u, v, w, x;
		if (!j) return a.Deferred().reject();
		if (s.length) return s.elfinderdialog("toTop"),
			a.Deferred().resolve();
		j == 1 ? (v = i[0], l = l.replace("{class}", f.mime2class(v.mime)), w = g.itemTitle.replace("{name}", v.name).replace("{kind}", f.mime2kind(v)), v.tmb && (u = f.option("tmbUrl") + v.tmb), v.read ? v.mime != "directory" || v.alias ? t = f.formatSize(v.size) : (t = g.spinner.replace("{text}", e.calc), p.push(v.hash)) : t = e.unknown, k.push(h.replace(m, e.size).replace(n, t)), v.alias && k.push(h.replace(m, e.aliasfor).replace(n, v.alias)), k.push(h.replace(m, e.path).replace(n, f.escape(f.path(v.hash)))), v.read && k.push(h.replace(m, e.link).replace(n, '<a href="' + f.url(v.hash) + '" target="_blank">' + v.name + "</a>")), v.dim ? k.push(h.replace(m, e.dim).replace(n, v.dim)) : v.mime.indexOf("image") !== -1 && (v.width && v.height ? k.push(h.replace(m, e.dim).replace(n, v.width + "x" + v.height)) : (k.push(h.replace(m, e.dim).replace(n, g.spinner.replace("{text}", e.calc))), f.request({
			data: {
				cmd: "dim",
				target: v.hash
			},
			preventDefault: !0
		}).fail(function () {
			q(e.unknown)
		}).done(function (a) {
			q(a.dim || e.unknown)
		}))), k.push(h.replace(m, e.modify).replace(n, f.formatDate(v))), k.push(h.replace(m, e.perms).replace(n, f.formatPermissions(v))), k.push(h.replace(m, e.locked).replace(n, v.locked ? e.yes : e.no))) : (l = l.replace("{class}", "elfinder-cwd-icon-group"), w = g.groupTitle.replace("{items}", e.items).replace("{num}", j), x = a.map(i, function (a) {
	return a.mime == "directory" ? 1 : null
}).length, x ? (k.push(h.replace(m, e.kind).replace(n, x == j ? e.folders : e.folders + " " + x + ", " + e.files + " " + (j - x))), k.push(h.replace(m, e.size).replace(n, g.spinner.replace("{text}", e.calc))), p = a.map(i, function (a) {
	return a.hash
})) : (t = 0, a.each(i, function (a, b) {
	var c = parseInt(b.size);
	c >= 0 && t >= 0 ? t += c : t = "unknown"
}), k.push(h.replace(m, e.kind).replace(n, e.files)), k.push(h.replace(m, e.size).replace(n, f.formatSize(t))))),
		l = l.replace("{title}", w).replace("{content}", k.join("")),
		s = f.dialog(l, o),
		s.attr("id", r),
		u && a("<img/>").load(function () {
			s.find(".elfinder-cwd-icon").css("background", 'url("' + u + '") center center no-repeat')
		}).attr("src", u),
		p.length && f.request({
			data: {
				cmd: "size",
				targets: p
			},
			preventDefault: !0
		}).fail(function () {
			q(e.unknown)
		}).done(function (a) {
			var b = parseInt(a.size);
			f.log(a.size),
			q(b >= 0 ? f.formatSize(b) : e.unknown)
		})
	}
},
elFinder.prototype.commands.mkdir = function () {
	this.disableOnSearch = !0,
	this.updateOnSelect = !1,
	this.mime = "directory",
	this.prefix = "untitled folder",
	this.exec = a.proxy(this.fm.res("mixin", "make"), this),
	this.shortcuts = [{
		pattern: "ctrl+shift+n"
	}],
	this.getstate = function () {
		return !this._disabled && this.fm.cwd().write ? 0 : -1
	}
},
elFinder.prototype.commands.mkfile = function () {
	this.disableOnSearch = !0,
	this.updateOnSelect = !1,
	this.mime = "text/plain",
	this.prefix = "untitled file.txt",
	this.exec = a.proxy(this.fm.res("mixin", "make"), this),
	this.getstate = function () {
		return !this._disabled && this.fm.cwd().write ? 0 : -1
	}
},
elFinder.prototype.commands.open = function () {
	this.alwaysEnabled = !0,
	this._handlers = {
		dblclick: function (a) {
			a.preventDefault(),
			this.exec()
		},
		"select enable disable reload": function (a) {
			this.update(a.type == "disable" ? -1 : void 0)
		}
	},
	this.shortcuts = [{
		pattern: "ctrl+down numpad_enter" + (this.fm.OS != "mac" && " enter")
	}],
	this.getstate = function (b) {
		var b = this.files(b),
		c = b.length;
		return c == 1 ? 0 : c ? a.map(b, function (a) {
			return a.mime == "directory" ? null : a
		}).length == c ? 0 : -1 : -1
	},
	this.exec = function (b) {
		var c = this.fm,
		d = a.Deferred().fail(function (a) {
			a && c.error(a)
		}),
		e = this.files(b),
		f = e.length,
		g, h, i, j;
		if (!f) return d.reject();
		if (f == 1 && (g = e[0]) && g.mime == "directory") return g && !g.read ? d.reject(["errOpen", g.name, "errPerm"]) : c.request({
			data: {
				cmd: "open",
				target: g.thash || g.hash
			},
			notify: {
				type: "open",
				cnt: 1,
				hideCnt: !0
			},
			syncOnFail: !0
		});
			e = a.map(e, function (a) {
				return a.mime != "directory" ? a : null
			});
			if (f != e.length) return d.reject();
			f = e.length;
			while (f--) {
				g = e[f];
				if (!g.read) return d.reject(["errOpen", g.name, "errPerm"]);
				(h = c.url(g.hash)) || (h = c.options.url, h = h + (h.indexOf("?") === -1 ? "?" : "&") + (c.oldAPI ? "cmd=open&current=" + g.phash : "cmd=file") + "&target=" + g.hash),
				j = "",
				g.dim && (i = g.dim.split("x"), j = "width=" + (parseInt(i[0]) + 20) + ",height=" + (parseInt(i[1]) + 20));
				if (!window.open(h, "_blank", j + ",top=50,left=50,scrollbars=yes,resizable=yes")) return d.reject("errPopup")
			}
		return d.resolve(b)
	}
},
elFinder.prototype.commands.paste = function () {
	this.disableOnSearch = !0,
	this.updateOnSelect = !1,
	this.handlers = {
		changeclipboard: function () {
			this.update()
		}
	},
	this.shortcuts = [{
		pattern: "ctrl+v shift+insert"
	}],
	this.getstate = function (b) {
		if (this._disabled) return -1;
		if (b) {
			if (a.isArray(b)) {
				if (b.length != 1) return -1;
				b = this.fm.file(b[0])
			}
		} else b = this.fm.cwd();
		return this.fm.clipboard().length && b.mime == "directory" && b.write ? 0 : -1
	},
	this.exec = function (b) {
		var c = this,
		d = c.fm,
		b = b ? this.files(b)[0] : d.cwd(),
		e = d.clipboard(),
		f = e.length,
		g = f ? e[0].cut : !1,
		h = g ? "errMove" : "errCopy",
		i = [],
		j = [],
		k = a.Deferred().fail(function (a) {
			a && d.error(a)
		}),
		l = function (b) {
			return b.length && d._commands.duplicate ? d.exec("duplicate", b) : a.Deferred().resolve()
		},
		m = function (e) {
			var f = a.Deferred(),
			h = [],
			i = function (b, c) {
				var d = [],
				e = b.length;
				while (e--) a.inArray(b[e].name, c) !== -1 && d.unshift(e);
				return d
			},
			j = function (a) {
				var b = h[a],
				c = e[b],
				i = a == h.length - 1;
				if (!c) return;
				d.confirm({
					title: d.i18n(g ? "moveFiles" : "copyFiles"),
					text: d.i18n(["errExists", c.name, "confirmRepl"]),
					all: !i,
					accept: {
						label: "btnYes",
						callback: function (b) {
							!i && !b ? j(++a) : l(e)
						}
					},
					reject: {
						label: "btnNo",
						callback: function (b) {
							var c;
							if (b) {
								c = h.length;
								while (a < c--) e[h[c]].remove = !0
							} else e[h[a]].remove = !0;
						!i && !b ? j(++a) : l(e)
					}
				},
				cancel: {
					label: "btnCancel",
					callback: function () {
						f.resolve()
					}
				}
			})
			},
			k = function (a) {
				h = i(e, a),
				h.length ? j(0) : l(e)
			},
			l = function (c) {
				var c = a.map(c, function (a) {
					return a.remove ? null : a
				}),
				e = c.length,
				h = {},
				i = [],
				j;
				if (!e) return f.resolve();
				j = c[0].phash,
				c = a.map(c, function (a) {
					return a.hash
				}),
				d.request({
					data: {
						cmd: "paste",
						dst: b.hash,
						targets: c,
						cut: g ? 1 : 0,
						src: j
					},
					notify: {
						type: g ? "move" : "copy",
						cnt: e
					}
				}).always(function () {
					d.unlockfiles({
						files: c
					})
				})
			};
			return c._disabled || !e.length ? f.resolve() : (d.oldAPI ? l(e) : d.option("copyOverwrite") ? b.hash == d.cwd().hash ? k(a.map(d.files(), function (a) {
				return a.phash == b.hash ? a.name : null
			})) : d.request({
				data: {
					cmd: "ls",
					target: b.hash
				},
				notify: {
					type: "prepare",
					cnt: 1,
					hideCnt: !0
				},
				preventFail: !0
			}).always(function (a) {
				k(a.list || [])
			}) : l(e), f)
		},
		n, o;
		return !f || !b || b.mime != "directory" ? k.reject() : b.write ? (n = d.parents(b.hash), a.each(e, function (c, f) {
			if (!f.read) return !k.reject([h, e[0].name, "errPerm"]);
			if (g && f.locked) return !k.reject(["errLocked", f.name]);
			if (a.inArray(f.hash, n) !== -1) return !k.reject(["errCopyInItself", f.name]);
			o = d.parents(f.hash);
			if (a.inArray(b.hash, o) !== -1 && a.map(o, function (a) {
				var c = d.file(a);
				return c.phash == b.hash && c.name == f.name ? c : null
			}).length) return !k.reject(["errReplByChild", f.name]);
				f.phash == b.hash ? j.push(f.hash) : i.push({
					hash: f.hash,
					phash: f.phash,
					name: f.name
				})
			}), k.isRejected() ? k : a.when(l(j), m(i)).always(function () {
				g && d.clipboard([])
			})) : k.reject([h, e[0].name, "errPerm"])
	}
},
elFinder.prototype.commands.quicklook = function () {
	var b = this,
	c = b.fm,
	d = 0,
	e = 1,
	f = 2,
	g = d,
	h = "elfinder-quicklook-navbar-icon",
	i = "elfinder-quicklook-fullscreen",
	j = function (b) {
		a(document).trigger(a.Event("keydown", {
			keyCode: b,
			ctrlKey: !1,
			shiftKey: !1,
			altKey: !1,
			metaKey: !1
		}))
	},
	k = function (a) {
		return {
			opacity: 0,
			width: 20,
			height: c.view == "list" ? 1 : 20,
			top: a.offset().top + "px",
			left: a.offset().left + "px"
		}
	},
	l = function () {
		var b = a(window);
		return {
			opacity: 1,
			width: n,
			height: o,
			top: parseInt((b.height() - o) / 2 + b.scrollTop()),
			left: parseInt((b.width() - n) / 2 + b.scrollLeft())
		}
	},
	m = function (a) {
		var b = document.createElement(a.substr(0, a.indexOf("/"))),
		c = b.canPlayType && b.canPlayType(a);
		return c && c !== "" && c != "no"
	},
	n, o, p, q, r = a('<div class="elfinder-quicklook-title"/>'),
	s = a("<div/>"),
	t = a('<div class="elfinder-quicklook-info"/>'),
	u = a('<div class="' + h + " " + h + '-fullscreen"/>').mousedown(function (d) {
		var e = b.window,
		f = e.is("." + i),
		g = "scroll." + c.namespace,
		j = a(window);
		d.stopPropagation(),
		f ? (e.css(e.data("position")).unbind("mousemove"), j.unbind(g).trigger(b.resize).unbind(b.resize), v.unbind("mouseenter").unbind("mousemove")) : (e.data("position", {
			left: e.css("left"),
			top: e.css("top"),
			width: e.width(),
			height: e.height()
		}).css({
			width: "100%",
			height: "100%"
		}), a(window).bind(g, function () {
			e.css({
				left: parseInt(a(window).scrollLeft()) + "px",
				top: parseInt(a(window).scrollTop()) + "px"
			})
		}).bind(b.resize, function (a) {
			b.preview.trigger("changesize")
		}).trigger(g).trigger(b.resize), e.bind("mousemove", function (a) {
			v.stop(!0, !0).show().delay(3e3).fadeOut("slow")
		}).mousemove(), v.mouseenter(function () {
			v.stop(!0, !0).show()
		}).mousemove(function (a) {
			a.stopPropagation()
		})),
		v.attr("style", "").draggable(f ? "destroy" : {}),
		e.toggleClass(i),
		a(this).toggleClass(h + "-fullscreen-off"),
		a.fn.resizable && p.add(e).resizable(f ? "enable" : "disable").removeClass("ui-state-disabled")
	}),
v = a('<div class="elfinder-quicklook-navbar"/>').append(a('<div class="' + h + " " + h + '-prev"/>').mousedown(function () {
	j(37)
})).append(u).append(a('<div class="' + h + " " + h + '-next"/>').mousedown(function () {
	j(39)
})).append('<div class="elfinder-quicklook-navbar-separator"/>').append(a('<div class="' + h + " " + h + '-close"/>').mousedown(function () {
	b.window.trigger("close")
}));
this.resize = "resize." + c.namespace,
this.info = a('<div class="elfinder-quicklook-info-wrapper"/>').append(s).append(t),
this.preview = a('<div class="elfinder-quicklook-preview ui-helper-clearfix"/>').bind("change", function (a) {
	b.info.attr("style", "").hide(),
	s.removeAttr("class").attr("style", ""),
	t.html("")
}).bind("update", function (c) {
	var d = b.fm,
	e = b.preview,
	f = c.file,
	g = '<div class="elfinder-quicklook-info-data">{value}</div>',
	h;
	f ? (!f.read && c.stopImmediatePropagation(), b.window.data("hash", f.hash), b.preview.unbind("changesize").trigger("change").children().remove(), r.html(d.escape(f.name)), t.html(g.replace(/\{value\}/, f.name) + g.replace(/\{value\}/, d.mime2kind(f)) + (f.mime == "directory" ? "" : g.replace(/\{value\}/, d.formatSize(f.size))) + g.replace(/\{value\}/, d.i18n("modify") + ": " + d.formatDate(f.date))), s.addClass("elfinder-cwd-icon ui-corner-all " + d.mime2class(f.mime)), f.tmb && a("<img/>").hide().appendTo(b.preview).load(function () {
		s.css("background", 'url("' + h + '") center center no-repeat'),
		a(this).remove()
	}).attr("src", h = d.tmb(f.hash)), b.info.delay(100).fadeIn(10)) : c.stopImmediatePropagation()
}),
this.window = a('<div class="ui-helper-reset ui-widget elfinder-quicklook" style="position:absolute"/>').click(function (a) {
	a.stopPropagation()
}).append(a('<div class="elfinder-quicklook-titlebar"/>').append(r).append(a('<span class="ui-icon ui-icon-circle-close"/>').mousedown(function (a) {
	a.stopPropagation(),
	b.window.trigger("close")
}))).append(this.preview.add(v)).append(b.info.hide()).draggable({
	handle: "div.elfinder-quicklook-titlebar"
}).bind("open", function (a) {
	var c = b.window,
	d = b.value,
	h;
	b.closed() && d && (h = q.find("#" + d.hash)).length && (g = e, h.trigger("scrolltoview"), c.css(k(h)).show().animate(l(), 550, function () {
		g = f,
		b.update(1, b.value)
	}))
}).bind("close", function (a) {
	var c = b.window,
	f = b.preview.trigger("change"),
	h = b.value,
	j = q.find("#" + c.data("hash")),
	l = function () {
		g = d,
		c.hide(),
		f.children().remove(),
		b.update(0, b.value)
	};
	b.opened() && (g = e, c.is("." + i) && u.mousedown(), j.length ? c.animate(k(j), 500, l) : l())
}),
this.alwaysEnabled = !0,
this.value = null,
this.handlers = {
	select: function () {
		this.update(void 0, this.fm.selectedFiles()[0])
	},
	error: function () {
		b.window.is(":visible") && b.window.data("hash", "").trigger("close")
	},
	"searchshow searchhide": function () {
		this.opened() && this.window.trigger("close")
	}
},
this.shortcuts = [{
	pattern: "space"
}],
this.support = {
	audio: {
		ogg: m('audio/ogg; codecs="vorbis"'),
		mp3: m("audio/mpeg;"),
		wav: m('audio/wav; codecs="1"'),
		m4a: m("audio/x-m4a;") || m("audio/aac;")
	},
	video: {
		ogg: m('video/ogg; codecs="theora"'),
		webm: m('video/webm; codecs="vp8, vorbis"'),
		mp4: m('video/mp4; codecs="avc1.42E01E"') || m('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')
	}
},
this.closed = function () {
	return g == d
},
this.opened = function () {
	return g == f
},
this.init = function () {
	var d = this.options,
	e = this.window,
	f = this.preview,
	g, h;
	n = d.width > 0 ? parseInt(d.width) : 450,
	o = d.height > 0 ? parseInt(d.height) : 300,
	c.one("load", function () {
		p = c.getUI(),
		q = c.getUI("cwd"),
		e.appendTo("body").zIndex(100 + p.zIndex()),
		a(document).keydown(function (a) {
			a.keyCode == 27 && b.opened() && e.trigger("close")
		}),
		a.fn.resizable && e.resizable({
			handles: "se",
			minWidth: 350,
			minHeight: 120,
			resize: function () {
				f.trigger("changesize")
			}
		}),
		b.change(function () {
			b.opened() && (b.value ? f.trigger(a.Event("update", {
				file: b.value
			})) : e.trigger("close"))
		}),
		a.each(c.commands.quicklook.plugins || [], function (a, c) {
			typeof c == "function" && new c(b)
		}),
		f.bind("update", function () {
			b.info.show()
		})
	})
},
this.getstate = function () {
	return this.fm.selected().length == 1 ? g == f ? 1 : 0 : -1
},
this.exec = function () {
	this.enabled() && this.window.trigger(this.opened() ? "close" : "open")
},
this.hideinfo = function () {
	this.info.stop(!0).hide()
}
},
elFinder.prototype.commands.quicklook.plugins = [function (b) {
	var c = ["image/jpeg", "image/png", "image/gif"],
	d = b.preview;
	a.each(navigator.mimeTypes, function (b, d) {
		var e = d.type;
		e.indexOf("image/") === 0 && a.inArray(e, c) && c.push(e)
	}),
	d.bind("update", function (e) {
		var f = e.file,
		g;
		a.inArray(f.mime, c) !== -1 && (e.stopImmediatePropagation(), g = a("<img/>").hide().appendTo(d).load(function () {
			setTimeout(function () {
				var a = (g.width() / g.height()).toFixed(2);
				d.bind("changesize", function () {
					var b = parseInt(d.width()),
					c = parseInt(d.height()),
					e, f;
					a < (b / c).toFixed(2) ? (f = c, e = Math.floor(f * a)) : (e = b, f = Math.floor(e / a)),
					g.width(e).height(f).css("margin-top", f < c ? Math.floor((c - f) / 2) : 0)
				}).trigger("changesize"),
				b.hideinfo(),
				g.fadeIn(100)
			}, 1)
		}).attr("src", b.fm.url(f.hash)))
	})
},


function (b) {
	var c = ["text/html", "application/xhtml+xml"],
	d = b.preview,
	e = b.fm;
	d.bind("update", function (f) {
		var g = f.file,
		h;
		a.inArray(g.mime, c) !== -1 && (f.stopImmediatePropagation(), d.one("change", function () {
			!h.isResolved() && !h.isRejected() && h.reject()
		}), h = e.request({
			data: {
				cmd: "get",
				target: g.hash,
				current: g.phash
			},
			preventDefault: !0
		}).done(function (c) {
			b.hideinfo(),
			doc = a('<iframe class="elfinder-quicklook-preview-html"/>').appendTo(d)[0].contentWindow.document,
			doc.open(),
			doc.write(c.content),
			doc.close()
		}))
	})
},


function (b) {
	var c = b.fm,
	d = c.res("mimes", "text"),
	e = b.preview;
	e.bind("update", function (f) {
		var g = f.file,
		h = g.mime,
		i;
		if (h.indexOf("text/") === 0 || a.inArray(h, d) !== -1) f.stopImmediatePropagation(),
			e.one("change", function () {
				!i.isResolved() && !i.isRejected() && i.reject()
			}),
		i = c.request({
			data: {
				cmd: "get",
				target: g.hash
			},
			preventDefault: !0
		}).done(function (d) {
			b.hideinfo(),
			a('<div class="elfinder-quicklook-preview-text-wrapper"><pre class="elfinder-quicklook-preview-text">' + c.escape(d.content) + "</pre></div>").appendTo(e)
		})
	})
},


function (b) {
	var c = b.fm,
	d = "application/pdf",
	e = b.preview,
	f = !1;
	a.browser.safari && navigator.platform.indexOf("Mac") != -1 || a.browser.msie ? f = !0 : a.each(navigator.plugins, function (b, c) {
		a.each(c, function (a, b) {
			if (b.type == d) return !(f = !0)
		})
	}),
	f && e.bind("update", function (f) {
		var g = f.file,
		h;
		g.mime == d && (f.stopImmediatePropagation(), e.one("change", function () {
			h.unbind("load").remove()
		}), h = a('<iframe class="elfinder-quicklook-preview-pdf"/>').hide().appendTo(e).load(function () {
			b.hideinfo(),
			h.show()
		}).attr("src", c.url(g.hash)))
	})
},


function (b) {
	var c = b.fm,
	d = "application/x-shockwave-flash",
	e = b.preview,
	f = !1;
	a.each(navigator.plugins, function (b, c) {
		a.each(c, function (a, b) {
			if (b.type == d) return !(f = !0)
		})
	}),
	f && e.bind("update", function (f) {
		var g = f.file,
		h;
		g.mime == d && (f.stopImmediatePropagation(), b.hideinfo(), e.append(h = a('<embed class="elfinder-quicklook-preview-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="' + c.url(g.hash) + '" quality="high" type="application/x-shockwave-flash" />')))
	})
},


function (b) {
	var c = b.preview,
	d = !! b.options.autoplay,
	e = {
		"audio/mpeg": "mp3",
		"audio/mpeg3": "mp3",
		"audio/mp3": "mp3",
		"audio/x-mpeg3": "mp3",
		"audio/x-mp3": "mp3",
		"audio/x-wav": "wav",
		"audio/wav": "wav",
		"audio/x-m4a": "m4a",
		"audio/aac": "m4a",
		"audio/mp4": "m4a",
		"audio/x-mp4": "m4a",
		"audio/ogg": "ogg"
	},
	f;
	c.bind("update", function (g) {
		var h = g.file,
		i = e[h.mime];
		b.support.audio[i] && (g.stopImmediatePropagation(), f = a('<audio class="elfinder-quicklook-preview-audio" controls preload="auto" autobuffer><source src="' + b.fm.url(h.hash) + '" /></audio>').appendTo(c), d && f[0].play())
	}).bind("change", function () {
		f && f.parent().length && (f[0].pause(), f.remove(), f = null)
	})
},


function (b) {
	var c = b.preview,
	d = !! b.options.autoplay,
	e = {
		"video/mp4": "mp4",
		"video/x-m4v": "mp4",
		"video/ogg": "ogg",
		"application/ogg": "ogg",
		"video/webm": "webm"
	},
	f;
	c.bind("update", function (g) {
		var h = g.file,
		i = e[h.mime];
	    //MY CUSTOM CODE
	    c.append('<div id="mediaplayer"></div>');
	     jwplayer("mediaplayer").setup({
         'flashplayer':b.fm.options.swfPlayer,
         'file': b.fm.url(h.hash),
         'height': $(window).height(),
         'autostart':true,
         'width': $(window).width()
      });
		//END MY CUSTOM CODE

		//b.support.video[i] && (g.stopImmediatePropagation(), b.hideinfo(), f = a('<video class="elfinder-quicklook-preview-video" controls preload="auto" autobuffer><source src="' + b.fm.url(h.hash) + '" /></video>').appendTo(c), d && f[0].play())
	}).bind("change", function () {
		f && f.parent().length && (f[0].pause(), f.remove(), f = null)
	})
},


function (b) {
	var c = b.preview,
	d = [],
	e;
	a.each(navigator.plugins, function (b, c) {
		a.each(c, function (a, b) {
			(b.type.indexOf("audio/") === 0 || b.type.indexOf("video/") === 0) && d.push(b.type)
		})
	}),
	c.bind("update", function (f) {
		var g = f.file,
		h = g.mime,
		i;
		a.inArray(g.mime, d) !== -1 && (f.stopImmediatePropagation(), (i = h.indexOf("video/") === 0) && b.hideinfo(), e = a('<embed src="' + b.fm.url(g.hash) + '" type="' + h + '" class="elfinder-quicklook-preview-' + (i ? "video" : "audio") + '"/>').appendTo(c))
	}).bind("change", function () {
		e && e.parent().length && (e.remove(), e = null)
	})
}],
elFinder.prototype.commands.reload = function () {
	this.alwaysEnabled = !0,
	this.updateOnSelect = !0,
	this.shortcuts = [{
		pattern: "ctrl+shift+r f5"
	}],
	this.getstate = function () {
		return 0
	},
	this.exec = function () {
		var a = this.fm,
		b = a.sync(),
		c = setTimeout(function () {
			a.notify({
				type: "reload",
				cnt: 1,
				hideCnt: !0
			}),
			b.always(function () {
				a.notify({
					type: "reload",
					cnt: -1
				})
			})
		}, a.notifyDelay);
		return b.always(function () {
			clearTimeout(c),
			a.trigger("reload")
		})
	}
},
elFinder.prototype.commands.rename = function () {
	this.shortcuts = [{
		pattern: "f2" + (this.fm.OS == "mac" ? " enter" : "")
	}],
	this.getstate = function () {
		var a = this.fm.selectedFiles();
		return !this._disabled && a.length == 1 && a[0].phash && !a[0].locked ? 0 : -1
	},
	this.exec = function () {
		var b = this.fm,
		c = b.getUI("cwd"),
		d = b.selected(),
		e = d.length,
		f = b.file(d.shift()),
		g = ".elfinder-cwd-filename",
		h = a.Deferred().fail(function (a) {
			var d = i.parent(),
			e = b.escape(f.name);
			d.length ? (i.remove(), d.html(e)) : (c.find("#" + f.hash).find(g).html(e), setTimeout(function () {
				c.find("#" + f.hash).click()
			}, 50)),
			a && b.error(a)
		}).always(function () {
			b.enable()
		}),
		i = a('<input type="text"/>').keydown(function (b) {
			b.stopPropagation(),
			b.stopImmediatePropagation(),
			b.keyCode == a.ui.keyCode.ESCAPE ? h.reject() : b.keyCode == a.ui.keyCode.ENTER && i.blur()
		}).mousedown(function (a) {
			a.stopPropagation()
		}).dblclick(function (a) {
			a.stopPropagation(),
			a.preventDefault()
		}).blur(function () {
			var c = a.trim(i.val()),
			d = i.parent();
			if (d.length) {
				i[0].setSelectionRange && i[0].setSelectionRange(0, 0);
				if (c == f.name) return h.reject();
				if (!c) return h.reject("errInvName");
				if (b.fileByName(c, f.phash)) return h.reject(["errExists", c]);
				d.html(b.escape(c)),
				b.lockfiles({
					files: [f.hash]
				}),
				b.request({
					data: {
						cmd: "rename",
						target: f.hash,
						name: c
					},
					notify: {
						type: "rename",
						cnt: 1
					}
				}).fail(function (a) {
					h.reject(),
					b.sync()
				}).done(function (a) {
					h.resolve(a)
				}).always(function () {
					b.unlockfiles({
						files: [f.hash]
					})
				})
			}
		}),
		j = c.find("#" + f.hash).find(g).empty().append(i.val(f.name)),
		k = i.val().replace(/\.((tar\.(gz|bz|bz2|z|lzo))|cpio\.gz|ps\.gz|xcf\.(gz|bz2)|[a-z0-9]{1,4})$/ig, "");
		return this.disabled() ? h.reject() : !f || e > 1 || !j.length ? h.reject("errCmdParams", this.title) : f.locked ? h.reject(["errLocked", f.name]) : (b.one("select", function () {
			i.parent().length && f && a.inArray(f.hash, b.selected()) === -1 && i.blur()
		}), i.select().focus(), i[0].setSelectionRange && i[0].setSelectionRange(0, k.length), h)
	}
},
elFinder.prototype.commands.resize = function () {
	this.updateOnSelect = !1,
	this.getstate = function () {
		var a = this.fm.selectedFiles();
		return !this._disabled && a.length == 1 && a[0].read && a[0].write && a[0].mime.indexOf("image/") !== -1 ? 0 : -1
	},
	this.exec = function (b) {
		var c = this.fm,
		d = this.files(b),
		e = a.Deferred(),
		f = function (b, d) {
			var f = a('<div class="elfinder-dialog-resize"/>'),
			g = '<input type="text" size="5"/>',
			h = '<div class="elfinder-resize-row"/>',
			i = '<div class="elfinder-resize-label"/>',
			j = a('<div class="elfinder-resize-control"/>'),
			k = a('<div class="elfinder-resize-preview"/>'),
			l = a('<div class="elfinder-resize-spinner">' + c.i18n("ntfloadimg") + "</div>"),
			m = a('<div class="elfinder-resize-handle"/>'),
			n = a('<div class="elfinder-resize-handle"/>'),
			o = a('<div class="elfinder-resize-uiresize"/>'),
			p = a('<div class="elfinder-resize-uicrop"/>'),
			q = '<div class="ui-widget-content ui-corner-all elfinder-buttonset"/>',
			r = '<div class="ui-state-default elfinder-button"/>',
			s = '<span class="ui-widget-content elfinder-toolbar-button-separator"/>',
			t = a('<div class="elfinder-resize-rotate"/>'),
			u = a(r).attr("title", c.i18n("rotate-cw")).append(a('<span class="elfinder-button-icon elfinder-button-icon-rotate-l"/>').click(function () {
				S -= 90,
				ab.update(S)
			})),
			v = a(r).attr("title", c.i18n("rotate-ccw")).append(a('<span class="elfinder-button-icon elfinder-button-icon-rotate-r"/>').click(function () {
				S += 90,
				ab.update(S)
			})),
			w = a("<span />"),
			x = a('<div class="ui-state-default ui-corner-all elfinder-resize-reset"><span class="ui-icon ui-icon-arrowreturnthick-1-w"/></div>'),
			y = a('<div class="elfinder-resize-type"/>').append('<input type="radio" name="type" id="type-resize" value="resize" checked="checked" /><label for="type-resize">' + c.i18n("resize") + "</label>").append('<input type="radio" name="type" id="type-crop"   value="crop"/><label for="type-crop">' + c.i18n("crop") + "</label>").append('<input type="radio" name="type" id="type-rotate" value="rotate"/><label for="type-rotate">' + c.i18n("rotate") + "</label>"),
			z = a("input", y).change(function () {
				var b = a("input:checked", y).val();
				Y(),
				bb(!0),
				cb(!0),
				db(!0),
				b == "resize" ? (o.show(), t.hide(), p.hide(), bb()) : b == "crop" ? (t.hide(), o.hide(), p.show(), cb()) : b == "rotate" && (o.hide(), p.hide(), t.show(), db())
			}),
			A = a('<input type="checkbox" checked="checked"/>').change(function () {
				N = !! A.prop("checked"),
				Z.fixHeight(),
				bb(!0),
				bb()
			}),
			B = a(g).change(function () {
				var a = parseInt(B.val()),
				b = parseInt(N ? a / J : C.val());
				a > 0 && b > 0 && (Z.updateView(a, b), C.val(b))
			}),
			C = a(g).change(function () {
				var a = parseInt(C.val()),
				b = parseInt(N ? a * J : B.val());
				b > 0 && a > 0 && (Z.updateView(b, a), B.val(b))
			}),
			D = a(g),
			E = a(g),
			F = a(g),
			G = a(g),
			H = a('<input type="text" size="3" maxlength="3" value="0" />').change(function () {
				ab.update()
			}),
			I = a('<div class="elfinder-resize-rotate-slider"/>').slider({
				min: 0,
				max: 359,
				value: H.val(),
				animate: !0,
				change: function (a, b) {
					b.value != I.slider("value") && ab.update(b.value)
				},
				slide: function (a, b) {
					ab.update(b.value, !1)
				}
			}),
			J = 1,
			K = 1,
			L = 0,
			M = 0,
			N = !0,
			O = 0,
			P = 0,
			Q = 0,
			R = 0,
			S = 0,
			T = a("<img/>").load(function () {
				l.remove(),
				L = T.width(),
				M = T.height(),
				J = L / M,
				Z.updateView(L, M),
				m.append(T.show()).show(),
				B.val(L),
				C.val(M);
				var b = Math.min(O, P) / Math.sqrt(Math.pow(L, 2) + Math.pow(M, 2));
				Q = L * b,
				R = M * b,
				j.find("input,select").removeAttr("disabled").filter(":text").keydown(function (b) {
					var c = b.keyCode,
					d;
					b.stopPropagation();
					if (c >= 37 && c <= 40 || c == a.ui.keyCode.BACKSPACE || c == a.ui.keyCode.DELETE || c == 65 && (b.ctrlKey || b.metaKey) || c == 27) return;
					c == 9 && (d = a(this).parent()[b.shiftKey ? "prev" : "next"](".elfinder-resize-row").children(":text"), d.length && d.focus());
					if (c == 13) {
						eb();
						return
					}(c < 48 || c > 57) && b.preventDefault()
				}).filter(":first").focus(),
				bb(),
				x.hover(function () {
					x.toggleClass("ui-state-hover")
				}).click(Y)
			}).error(function () {
				l.text("Unable to load image").css("background", "transparent")
			}),
			U = a("<div/>"),
			V = a("<img/>"),
			W = a("<div/>"),
			X = a("<img/>"),
			Y = function () {
				B.val(L),
				C.val(M),
				Z.updateView(L, M)
			},
			Z = {
				update: function () {
					B.val(parseInt(T.width() / K)),
					C.val(parseInt(T.height() / K))
				},
				updateView: function (a, b) {
					a > O || b > P ? a / O > b / P ? T.width(O).height(Math.ceil(T.width() / J)) : T.height(P).width(Math.ceil(T.height() * J)) : T.width(a).height(b),
					K = T.width() / a,
					w.text("1 : " + (1 / K).toFixed(2)),
					Z.updateHandle()
				},
				updateHandle: function () {
					m.width(T.width()).height(T.height())
				},
				fixWidth: function () {
					var a, b;
					N && (b = C.val(), b = parseInt(b * J), Z.updateView(a, b), B.val(a))
				},
				fixHeight: function () {
					var a, b;
					N && (a = B.val(), b = parseInt(a / J), Z.updateView(a, b), C.val(b))
				}
			},
			_ = {
				update: function () {
					F.val(parseInt(n.width() / K)),
					G.val(parseInt(n.height() / K)),
					D.val(parseInt((n.offset().left - V.offset().left) / K)),
					E.val(parseInt((n.offset().top - V.offset().top) / K))
				},
				resize_update: function () {
					_.update(),
					W.width(n.width()),
					W.height(n.height())
				}
			},
			ab = {
				mouseStartAngle: 0,
				imageStartAngle: 0,
				imageBeingRotated: !1,
				update: function (b, c) {
					typeof b == "undefined" && (S = b = parseInt(H.val())),
					typeof c == "undefined" && (c = !0),
					!c || a.browser.opera || a.browser.msie && parseInt(a.browser.version) < 9 ? X.rotate(b) : X.animate({
						rotate: b + "deg"
					}),
					b %= 360,
					b < 0 && (b += 360),
					H.val(parseInt(b)),
					I.slider("value", H.val())
				},
				execute: function (a) {
					if (!ab.imageBeingRotated) return;
					var b = ab.getCenter(X),
					c = a.pageX - b[0],
					d = a.pageY - b[1],
					e = Math.atan2(d, c),
					f = e - ab.mouseStartAngle + ab.imageStartAngle;
					return f = Math.round(parseFloat(f) * 180 / Math.PI),
					a.shiftKey && (f = Math.round((f + 6) / 15) * 15),
					X.rotate(f),
					f %= 360,
					f < 0 && (f += 360),
					H.val(f),
					I.slider("value", H.val()),
					!1
				},
				start: function (b) {
					ab.imageBeingRotated = !0;
					var c = ab.getCenter(X),
					d = b.pageX - c[0],
					e = b.pageY - c[1];
					return ab.mouseStartAngle = Math.atan2(e, d),
					ab.imageStartAngle = parseFloat(X.rotate()) * Math.PI / 180,
					a(document).mousemove(ab.execute),
					!1
				},
				stop: function (b) {
					if (!ab.imageBeingRotated) return;
					return a(document).unbind("mousemove", ab.execute),
					setTimeout(function () {
						ab.imageBeingRotated = !1
					}, 10),
					!1
				},
				getCenter: function (a) {
					var b = X.rotate();
					X.rotate(0);
					var c = X.offset(),
					d = c.left + X.width() / 2,
					e = c.top + X.height() / 2;
					return X.rotate(b),
					Array(d, e)
				}
			},
			bb = function (b) {
				a.fn.resizable && (b ? (m.resizable("destroy"), m.hide()) : (m.show(), m.resizable({
					alsoResize: T,
					aspectRatio: N,
					resize: Z.update,
					stop: Z.fixHeight
				})))
			},
			cb = function (b) {
				a.fn.draggable && a.fn.resizable && (b ? (n.resizable("destroy"), n.draggable("destroy"), U.hide()) : (V.width(T.width()).height(T.height()), W.width(T.width()).height(T.height()), n.width(V.width()).height(V.height()).offset(V.offset()).resizable({
					containment: U,
					resize: _.resize_update,
					handles: "all"
				}).draggable({
					handle: n,
					containment: V,
					drag: _.update
				}), U.show().width(T.width()).height(T.height()), _.update()))
			},
			db = function (b) {
				a.fn.draggable && a.fn.resizable && (b ? X.hide() : X.show().width(Q).height(R).css("margin-top", (P - R) / 2 + "px").css("margin-left", (O - Q) / 2 + "px"))
			},
			eb = function () {
				var d, g, h, i, j, k = a("input:checked", y).val();
				B.add(C).change();
				if (k == "resize") d = parseInt(B.val()) || 0,
					g = parseInt(C.val()) || 0;
				else if (k == "crop") d = parseInt(F.val()) || 0,
					g = parseInt(G.val()) || 0,
				h = parseInt(D.val()) || 0,
				i = parseInt(E.val()) || 0;
				else if (k = "rotate") {
					d = L,
					g = M,
					j = parseInt(H.val()) || 0;
					if (j < 0 || j > 360) return c.error("Invalid rotate degree");
					if (j == 0 || j == 360) return c.error("Image dose not rotated")
				}
			if (k != "rotate") {
				if (d <= 0 || g <= 0) return c.error("Invalid image size");
				if (d == L && g == M) return c.error("Image size not changed")
			}
		f.elfinderdialog("close"),
		c.request({
			data: {
				cmd: "resize",
				target: b.hash,
				width: d,
				height: g,
				x: h,
				y: i,
				degree: j,
				mode: k
			},
			notify: {
				type: "resize",
				cnt: 1
			}
		}).fail(function (a) {
			e.reject(a)
		}).done(function () {
			e.resolve()
		})
	},
	fb = {},
	gb = "elfinder-resize-handle-hline",
	hb = "elfinder-resize-handle-vline",
	ib = "elfinder-resize-handle-point",
	jb = c.url(b.hash);
	X.mousedown(ab.start),
	a(document).mouseup(ab.stop),
	o.append(a(h).append(a(i).text(c.i18n("width"))).append(B).append(x)).append(a(h).append(a(i).text(c.i18n("height"))).append(C)).append(a(h).append(a("<label/>").text(c.i18n("aspectRatio")).prepend(A))).append(a(h).append(c.i18n("scale") + " ").append(w)),
	p.append(a(h).append(a(i).text("X")).append(D)).append(a(h).append(a(i).text("Y")).append(E)).append(a(h).append(a(i).text(c.i18n("width"))).append(F)).append(a(h).append(a(i).text(c.i18n("height"))).append(G)),
	t.append(a(h).append(a(i).text(c.i18n("rotate"))).append(a('<div style="float:left; width: 130px;">').append(a('<div style="float:left;">').append(H).append(a("<span/>").text(c.i18n("degree")))).append(a(q).append(u).append(a(s)).append(v))).append(I)),
	f.append(y),
	j.append(a(h)).append(o).append(p.hide()).append(t.hide()).find("input,select").attr("disabled", "disabled"),
	m.append('<div class="' + gb + " " + gb + '-top"/>').append('<div class="' + gb + " " + gb + '-bottom"/>').append('<div class="' + hb + " " + hb + '-left"/>').append('<div class="' + hb + " " + hb + '-right"/>').append('<div class="' + ib + " " + ib + '-e"/>').append('<div class="' + ib + " " + ib + '-se"/>').append('<div class="' + ib + " " + ib + '-s"/>'),
	k.append(l).append(m.hide()).append(T.hide()),
	n.css("position", "absolute").append('<div class="' + gb + " " + gb + '-top"/>').append('<div class="' + gb + " " + gb + '-bottom"/>').append('<div class="' + hb + " " + hb + '-left"/>').append('<div class="' + hb + " " + hb + '-right"/>').append('<div class="' + ib + " " + ib + '-n"/>').append('<div class="' + ib + " " + ib + '-e"/>').append('<div class="' + ib + " " + ib + '-s"/>').append('<div class="' + ib + " " + ib + '-w"/>').append('<div class="' + ib + " " + ib + '-ne"/>').append('<div class="' + ib + " " + ib + '-se"/>').append('<div class="' + ib + " " + ib + '-sw"/>').append('<div class="' + ib + " " + ib + '-nw"/>'),
	k.append(U.css("position", "absolute").hide().append(V).append(n.append(W))),
	k.append(X.hide()),
	k.css("overflow", "hidden"),
	f.append(k).append(j),
	fb[c.i18n("btnCancel")] = function () {
		f.elfinderdialog("close")
	},
	fb[c.i18n("btnApply")] = eb,
	c.dialog(f, {
		title: b.name,
		width: 650,
		resizable: !1,
		destroyOnClose: !0,
		buttons: fb,
		open: function () {
			k.zIndex(1 + a(this).parent().zIndex())
		}
	}).attr("id", d),
	a.browser.msie && parseInt(a.browser.version) < 9 && a(".elfinder-dialog").css("filter", ""),
	x.css("left", B.position().left + B.width() + 12),
	W.css({
		opacity: .2,
		"background-color": "#fff",
		position: "absolute"
	}),
	n.css("cursor", "move"),
	n.find(".elfinder-resize-handle-point").css({
		"background-color": "#fff",
		opacity: .5,
		"border-color": "#000"
	}),
	X.css("cursor", "pointer"),
	y.buttonset(),
	O = k.width() - (m.outerWidth() - m.width()),
	P = k.height() - (m.outerHeight() - m.height()),
	T.attr("src", jb + (jb.indexOf("?") === -1 ? "?" : "&") + "_=" + Math.random()),
	V.attr("src", T.attr("src")),
	X.attr("src", T.attr("src"))
},
g, h;
return !d.length || d[0].mime.indexOf("image/") === -1 ? e.reject() : (g = "resize-" + c.namespace + "-" + d[0].hash, h = c.getUI().find("#" + g), h.length ? (h.elfinderdialog("toTop"), e.resolve()) : (f(d[0], g), e))
}
},


function (a) {
	var b = function (a, b) {
		var c = 0;
		for (c in b) if (typeof a[b[c]] != "undefined") return b[c];
			return a[b[c]] = "",
		b[c]
	};
	a.cssHooks.rotate = {
		get: function (b, c, d) {
			return a(b).rotate()
		},
		set: function (b, c) {
			return a(b).rotate(c),
			c
		}
	},
	a.cssHooks.transform = {
		get: function (a, c, d) {
			var e = b(a.style, ["WebkitTransform", "MozTransform", "OTransform", "msTransform", "transform"]);
			return a.style[e]
		},
		set: function (a, c) {
			var d = b(a.style, ["WebkitTransform", "MozTransform", "OTransform", "msTransform", "transform"]);
			return a.style[d] = c,
			c
		}
	},
	a.fn.rotate = function (b) {
		if (typeof b == "undefined") {
			if (a.browser.opera) {
				var c = this.css("transform").match(/rotate\((.*?)\)/);
				return c && c[1] ? Math.round(parseFloat(c[1]) * 180 / Math.PI) : 0
			}
			var c = this.css("transform").match(/rotate\((.*?)\)/);
			return c && c[1] ? parseInt(c[1]) : 0
		}
		return this.css("transform", this.css("transform").replace(/none|rotate\(.*?\)/, "") + "rotate(" + parseInt(b) + "deg)"),
		this
	},
	a.fx.step.rotate = function (b) {
		b.state == 0 && (b.start = a(b.elem).rotate(), b.now = b.start),
		a(b.elem).rotate(b.now)
	};
	if (a.browser.msie && parseInt(a.browser.version) < 9) {
		var c = function (a) {
			var b = a,
			c = b.offsetLeft,
			d = b.offsetTop;
			while (b.offsetParent) {
				b = b.offsetParent;
				if (b != document.body && b.currentStyle["position"] != "static") break;
				b != document.body && b != document.documentElement && (c -= b.scrollLeft, d -= b.scrollTop),
				c += b.offsetLeft,
				d += b.offsetTop
			}
			return {
				x: c,
				y: d
			}
		},
		d = function (a) {
			if (a.currentStyle["position"] != "static") return;
			var b = c(a);
			a.style.position = "absolute",
			a.style.left = b.x + "px",
			a.style.top = b.y + "px"
		},
		e = function (a, b) {
			var c, e = 1,
			f = 1,
			g = 1,
			h = 1;
			if (typeof a.style["msTransform"] != "undefined") return !0;
			d(a),
			c = b.match(/rotate\((.*?)\)/);
			var i = c && c[1] ? parseInt(c[1]) : 0;
			i %= 360,
			i < 0 && (i = 360 + i);
			var j = i * Math.PI / 180,
			k = Math.cos(j),
			l = Math.sin(j);
			e *= k,
			f *= -l,
			g *= l,
			h *= k,
			a.style.filter = (a.style.filter || "").replace(/progid:DXImageTransform\.Microsoft\.Matrix\([^)]*\)/, "") + ("progid:DXImageTransform.Microsoft.Matrix(M11=" + e + ",M12=" + f + ",M21=" + g + ",M22=" + h + ",FilterType='bilinear',sizingMethod='auto expand')");
			var m = parseInt(a.style.width || a.width || 0),
			n = parseInt(a.style.height || a.height || 0),
			j = i * Math.PI / 180,
			o = Math.abs(Math.cos(j)),
			p = Math.abs(Math.sin(j)),
			q = (m - (m * o + n * p)) / 2,
			r = (n - (m * p + n * o)) / 2;
			return a.style.marginLeft = Math.floor(q) + "px",
			a.style.marginTop = Math.floor(r) + "px",
			!0
		},
		f = a.cssHooks.transform.set;
		a.cssHooks.transform.set = function (a, b) {
			return f.apply(this, [a, b]),
			e(a, b),
			b
		}
	}
}(jQuery),
elFinder.prototype.commands.rm = function () {
	this.shortcuts = [{
		pattern: "delete ctrl+backspace"
	}],
	this.getstate = function (b) {
		var c = this.fm;
		return b = b || c.selected(),
		!this._disabled && b.length && a.map(b, function (a) {
			var b = c.file(a);
			return b && b.phash && !b.locked ? a : null
		}).length == b.length ? 0 : -1
	},
	this.exec = function (b) {
		var c = this,
		d = this.fm,
		e = a.Deferred().fail(function (a) {
			a && d.error(a)
		}),
		f = this.files(b),
		g = f.length,
		h = d.cwd().hash,
		i = !1;
		return !g || this._disabled ? e.reject() : (a.each(f, function (a, b) {
			if (!b.phash) return !e.reject(["errRm", b.name, "errPerm"]);
			if (b.locked) return !e.reject(["errLocked", b.name]);
			b.hash == h && (i = d.root(b.hash))
		}), e.isRejected() || (f = this.hashes(b), d.confirm({
			title: c.title,
			text: "confirmRm",
			accept: {
				label: "btnRm",
				callback: function () {
					d.lockfiles({
						files: f
					}),
					d.request({
						data: {
							cmd: "rm",
							targets: f
						},
						notify: {
							type: "rm",
							cnt: g
						},
						preventFail: !0
					}).fail(function (a) {
						e.reject(a)
					}).done(function (a) {
						e.done(a),
						i && d.exec("open", i)
					}).always(function () {
						d.unlockfiles({
							files: f
						})
					})
				}
			},
			cancel: {
				label: "btnCancel",
				callback: function () {
					e.reject()
				}
			}
		})), e)
	}
},
elFinder.prototype.commands.search = function () {
	this.title = "Find files",
	this.options = {
		ui: "searchbutton"
	},
	this.alwaysEnabled = !0,
	this.updateOnSelect = !1,
	this.getstate = function () {
		return 0
	},
	this.exec = function (b) {
		var c = this.fm;
		return typeof b == "string" && b ? (c.trigger("searchstart", {
			query: b
		}), c.request({
			data: {
				cmd: "search",
				q: b
			},
			notify: {
				type: "search",
				cnt: 1,
				hideCnt: !0
			}
		})) : (c.getUI("toolbar").find("." + c.res("class", "searchbtn") + " :text").focus(), a.Deferred().reject())
	}
},
elFinder.prototype.commands.sort = function () {
	var b =
	this,
	c = ["nameDirsFirst", "kindDirsFirst", "sizeDirsFirst", "dateDirsFirst", "name", "kind", "size", "date"],
	d;
	this.options = {
		ui: "sortbutton"
	},
	this.value = 1,
	this.variants = [];
	for (d = 0; d < c.length; d++) this.variants.push([c[d], this.fm.i18n("sort" + c[d])]);
		this.disableOnSearch = !0,
	this.fm.bind("load sortchange", function () {
		b.value = c[b.fm.sort - 1],
		b.change()
	}),
	this.getstate = function () {
		return 0
	},
	this.exec = function (b, d) {
		var e = a.inArray(d, c) + 1 == this.fm.sort ? this.fm.sortDirect == "asc" ? "desc" : "asc" : this.fm.sortDirect;
		this.fm.setSort(d, e)
	}
},
elFinder.prototype.commands.up = function () {
	this.alwaysEnabled = !0,
	this.updateOnSelect = !1,
	this.shortcuts = [{
		pattern: "ctrl+up"
	}],
	this.getstate = function () {
		return this.fm.cwd().phash ? 0 : -1
	},
	this.exec = function () {
		return this.fm.cwd().phash ? this.fm.exec("open", this.fm.cwd().phash) : a.Deferred().reject()
	}
},
elFinder.prototype.commands.upload = function () {
	var b = this.fm.res("class", "hover");
	this.disableOnSearch = !0,
	this.updateOnSelect = !1,
	this.shortcuts = [{
		pattern: "ctrl+u"
	}],
	this.getstate = function () {
		return !this._disabled && this.fm.cwd().write ? 0 : -1
	},
	this.exec = function (c) {
		var d = this.fm,
		e = function (a) {
			g.elfinderdialog("close"),
			d.upload(a).fail(function (a) {
				f.reject(a)
			}).done(function (a) {
				f.resolve(a)
			})
		},
		f, g, h, i, j;
		return this.disabled() ? a.Deferred().reject() : c && (c.input || c.files) ? d.upload(c) : (f = a.Deferred(), h = a('<input type="file" multiple="true"/>').change(function () {
			e({
				input: h[0]
			})
		}), i = a('<div class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only"><span class="ui-button-text">' + d.i18n("selectForUpload") + "</span></div>").append(a("<form/>").append(h)).hover(function () {
			i.toggleClass(b)
		}), g = a('<div class="elfinder-upload-dialog-wrapper"/>').append(i), d.dragUpload && (j = a('<div class="ui-corner-all elfinder-upload-dropbox">' + d.i18n("dropFiles") + "</div>").prependTo(g).after('<div class="elfinder-upload-dialog-or">' + d.i18n("or") + "</div>")[0], j.addEventListener("dragenter", function (c) {
			c.stopPropagation(),
			c.preventDefault(),
			a(j).addClass(b)
		}, !1), j.addEventListener("dragleave", function (c) {
			c.stopPropagation(),
			c.preventDefault(),
			a(j).removeClass(b)
		}, !1), j.addEventListener("dragover", function (a) {
			a.stopPropagation(),
			a.preventDefault()
		}, !1), j.addEventListener("drop", function (a) {
			a.stopPropagation(),
			a.preventDefault(),
			e({
				files: a.dataTransfer.files
			})
		}, !1)), d.dialog(g, {
			title: this.title,
			modal: !0,
			resizable: !1,
			destroyOnClose: !0
		}), f)
}
},
elFinder.prototype.commands.view = function () {
	this.value = this.fm.storage("view"),
	this.alwaysEnabled = !0,
	this.updateOnSelect = !1,
	this.options = {
		ui: "viewbutton"
	},
	this.getstate = function () {
		return 0
	},
	this.exec = function () {
		var a = this.fm.storage("view", this.value == "list" ? "icons" : "list");
		this.fm.viewchange(),
		this.update(void 0, a)
	}
}
})(jQuery)